CGO_CFLAGS_ALLOW=-Xpreprocessor go get ./...
CGO_CFLAGS_ALLOW=-Xpreprocessor go build ./vips
CGO_CFLAGS_ALLOW=-Xpreprocessor go test -v ./...
?   	github.com/davidbyttow/govips/v2/examples/jpeg	[no test files]
VIPS 64 found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
VIPS 64 using configure-time prefix
VIPS 64 VIPS_PREFIX = /usr/local
VIPS 64 VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
VIPS 64 prefix = /usr/local
VIPS 64 libdir = /usr/local/lib/x86_64-linux-gnu
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
govips 64 vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
govips 64 registered image type loader type=jpeg
govips 64 registered image type loader type=pdf
govips 64 registered image type loader type=png
govips 64 registered image type loader type=svg
govips 64 registered image type loader type=webp
govips 64 registered image type loader type=gif
govips 64 registered image type loader type=magick
govips 64 registered image type loader type=tiff
govips 64 registered image type loader type=jp2k
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/image	(cached) [no tests to run]
?   	github.com/davidbyttow/govips/v2/examples/tiff	[no test files]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/logging	(cached) [no tests to run]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/thumbnail	(cached) [no tests to run]
=== RUN   Test_DetermineImageType__JPEG
2023/10/14 12:55:55 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 12:55:55 [VIPS.info] using configure-time prefix
2023/10/14 12:55:55 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 12:55:55 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] prefix = /usr/local
2023/10/14 12:55:55 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 12:55:55 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:55:55 [govips.info] registered image type loader type=pdf
2023/10/14 12:55:55 [govips.info] registered image type loader type=webp
2023/10/14 12:55:55 [govips.info] registered image type loader type=svg
2023/10/14 12:55:55 [govips.info] registered image type loader type=tiff
2023/10/14 12:55:55 [govips.info] registered image type loader type=jp2k
2023/10/14 12:55:55 [govips.info] registered image type loader type=gif
2023/10/14 12:55:55 [govips.info] registered image type loader type=jpeg
2023/10/14 12:55:55 [govips.info] registered image type loader type=magick
2023/10/14 12:55:55 [govips.info] registered image type loader type=png
--- PASS: Test_DetermineImageType__JPEG (0.01s)
=== RUN   Test_DetermineImageType__HEIF_HEIC
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_HEIC (0.00s)
=== RUN   Test_DetermineImageType__HEIF_MIF1
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_MIF1 (0.00s)
=== RUN   Test_DetermineImageType__PNG
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PNG (0.00s)
=== RUN   Test_DetermineImageType__TIFF
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__TIFF (0.00s)
=== RUN   Test_DetermineImageType__WEBP
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__WEBP (0.00s)
=== RUN   Test_DetermineImageType__SVG
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG (0.00s)
=== RUN   Test_DetermineImageType__SVG_1
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG_1 (0.00s)
=== RUN   Test_DetermineImageType__PDF
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PDF (0.00s)
=== RUN   Test_DetermineImageType__BMP
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__BMP (0.00s)
=== RUN   Test_DetermineImageType__AVIF
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__AVIF (0.00s)
=== RUN   Test_DetermineImageType__JP2K
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__JP2K (0.00s)
=== RUN   TestInitConfig
2023/10/14 12:55:55 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:55:55 [govips.info] libvips was forcibly started automatically, consider calling Startup/Shutdown yourself
2023/10/14 12:55:55 [govips.info] vips 8.15.0 started with concurrency=1 cache_max_files=0 cache_max_mem=52428800 cache_max=100
--- PASS: TestInitConfig (0.01s)
=== RUN   Test_ICCProfileInitialisation
--- PASS: Test_ICCProfileInitialisation (0.00s)
=== RUN   TestI_GIF_Animated_Pages
2023/10/14 12:55:55 [govips.info] warning libvips already started
--- PASS: TestI_GIF_Animated_Pages (0.00s)
=== RUN   TestImage_GIF_Animated
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:20
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 41 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005db00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x124b1a0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x124b1a0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000161e0, 0xc000061430?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc0000226c0?, {0x6a43ae, 0x1d}, 0x4f2314?, 0x0?, 0x0?, 0xc000745f60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated(0xc000082ea0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:20 +0x6a
        	            	testing.tRunner(0xc0000831e0, 0x6cb518)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated
--- FAIL: TestImage_GIF_Animated (0.00s)
=== RUN   TestImage_GIF_Animated_ExportNative
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:28
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 42 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x124b330, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x124b330, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016280, 0xc00005dc80?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000061590?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExportNative(0xc000082ea0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:28 +0x32
        	            	testing.tRunner(0xc000083380, 0x6cb4b8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExportNative
--- FAIL: TestImage_GIF_Animated_ExportNative (0.00s)
=== RUN   TestImage_GIF_Animated_to_WebP
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GIF_Animated_to_WebP (0.04s)
=== RUN   TestImage_GIF_Animated_Resize
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] residual scale 2 x 2
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:44
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 57 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x128f660, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x128f660, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de000, 0xc00002a000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0001580e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Resize(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:44 +0x37
        	            	testing.tRunner(0xc000782340, 0x6cb4e8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Resize
--- FAIL: TestImage_GIF_Animated_Resize (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate90
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:54
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 58 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x129e340, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x129e340, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de050, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x1?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate90(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:54 +0x39
        	            	testing.tRunner(0xc0007824e0, 0x6cb508)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate90
--- FAIL: TestImage_GIF_Animated_Rotate90 (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate270
2023/10/14 12:55:55 [govips.info] warning libvips already started
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000752000, length = 18146 out=((VipsImage*) 0x124b010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000756800, length = 18146 out=((VipsImage*) 0x124b1a0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00075b000, length = 18146 out=((VipsImage*) 0x124b330) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00075f800, length = 18146 out=((VipsImage*) 0x124b4c0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: cast in=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x124b650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x124b650) out=((VipsImage*) 0x124b7e0) -
vips cache+: linecache in=((VipsImage*) 0x124be20) out=((VipsImage*) 0x7fd9780081a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x124be20) out=((VipsImage*) 0x7fd978008010) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x124b4c0) buffer=VIPS_TYPE_BLOB, data = 0x1274cb0, length = 4996 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000098000, length = 4996 out=((VipsImage*) 0x124b970) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ca000, length = 18146 out=((VipsImage*) 0x124b7e0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x7fd9780084c0) -
vips cache+: premultiply in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x7fd978008330) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x7fd9780087e0) -
vips cache : copy in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: embed in=((VipsImage*) 0x7fd978008b00) out=((VipsImage*) 0x7fd978008c90) x=2 y=2 width=126 height=389 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x128f340) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x128f1b0) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x128f4d0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x128f660) -
vips cache+: affine in=((VipsImage*) 0x7fd9780087e0) interpolate=((VipsInterpolateBicubic*) 0x12c5000) out=((VipsImage*) 0x7fd978008970) matrix=2 0 0 2  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x7fd978008650) kernel=((VipsKernel) VIPS_KERNEL_CUBIC) scale=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd978008650) out=((VipsImage*) 0x128fb10) -
vips cache : copy in=((VipsImage*) 0x128fb10) out=((VipsImage*) 0x128f7f0) -
vips cache+: unpremultiply in=((VipsImage*) 0x128fb10) out=((VipsImage*) 0x7fd978008e20) -
vips cache : copy in=((VipsImage*) 0x7fd978008e20) out=((VipsImage*) 0x128fca0) -
vips cache+: cast in=((VipsImage*) 0x7fd978008e20) out=((VipsImage*) 0x128f660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ce800, length = 18146 out=((VipsImage*) 0x128fe30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: grid in=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x129e020) tile-height=128 across=8 down=1 -
vips cache+: rot in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x129e1b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x129e340) -
vips cache+: gifload_buffer buf    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:64
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 59 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x129eca0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x129eca0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de0a0, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x3?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate270(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:64 +0x39
        	            	testing.tRunner(0xc000782680, 0x6cb4f8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate270
--- FAIL: TestImage_GIF_Animated_Rotate270 (0.00s)
=== RUN   TestImage_GIF_Animated_Embed
2023/10/14 12:55:55 [govips.info] warning libvips already started
fer=VIPS_TYPE_BLOB, data = 0xc0001d3000, length = 18146 out=((VipsImage*) 0x129e4d0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: flip in=((VipsImage*) 0x129e4d0) out=((VipsImage*) 0x129e660) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: grid in=((VipsImage*) 0x129e660) out=((VipsImage*) 0x129e7f0) tile-height=128 across=8 down=1 -
vips cache+: flip in=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x129e980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: rot in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x129eb10) angle=((VipsAngle) VIPS_ANGLE_D270) -
vips cache : copy in=((VipsImage*) 0x129eb10) out=((VipsImage*) 0x129eca0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d7800, length = 18146 out=((VipsImage*) 0x129ee30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5190) left=0 top=0 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12d5190) out=((VipsImage*) 0x12d5320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d54b0) left=0 top=128 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12d54b0) out=((VipsImage*) 0x12d5640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d57d0) left=0 top=256 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12d57d0) out=((VipsImage*) 0x12d5960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5af0) left=0 top=384 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12d5af0) out=((VipsImage*) 0x12d5c80) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5e10) left=0 top=512 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12d5e10) out=((VipsImage*) 0x12e2000) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e2190) left=0 top=640 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12e2190) out=((VipsImage*) 0x12e2320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e24b0) left=0 top=768 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12e24b0) out=((VipsImage*) 0x12e2640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e27d0) left=0 top=896 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12e27d0) out=((VipsImage*) 0x12e2960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: embed in=((VipsImage*) 0x12d5320) out=((VipsImage*) 0x12e2c80) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x12e2e10) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12d5960) out=((VipsImage*) 0x12f5020) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x12f51b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x12f5340) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x12f54d0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12e26    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:74
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 60 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12f5980, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12f5980, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de0f0, 0xc00005dc10?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000158560?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Embed(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:74 +0x39
        	            	testing.tRunner(0xc000782820, 0x6cb4b0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Embed
--- FAIL: TestImage_GIF_Animated_Embed (0.00s)
=== RUN   TestImage_GIF_Animated_EmbedBackground
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
40) out=((VipsImage*) 0x12f5660) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x12f57f0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x12ee980) out=((VipsImage*) 0x12e2af0) across=1 -
vips cache : copy in=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x12f5980) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000232000, length = 18146 out=((VipsImage*) 0x12f5b10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x12f5ca0) left=0 top=0 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x130a340) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x130a1b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x130a660) -
vips cache+: cast in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x130a4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130a4d0) out=((VipsImage*) 0x130a7f0) -
vips cache+: embed in=((VipsImage*) 0x12f5ca0) out=((VipsImage*) 0x12f5e30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x130ab10) left=0 top=128 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x130a980) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x130a020) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x131a020) -
vips cache+: cast in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x130a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x131a1b0) -
vips cache+: embed in=((VipsImage*) 0x130ab10) out=((VipsImage*) 0x130aca0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x131a4d0) left=0 top=256 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x131a660) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x131a1b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x131a1b0) out=((VipsImage*) 0x131a980) -
vips cache+: cast in=((VipsImage*) 0x131a1b0) out=((VipsImage*) 0x131a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131a7f0) out=((VipsImage*) 0x131ab10) -
vips cache+: embed in=((VipsImage*) 0x131a4d0) out=((VipsImage*) 0x130ae30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x131ae30) left=0 top=384 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x131aca0) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x131a340) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x1325340) -
vips cache+: cast in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x131ab10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x13254d0) -
vips cache+: embed in=((VipsImage*) 0x131ae30) out=((VipsImage*) 0x1325020) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x13257f0) left=0 top=512 width=121 height=128 -
vips cache*2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1325980) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x13254d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x1325ca0) -
vips cache+: cast in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x1325b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x1325e30) -
vips cache+: embed in=((VipsImage*) 0x13257f0) out=((VipsImage*) 0x13251b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x1337190) left=0 top=640 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1337000) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1325660) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x1337640) -
vips cache+: cast in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x1325e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x13377d0) -
vips cache+: embed in=((VipsImage*) 0x1337190) out=((VipsImage*) 0x1337320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x1337af0) left=0 top=768 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1337c80) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x13377d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x1342010) -
vips cache+: cast in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x1337e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x13421a0) -
vips cache+: embed in=((VipsImage*) 0x1337af0) out=((VipsImage*) 0x13374b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x13424c0) left=0 top=896 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1342330) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1337960) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1337960) out=((VipsImage*) 0x1342970) -
vips cache+: cast in=((VipsImage*) 0x1337960) out=((VipsImage*) 0x13421a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x1342b00) -
vips cache+: embed in=((VipsImage*) 0x13424c0) out=((VipsImage*) 0x1342650) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: embed in=((VipsImage*) 0x12f5e30) out=((VipsImage*) 0x13427e0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x1342c90) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x130ae30) out=((VipsImage*) 0x1342b00) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1325020) out=((VipsImage*) 0x1355000) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x13251b0) out=((VipsImage*) 0x1355190) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1337320) out=((VipsImage*) 0x135532    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:84
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 61 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x13557d0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x13557d0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de140, 0xc00005dc30?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xffffc0001586c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_EmbedBackground(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:84 +0x39
        	            	testing.tRunner(0xc0007829c0, 0x6cb4a8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_EmbedBackground
--- FAIL: TestImage_GIF_Animated_EmbedBackground (0.00s)
=== RUN   TestImage_GIF_Animated_ExtractArea
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:96
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 62 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x137d4c0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x137d4c0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de190, 0xc00013cd00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0001589a0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000745f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000745f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExtractArea(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:96 +0x39
        	            	testing.tRunner(0xc000782b60, 0x6cb4c8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExtractArea
--- FAIL: TestImage_GIF_Animated_ExtractArea (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:106
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 63 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x1355af0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x1355af0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de1e0, 0xc00013cd00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0001dd3c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82ba88?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:106 +0x4e
        	            	testing.tRunner(0xc000782d00, 0x6cb4d8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay
--- FAIL: TestImage_GIF_Animated_PageDelay (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay2
2023/10/14 12:55:55 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:122
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 64 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x128f1b0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x128f1b0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0001de230, 0xc00013cd00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0001dd780?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82ba88?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay2(0xc00009e9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:122 +0x4c
        	            	testing.tRunner(0xc000782ea0, 0x6cb4d0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay2
--- FAIL: TestImage_GIF_Animated_PageDelay2 (0.00s)
=== RUN   TestImage_PNG_64bit_OptimizeICCProfile
2023/10/14 12:55:55 [govips.info] warning libvips already started
0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x13374b0) out=((VipsImage*) 0x13554b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x1355640) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x134a710) out=((VipsImage*) 0x1342e20) across=1 -
vips cache : copy in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x13557d0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000236800, length = 18146 out=((VipsImage*) 0x1355960) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x12d5000) left=10 top=20 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x1355c80) left=10 top=148 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x1355e10) left=10 top=276 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136b020) left=10 top=404 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136b1b0) left=10 top=532 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136b340) left=10 top=660 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136b4d0) left=10 top=788 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136b660) left=10 top=916 width=80 height=90 -
vips cache+: embed in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x136b980) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1355c80) out=((VipsImage*) 0x136bb10) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x136bca0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x136b020) out=((VipsImage*) 0x136be30) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x136b1b0) out=((VipsImage*) 0x124b650) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x137d010) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x137d1a0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x136b660) out=((VipsImage*) 0x137d330) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x1367ac0) out=((VipsImage*) 0x136b7f0) across=1 -
vips cache : copy in=((VipsImage*) 0x136b7f0) out=((VipsImage*) 0x137d4c0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00023b000, length = 18146 out=((VipsImage*) 0x1355af0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00023f800, length = 18146 out=((VipsImage*) 0x128f1b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 337976 out=((VipsImage*) 0x128f4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x13a0eb0, length = 456 -
vips cache : copy in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x137d650) -
vips cache+: extract_band in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x128f340) band=0 n=3 -
vips cache : copy in=((Vips2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_PNG_64bit_OptimizeICCProfile (0.13s)
=== RUN   TestImage_Resize_Downscale
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] residual reducev by 0.9
2023/10/14 12:55:55 [VIPS.info] reducev: 7 point mask
2023/10/14 12:55:55 [VIPS.info] reducev: using vector path
2023/10/14 12:55:55 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:55:55 [VIPS.info] reduceh: 7 point mask
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale (0.03s)
=== RUN   TestImage_Resize_Upscale
2023/10/14 12:55:55 [govips.info] warning libvips already started
Image*) 0x128f4d0) out=((VipsImage*) 0x137d970) -
vips cache+: extract_band in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x137d7e0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x13a0eb0, length = 456 -
vips cache+: cast in=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x137dc90) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x13e7020) -
vips cache : copy in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x13e71b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x13a84d0) out=((VipsImage*) 0x137de20) -
vips cache+: icc_transform in=((VipsImage*) 0x128f4d0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x137de20) output-profile="/tmp/govips-2699648413/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=16 -
vips cache+: cast in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x13e7340) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache+: cast in=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x13e74d0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x13e74d0) out=((VipsImage*) 0x13e7660) -
vips cache+: linecache in=((VipsImage*) 0x13e7b10) out=((VipsImage*) 0x13e7e30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13e7b10) out=((VipsImage*) 0x13e7ca0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x137de20) buffer=VIPS_TYPE_BLOB, data = 0x13f2ab0, length = 389465 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002d4000, length = 389465 out=((VipsImage*) 0x13e77f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d2000, length = 1259 out=((VipsImage*) 0x13e7660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13e7660) out=((VipsImage*) 0x13fb1a0) -
vips cache : copy in=((VipsImage*) 0x13fb1a0) out=((VipsImage*) 0x13fb4c0) -
vips cache+: embed in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x13fb650) x=0 y=3 width=100 height=107 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x13fb1a0) out=((VipsImage*) 0x13fb330) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x13fb330) out=((VipsImage*) 0x13fbb00) -
vips cache+: embed in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x13fbc90) x=3 y=0 width=107 height=90 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x13fb330) out=((VipsImage*) 0x13fb970) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13e7660) out=((VipsImage*) 0x13fb010) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x13fb010) out=((VipsImage*) 0x13fbe20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x1421020) -
vips cache+: linecache in=((VipsImage*) 0x14214d0) out=((VipsImage*) 0x14217f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14214d0) out=((VipsImage*) 0x1421660) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1421660) out=((VipsImage*) 0x1421980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13fb010) buffer=VIPS_TYPE_BLOB, data = 0x14325d0, length = 1175 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d2500, length = 1175 out=((VipsImage*) 0x14211b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, d2023/10/14 12:55:55 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale (0.03s)
=== RUN   TestImage_Resize_Downscale_Alpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] residual reducev by 0.9
2023/10/14 12:55:55 [VIPS.info] reducev: 7 point mask
2023/10/14 12:55:55 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:55:55 [VIPS.info] reduceh: 7 point mask
ata = 0xc000346500, length = 1259 out=((VipsImage*) 0x1421020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1421020) out=((VipsImage*) 0x143e190) -
vips cache : copy in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x143e4b0) -
vips cache+: embed in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x143e640) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x143e960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x143e960) out=((VipsImage*) 0x143ec80) -
vips cache+: linear in=((VipsImage*) 0x143e960) out=((VipsImage*) 0x143eaf0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x1448020) -
vips cache+: cast in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x143ee10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x14481b0) -
vips cache+: affine in=((VipsImage*) 0x143e190) interpolate=((VipsInterpolateBicubic*) 0x12c5050) out=((VipsImage*) 0x143e320) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x1421020) out=((VipsImage*) 0x143e000) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x143e000) out=((VipsImage*) 0x1448660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x14487f0) -
vips cache+: linecache in=((VipsImage*) 0x1421ca0) out=((VipsImage*) 0x1448980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1421ca0) out=((VipsImage*) 0x1421e30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x1448b10) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143e000) buffer=VIPS_TYPE_BLOB, data = 0x1452510, length = 1266 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000346a00, length = 1266 out=((VipsImage*) 0x14487f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007bc000, length = 12858 out=((VipsImage*) 0x7fd9740051a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9740051a0) out=((VipsImage*) 0x7fd9740054c0) -
vips cache+: premultiply in=((VipsImage*) 0x7fd9740051a0) out=((VipsImage*) 0x7fd974005330) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x7fd974005650) -
vips cache : copy in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd974005970) -
vips cache+: embed in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x7fd974005b00) x=0 y=3 width=828 height=329 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd9740057e0) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x124b970) -
vips cache+: embed in=((VipsImage*) 0x124b970) out=((VipsImage*) 0x124bb00) x=3 y=0 width=835 height=290 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x124bc90) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x7fd974005010) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache : copy in=((VipsImage*) 0x7fd974005010) out=((VipsImage*) 0x130a1b0) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd974005010) out=((VipsImage*) 0x130a660) -
vips cache : copy in=((VipsImage*) 0x130a660) out=((VipsImage*) 0x130a4d0) -
vips cache+: cast in=((VipsImage*) 0x130a660) out=((Vi2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale_Alpha (0.06s)
=== RUN   TestImage_Resize_Upscale_Alpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale_Alpha (0.07s)
=== RUN   TestImage_Embed_ExtendWhite_Alpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
psImage*) 0x130a340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x129e660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129e660) out=((VipsImage*) 0x129e4d0) -
vips cache+: cast in=((VipsImage*) 0x129e4d0) out=((VipsImage*) 0x12f5980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x128f980) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x7fd978008970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x130a340) buffer=VIPS_TYPE_BLOB, data = 0x7fd974097d80, length = 76731 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00034a000, length = 76731 out=((VipsImage*) 0x131a020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007bf500, length = 12858 out=((VipsImage*) 0x131a980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x131a980) out=((VipsImage*) 0x130a980) -
vips cache+: premultiply in=((VipsImage*) 0x131a980) out=((VipsImage*) 0x130a020) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x131a1b0) -
vips cache : copy in=((VipsImage*) 0x131a1b0) out=((VipsImage*) 0x131a7f0) -
vips cache+: embed in=((VipsImage*) 0x131a7f0) out=((VipsImage*) 0x12e2af0) x=2 y=2 width=833 height=327 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x7fd9780084c0) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x7fd978008330) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x124b7e0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x1325340) -
vips cache+: affine in=((VipsImage*) 0x131a1b0) interpolate=((VipsInterpolateBicubic*) 0x12c5a80) out=((VipsImage*) 0x131a660) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x130a7f0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache : copy in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x7fd9780087e0) -
vips cache+: unpremultiply in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x131ab10) -
vips cache : copy in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x1325340) -
vips cache+: cast in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x131a340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x1325ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x13254d0) -
vips cache+: cast in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x1325980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7fd978008b00) out=((VipsImage*) 0x129e1b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd978008b00) out=((VipsImage*) 0x129e340) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x131a340) buffer=VIPS_TYPE_BLOB, data = 0x7fd97405a650, length = 78342 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d8000, length = 78342 out=((VipsImage*) 0x1325b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b6000, length = 12858 out=((VipsImage*) 0x129eb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed_ExtendWhite_Alpha (0.04s)
=== RUN   TestImage_EmbedBackgroundRGBA_Alpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
((VipsImage*) 0x129eb10) out=((VipsImage*) 0x129e980) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: cast in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x13377d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x1337c80) -
vips cache+: cast in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x1337e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x1325660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x1337640) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x129e980) buffer=VIPS_TYPE_BLOB, data = 0x7fd97406c350, length = 29794 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b6000, length = 29794 out=((VipsImage*) 0x129eca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x1342010) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1342010) out=((VipsImage*) 0x129e7f0) -
vips cache : copy in=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x12e2960) -
vips cache+: cast in=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x12f57f0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x12e2000) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x12f5340) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x129eca0) out-array=255 255 255 255  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b9500, length = 12858 out=((VipsImage*) 0x12e2640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x12d5960) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x12f5020) a=1  b=238 238 238 50  -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x12d5640) -
vips cache+: cast in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x12e2e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x12e2c80) -
vips cache+: embed in=((VipsImage*) 0x12e2640) out=((VipsImage*) 0x12f51b0) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 50  -
vips cache+: cast in=((VipsImage*) 0x12f51b0) out=((VipsImage*) 0x1355320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1355320) out=((VipsImage*) 0x1337320) -
vips cache+: cast in=((VipsImage*) 0x1337320) out=((VipsImage*) 0x1355190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x1337960) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x1342970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12f51b0) buffer=VIPS_TYPE_BLOB, data = 0x7fd974089b70, length = 29986 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e8000, length = 29986 out=((VipsImage*) 0x1355640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1355640) out=((VipsImage*) 0x1342650) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x13554b0) -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x13251b0) -
vips cache+: cast in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x13374b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: 2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackgroundRGBA_Alpha (0.04s)
=== RUN   TestImage_EmbedBackground_Alpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_Alpha (0.04s)
=== RUN   TestImage_EmbedBackground_NoAlpha
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
linecache in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x12f5e30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x13427e0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x1355640) out-array=238 238 238 50  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000bca00, length = 12858 out=((VipsImage*) 0x1342b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x128f020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x12d5c80) -
vips cache+: linear in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x1342e20) a=1  b=238 238 238 255  -
vips cache : copy in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x12e2c80) -
vips cache+: cast in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x12d5320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12d5320) out=((VipsImage*) 0x13557d0) -
vips cache+: embed in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x130ae30) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 255  -
vips cache+: cast in=((VipsImage*) 0x130ae30) out=((VipsImage*) 0x124b010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x124b010) out=((VipsImage*) 0x124b1a0) -
vips cache+: cast in=((VipsImage*) 0x124b1a0) out=((VipsImage*) 0x1325020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x124b4c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x124b330) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x130ae30) buffer=VIPS_TYPE_BLOB, data = 0x7fd974124540, length = 29987 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f8000, length = 29987 out=((VipsImage*) 0x13557d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x13557d0) out=((VipsImage*) 0x1355af0) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1355af0) out=((VipsImage*) 0x137d4c0) -
vips cache : copy in=((VipsImage*) 0x137d4c0) out=((VipsImage*) 0x136b1b0) -
vips cache+: cast in=((VipsImage*) 0x137d4c0) out=((VipsImage*) 0x128f1b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x136bb10) out=((VipsImage*) 0x7fd9780081a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x136bb10) out=((VipsImage*) 0x7fd978008010) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x13557d0) out-array=238 238 238 255  x=999 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d2a00, length = 1259 out=((VipsImage*) 0x136b020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x143e960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x143e960) out=((VipsImage*) 0x12d5000) -
vips cache+: linear in=((VipsImage*) 0x143e960) out=((VipsImage*) 0x136b980) a=1  b=238  -
vips cache : copy in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x7fd974005c90) -
vips cache+: cast in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x136b7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x136b7f0) out=((VipsImage*) 0x7fd974005e20) -
vips cache+: embed in=((VipsImage*) 0x136b020) out=((VipsImage*) 0x136bca0) x=0 y=0 width=500 height=300 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238  -
vips cache+: cast in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x7fd9740b91a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x128f4d0) -
vips cache+: linecache in=((VipsImage*) 0x137d010) out=((VipsImage*) 0x124b650) tile-height2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_NoAlpha (0.03s)
=== RUN   TestImage_TransformICCProfile_RGB_No_Profile
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_No_Profile (0.03s)
=== RUN   TestImage_TransformICCProfile_RGB_Embedded
2023/10/14 12:55:55 [govips.info] warning libvips already started
=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137d010) out=((VipsImage*) 0x136b340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x136b340) out=((VipsImage*) 0x137d330) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x136bca0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9740c08c0, length = 2267 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000126900, length = 2267 out=((VipsImage*) 0x13e7340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x137de20) left=499 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x128f340) -
vips cache : copy in=((VipsImage*) 0x128f340) out=((VipsImage*) 0x128f4d0) -
vips cache+: cast in=((VipsImage*) 0x128f340) out=((VipsImage*) 0x137d650) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x137db00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x13e7020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x13e7020) out=((VipsImage*) 0x13e74d0) left=0 top=0 width=500 height=300 -
vips cache+: getpoint in=((VipsImage*) 0x13e7340) out-array=238 238 238  x=499 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000346000, length = 1259 out=((VipsImage*) 0x13fbc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd9740d1250, length = 3048 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd9740d1250, length = 3048 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd9740d1250, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x13fbc90) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x13fbb00) output-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" embedded=FALSE input-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x14214d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14214d0) out=((VipsImage*) 0x1421660) -
vips cache+: linecache in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x13e77f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x137d1a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x13e7e30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13fbb00) buffer=VIPS_TYPE_BLOB, data = 0x7fd9740de380, length = 4306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000840000, length = 4306 out=((VipsImage*) 0x14211b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 1297581 out=((VipsImage*) 0x143ee10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd9740d1250, length = 3048 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd9740d1250, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x143ee10) intent=((VipsIntent) VIPS_IN2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_Embedded (0.13s)
=== RUN   TestImage_OptimizeICCProfile_CMYK
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_CMYK (0.13s)
=== RUN   TestImage_OptimizeICCProfile_RGB_No_Profile
2023/10/14 12:55:56 [govips.info] warning libvips already started
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
TENT_PERCEPTUAL) out=((VipsImage*) 0x1421980) output-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x1421980) out=((VipsImage*) 0x13fb010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13fb010) out=((VipsImage*) 0x143e320) -
vips cache+: linecache in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1421020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x143e190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x143e190) out=((VipsImage*) 0x1421b10) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1421980) buffer=VIPS_TYPE_BLOB, data = 0x7fd97483e500, length = 303700 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020c000, length = 303700 out=((VipsImage*) 0x14484d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005be000, length = 792059 out=((VipsImage*) 0x143e640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="cmyk" profile=VIPS_TYPE_BLOB, data = 0x7fd974273240, length = 961644 -
vips cache+: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x143e640) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x143e4b0) output-profile="/tmp/govips-2699648413/srgb_v2_micro.icc" embedded=FALSE input-profile="cmyk" depth=8 -
vips cache+: cast in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x14487f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14487f0) out=((VipsImage*) 0x143e320) -
vips cache+: linecache in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x1421ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x1448980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1448980) out=((VipsImage*) 0x1448b10) left=0 top=0 width=1080 height=1080 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143e4b0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9741eb1c0, length = 36376 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d2000, length = 36376 out=((VipsImage*) 0x143e000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d2000, length = 1259 out=((VipsImage*) 0x143e320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x143e320) out=((VipsImage*) 0x1448660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x130a4d0) -
vips cache+: linecache in=((VipsImage*) 0x124bb00) out=((VipsImage*) 0x7fd9740057e0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x124bb00) out=((VipsImage*) 0x124b970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x124b970) out=((VipsImage*) 0x128f980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143e320) buffer=VIPS_TYPE_BLOB, data = 0x7fd9741f4750, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subs--- PASS: TestImage_OptimizeICCProfile_RGB_No_Profile (0.03s)
=== RUN   TestImage_OptimizeICCProfile_RGB_Embedded
2023/10/14 12:55:56 [govips.info] warning libvips already started
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_RGB_Embedded (0.12s)
=== RUN   TestImageRef_PngToWebp_OptimizeICCProfile_Lossless
2023/10/14 12:55:56 [govips.info] warning libvips already started
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:56 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PngToWebp_OptimizeICCProfile_Lossless (1.99s)
=== RUN   TestImage_OptimizeICCProfile_Grey
2023/10/14 12:55:58 [govips.info] warning libvips already started
ample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d2500, length = 1240 out=((VipsImage*) 0x130a660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000880000, length = 1297581 out=((VipsImage*) 0x130a1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x130a1b0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x7fd974005010) output-profile="/tmp/govips-2699648413/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x7fd974005010) out=((VipsImage*) 0x130a4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130a4d0) out=((VipsImage*) 0x129e4d0) -
vips cache+: linecache in=((VipsImage*) 0x7fd978008970) out=((VipsImage*) 0x124be20) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd978008970) out=((VipsImage*) 0x131a020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd974005b00) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd974005010) buffer=VIPS_TYPE_BLOB, data = 0x7fd974bd7020, length = 301063 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 301063 out=((VipsImage*) 0x129e660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009be000, length = 1688166 out=((VipsImage*) 0x130a340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x130a340) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x129e4d0) output-profile="/tmp/govips-2699648413/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x129e4d0) out=((VipsImage*) 0x7fd974005330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x131ab10) -
vips cache+: linecache in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd9780084c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd978008330) tile-height=16 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd97444e330, length = 456 -
vips cache : webpsave_buffer in=((VipsImage*) 0x129e4d0) buffer=VIPS_TYPE_BLOB, data = 0x7fd974ab5340, length = 1154020 Q=90 lossless=TRUE profile="/tmp/govips-2699648413/srgb_v2_micro.icc" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b5c000, length = 1154020 out=((VipsImage*) 0x13254d0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003ea000, length = 73046 out=((VipsImage*) 0x131ab10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-2699648413/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd974058d80, length = 336 -
vips cache*: profile_load name="/tmp/govips2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_Grey (0.04s)
=== RUN   TestImage_RemoveICCProfile
2023/10/14 12:55:58 [govips.info] warning libvips already started
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_RemoveICCProfile (0.03s)
=== RUN   TestImage_RemoveMetadata_Removes_Exif
2023/10/14 12:55:58 [govips.info] warning libvips already started
2023/10/14 12:55:58 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:197
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_RemoveMetadata_Removes_Exif
--- FAIL: TestImage_RemoveMetadata_Removes_Exif (0.00s)
=== RUN   TestImage_SetExifField
2023/10/14 12:55:58 [govips.info] warning libvips already started
2023/10/14 12:55:58 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:213
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_SetExifField
--- FAIL: TestImage_SetExifField (0.00s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Orientation
2023/10/14 12:55:58 [govips.info] warning libvips already started
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Orientation (0.03s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Copyright
2023/10/14 12:55:58 [govips.info] warning libvips already started
-2699648413/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd974058d80, length = 336 -
vips cache+: icc_transform in=((VipsImage*) 0x131ab10) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x7fd9780087e0) output-profile="/tmp/govips-2699648413/sgray_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x130a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x129e980) -
vips cache+: linecache in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x129e340) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd978008b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd978008b00) out=((VipsImage*) 0x1325660) left=0 top=0 width=640 height=416 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9780087e0) buffer=VIPS_TYPE_BLOB, data = 0x7fd974a2fd50, length = 56581 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e0000, length = 56581 out=((VipsImage*) 0x129eb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000160000, length = 1617 out=((VipsImage*) 0x129e020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x131a660) -
vips cache+: cast in=((VipsImage*) 0x131a660) out=((VipsImage*) 0x129e980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x1337c80) -
vips cache+: linecache in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x1325b10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x1337e10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x1342010) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x131a660) buffer=VIPS_TYPE_BLOB, data = 0x7fd974269c30, length = 1076 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000122480, length = 1076 out=((VipsImage*) 0x13377d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d2000, length = 34855 out=((VipsImage*) 0x1337c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x12d5640) -
vips cache+: cast in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x12f5020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x12d5960) -
vips cache+: linecache in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x12f5660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x1325340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1325340) out=((VipsImage*) 0x1355320) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12d5640) buffer=VIPS_TYPE_BLOB, data = 0x7fd9749ee0e0, length = 28255 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 28255 out=((VipsImage*) 0x12e2e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Copyright (0.04s)
=== RUN   TestImageRef_Orientation_Issue
2023/10/14 12:55:58 [govips.info] warning libvips already started
2023/10/14 12:55:58 [VIPS.info] residual reducev by 0.9
2023/10/14 12:55:58 [VIPS.info] reducev: 7 point mask
2023/10/14 12:55:58 [VIPS.info] reducev: using vector path
2023/10/14 12:55:58 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:55:58 [VIPS.info] reduceh: 7 point mask
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:58 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Orientation_Issue (1.20s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Profile
2023/10/14 12:55:59 [govips.info] warning libvips already started
, data = 0xc00035e000, length = 62222 out=((VipsImage*) 0x12f51b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12f51b0) out=((VipsImage*) 0x12e2640) -
vips cache+: cast in=((VipsImage*) 0x12e2640) out=((VipsImage*) 0x1337000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337000) out=((VipsImage*) 0x1355190) -
vips cache+: linecache in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x1337320) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x129e7f0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x12f54d0) left=0 top=0 width=1000 height=667 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12e2640) buffer=VIPS_TYPE_BLOB, data = 0x7fd9642178f0, length = 19235 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020e000, length = 19235 out=((VipsImage*) 0x1355190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000f4a000, length = 3103940 out=((VipsImage*) 0x13251b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13251b0) out=((VipsImage*) 0x1342650) -
vips cache : copy in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x1355000) -
vips cache+: embed in=((VipsImage*) 0x1355000) out=((VipsImage*) 0x13374b0) x=0 y=3 width=4032 height=3031 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x1355640) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x1355640) out=((VipsImage*) 0x12f5e30) -
vips cache+: embed in=((VipsImage*) 0x12f5e30) out=((VipsImage*) 0x130aca0) x=3 y=0 width=4039 height=2722 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1355640) out=((VipsImage*) 0x13427e0) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13251b0) out=((VipsImage*) 0x13554b0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x1342e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x130ae30) -
vips cache+: linecache in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x1342b00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x12e2320) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x1342330) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x13554b0) buffer=VIPS_TYPE_BLOB, data = 0x7fd964195420, length = 412220 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 412220 out=((VipsImage*) 0x1448e30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 187806 out=((VipsImage*) 0x12f57f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12f57f0) out=((VipsImage*) 0x1337000) -
vips cache+: cast in=((VipsImage*) 0x1337000) out=((VipsImage*) 0x12e2e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x1325340) -
vips cache+: linecache in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x13421a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Profile (0.04s)
=== RUN   TestImage_AutoRotate_0
2023/10/14 12:55:59 [govips.info] warning libvips already started
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:279: 
        	Error Trace:	image_golden_test.go:279
        	            				image_golden_test.go:966
        	            				image_golden_test.go:274
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 1
        	Test:       	TestImage_AutoRotate_0
--- FAIL: TestImage_AutoRotate_0 (0.11s)
=== RUN   TestImage_AutoRotate_1
2023/10/14 12:55:59 [govips.info] warning libvips already started
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_1 (0.12s)
=== RUN   TestImage_AutoRotate_5
2023/10/14 12:55:59 [govips.info] warning libvips already started
) 0x12e2c80) out=((VipsImage*) 0x124b4c0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x124b330) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1337000) buffer=VIPS_TYPE_BLOB, data = 0x7fd9940db4d0, length = 65299 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002da000, length = 65299 out=((VipsImage*) 0x1325340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004ae000, length = 135059 out=((VipsImage*) 0x12e2e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x131a340) -
vips cache+: autorot in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x12f5660) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x12f5660) out=((VipsImage*) 0x1355320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1355320) out=((VipsImage*) 0x12d5640) -
vips cache+: cast in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x1337c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x1342010) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x1337640) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12f5660) buffer=VIPS_TYPE_BLOB, data = 0x7fd994115000, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004d0000, length = 223227 out=((VipsImage*) 0x12f5020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000540000, length = 459699 out=((VipsImage*) 0x13377d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x12d5640) -
vips cache+: autorot in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x129eca0) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x1355320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1355320) out=((VipsImage*) 0x1337c80) -
vips cache+: linecache in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x129e980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x128fe30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x129eb10) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x129eca0) buffer=VIPS_TYPE_BLOB, data = 0x7fd994ccd0a0, length = 534950 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005b2000, length = 534950 out=((VipsImage*) 0x1337c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ba000, length = 34855 out=((VipsImage*) 0x143e7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x143e7d0) out=((VipsImage*) 0x14481b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: flip in=((VipsImage*) 0x14481b0) out=((VipsImage*) 0x129e980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x129e020) -
vips cache+: autorot in=((VipsImage*) 0x143e7d0) out=((VipsImage*) 0x1448340) angle=((VipsAngle) VIPS_ANGLE_2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_5 (0.03s)
=== RUN   TestImage_AutoRotate_6
2023/10/14 12:55:59 [govips.info] warning libvips already started
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:59 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_6 (0.26s)
=== RUN   TestImage_AutoRotate_6__jpeg_to_webp
2023/10/14 12:56:00 [govips.info] warning libvips already started
2023/10/14 12:56:00 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:00 [VIPS.info] threadpool completed with 1 workers
D90) flip=TRUE -
vips cache+: cast in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x1337c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x12f5020) -
vips cache+: linecache in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x1448e30) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x129e1b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x130a4d0) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1448340) buffer=VIPS_TYPE_BLOB, data = 0x13deac0, length = 28411 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e0000, length = 28411 out=((VipsImage*) 0x12f5020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000880000, length = 2980637 out=((VipsImage*) 0x12e2c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x12f5660) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x12f5660) out=((VipsImage*) 0x131a340) -
vips cache+: autorot in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x1325340) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x1325340) out=((VipsImage*) 0x12e2e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x1337e10) -
vips cache+: linecache in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x13554b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x1325b10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x13427e0) left=0 top=0 width=4032 height=3024 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1325340) buffer=VIPS_TYPE_BLOB, data = 0x3737a30, length = 782608 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000636000, length = 782608 out=((VipsImage*) 0x1337640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c18000, length = 2980637 out=((VipsImage*) 0x1342010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x1342010) out=((VipsImage*) 0x12f5e30) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x12f5e30) out=((VipsImage*) 0x1355640) -
vips cache+: autorot in=((VipsImage*) 0x1342010) out=((VipsImage*) 0x1337e10) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x1342c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x13374b0) -
vips cache+: linecache in=((VipsImage*) 0x1355000) out=((VipsImage*) 0x13251b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1355000) out=((VipsImage*) 0x1342650) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1342650) out=((VipsImage*) 0x12f5340) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x1337e10) buffer=VIPS_TYPE_BLOB, data = 0x37667b0, length = 192026 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 192026 out=((VipsIma--- PASS: TestImage_AutoRotate_6__jpeg_to_webp (1.11s)
=== RUN   TestImage_AutoRotate_6__heic_to_jpg
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [govips.info] failed to understand image format size=1003078
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:329
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_AutoRotate_6__heic_to_jpg
--- FAIL: TestImage_AutoRotate_6__heic_to_jpg (0.00s)
=== RUN   TestImage_Export_AVIF_8_Bit
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [govips.info] failed to understand image format size=503442
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:341
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Export_AVIF_8_Bit
--- FAIL: TestImage_Export_AVIF_8_Bit (0.00s)
=== RUN   TestImage_TIF_16_Bit_To_AVIF_12_Bit
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:01 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:01 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:01 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
    image_golden_test.go:961: 
        	Error Trace:	image_golden_test.go:961
        	            				image_golden_test.go:353
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "heifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 32 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005bba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x13554b0, 0x0, 0xb, 0x0, 0x0, 0x50, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveAVIFToBuffer(0x13554b0, {0x0, 0x50, 0xc, 0x5, 0x0, 0x0})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:432 +0x198
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportAvif(0xc0000162d0, 0x97a120?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:980 +0xba
        	            	github.com/davidbyttow/govips/v2/vips.exportAvif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:917 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenTest(0xc0007b41b0?, {0x6a2dfe, 0x1a}, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:960 +0x105
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_TIF_16_Bit_To_AVIF_12_Bit(0xc000782820)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:353 +0x89
        	            	testing.tRunner(0xc000782820, 0x6cb728)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_TIF_16_Bit_To_AVIF_12_Bit
--- FAIL: TestImage_TIF_16_Bit_To_AVIF_12_Bit (0.00s)
=== RUN   TestImage_Sharpen_24bit_Alpha
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] convi: using C path
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
ge*) 0x12f5660) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000ef0000, length = 4232628 out=((VipsImage*) 0x13554b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 47948 out=((VipsImage*) 0x129eca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x12e2e10) -
vips cache+: cast in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x12d5640) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x12e2e10) out=((VipsImage*) 0x1342c90) -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x1325b10) -
vips cache+: extract_band in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x1337640) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x13374b0) -
vips cache+: extract_band in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x13427e0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13427e0) out=((VipsImage*) 0x131a340) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x1325340) out=((VipsImage*) 0x129e1b0) -
vips cache : copy in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x1448e30) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x12ee170) out=((VipsImage*) 0x12f5020) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x12f5020) -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x130a4d0) -
vips cache+: extract_band in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x129e340) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x129e020) -
vips cache+: extract_band in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x1448340) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x143e7d0) -
vips cache+: cast in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x14481b0) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x1337c80) -
vips cache : copy in=((VipsImage*) 0x14481b0) out=((VipsImage*) 0x1342330) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1336710) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: Lab2LabS in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: colourspace in=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x12e2320) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x1342b00) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x13377d0) -
vips cache+: extract_band in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x12e2000) band=0 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x129eb10) -
vips cache+: extract_band in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x131a660) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x1325660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x131ab10) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x124b7e0) -
vips cache+: cast in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x1325660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x1325ca0) -
vips cache+: cast in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x7fd9780084c0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x7fd9780084c0) x=2 y=0 width=516 height=512 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x7fd974005650) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x130a340) mask=((VipsImage*) 0x130a7f0) -
vips cache+: conv in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x13252023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] convi: using C path
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
4d0) mask=((VipsImage*) 0x7fd9780087e0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x7fd978008330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x7fd974005970) -
vips cache+: cast in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd974005330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x131a020) x=0 y=2 width=512 height=516 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x129e660) out=((VipsImage*) 0x7fd974005330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x130a660) mask=((VipsImage*) 0x7fd974005650) -
vips cache+: conv in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x7fd978008330) mask=((VipsImage*) 0x124b7e0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x128fe30) mask=((VipsImage*) 0x1342b00) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x124b970) out=((VipsImage*) 0x7fd974005b00) -
vips cache : copy in=((VipsImage*) 0x131a660) out=((VipsImage*) 0x130ae30) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1368330) out=((VipsImage*) 0x7fd974005330) -
vips cache : copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x130a1b0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x7fd974005010) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x124bb00) -
vips cache+: extract_band in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x7fd9740057e0) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x124bc90) -
vips cache+: cast in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x143e320) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x128f980) out=((VipsImage*) 0x143e000) -
vips cache : copy in=((VipsImage*) 0x143e320) out=((VipsImage*) 0x1448980) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x136c960) out=((VipsImage*) 0x1448660) -
vips cache+: LabS2Lab in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x1448660) -
vips cache : copy in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x1421e30) -
vips cache+: extract_band in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x1421ca0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x143e4b0) -
vips cache+: extract_band in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x1448b10) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x13fb970) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x143e640) out=((VipsImage*) 0x14484d0) -
vips cache : copy in=((VipsImage*) 0x13fb970) out=((VipsImage*) 0x143e190) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1249c80) out=((VipsImage*) 0x14487f0) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x14487f0) -
vips cache+: cast in=((VipsImage*) 0x14487f0) out=((VipsImage*) 0x1421020) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x14487f0) out=((VipsImage*) 0x13e7ca0) -
vips cache+: cast in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1421b10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1421980) -
vips cache+: colourspace in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x143ee10) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen in=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x124be20) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((VipsImage*) 0x124be20) out=((VipsImage*) 0x13e7b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e7b10) out=((VipsImage*) 0x13fb010) -
vips cache+: cast in=((VipsImage*) 0x13fb010) out=((VipsImage*) 0x14211b0) format=((VipsBa2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_24bit_Alpha (0.08s)
=== RUN   TestImage_Sharpen_8bit_Alpha
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
ndFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x136b660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x13fbc90) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x124be20) buffer=VIPS_TYPE_BLOB, data = 0x13afc40, length = 37244 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002c0000, length = 37244 out=((VipsImage*) 0x13e77f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000436000, length = 12858 out=((VipsImage*) 0x137d1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x13fb010) -
vips cache+: cast in=((VipsImage*) 0x13fb010) out=((VipsImage*) 0x13e7b10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x13fb010) out=((VipsImage*) 0x14211b0) -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x14214d0) -
vips cache+: extract_band in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x1355960) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x137d650) -
vips cache+: extract_band in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x13e7980) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13e7980) out=((VipsImage*) 0x128f340) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x13e7340) -
vips cache : copy in=((VipsImage*) 0x128f340) out=((VipsImage*) 0x13e71b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x12fadf0) out=((VipsImage*) 0x137de20) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x137de20) -
vips cache : copy in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x13e7020) -
vips cache+: extract_band in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x13e74d0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x137dc90) -
vips cache+: extract_band in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x137db00) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x137d010) -
vips cache+: cast in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x124b650) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x136bca0) -
vips cache : copy in=((VipsImage*) 0x124b650) out=((VipsImage*) 0x136b020) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1339ad0) out=((VipsImage*) 0x137d330) -
vips cache+: Lab2LabS in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x137d330) -
vips cache+: colourspace in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x136b4d0) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x7fd9740b91a0) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x136b980) -
vips cache+: extract_band in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x7fd974005c90) band=0 -
vips cache : copy in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x143e960) -
vips cache+: extract_band in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x12d5000) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x136be30) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x136b1b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x136b1b0) out=((VipsImage*) 0x136be30) -
vips cache+: cast in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x137d4c0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7fd974005c90) out=((VipsImage*) 0x1355e10) -
vips cache+: cast in=((VipsImage*) 0x1355af0) out=((VipsImage*) 0x137d4c0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: em2023/10/14 12:56:01 [VIPS.info] convi: using C path
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] convi: using C path
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
bed in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x12d5c80) x=2 y=0 width=832 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x128f020) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x137d4c0) mask=((VipsImage*) 0x1355af0) -
vips cache+: conv in=((VipsImage*) 0x7fd974005c90) out=((VipsImage*) 0x13557d0) mask=((VipsImage*) 0x128f1b0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x136be30) out=((VipsImage*) 0x12d5320) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x13557d0) out=((VipsImage*) 0x124b1a0) -
vips cache+: cast in=((VipsImage*) 0x7fd9780081a0) out=((VipsImage*) 0x124b010) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x124b1a0) out=((VipsImage*) 0x124b010) x=0 y=2 width=828 height=326 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x12d5320) out=((VipsImage*) 0x131aca0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x124b1a0) out=((VipsImage*) 0x131a1b0) mask=((VipsImage*) 0x7fd9780081a0) -
vips cache+: conv in=((VipsImage*) 0x13557d0) out=((VipsImage*) 0x136bb10) mask=((VipsImage*) 0x136be30) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x7fd974005c90) out=((VipsImage*) 0x136b7f0) mask=((VipsImage*) 0x7fd9740b91a0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x1448020) -
vips cache : copy in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x143eaf0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1353010) out=((VipsImage*) 0x130a020) -
vips cache : copy in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x130a980) -
vips cache+: extract_band in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x143ec80) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x7fd978008c90) -
vips cache+: extract_band in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x131a980) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x131a980) out=((VipsImage*) 0x7fd9740051a0) -
vips cache+: cast in=((VipsImage*) 0x131a980) out=((VipsImage*) 0x7fd9740054c0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x1325980) out=((VipsImage*) 0x12f5980) -
vips cache : copy in=((VipsImage*) 0x7fd9740054c0) out=((VipsImage*) 0x1421660) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x13f8d20) out=((VipsImage*) 0x1448ca0) -
vips cache+: LabS2Lab in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x1448ca0) -
vips cache : copy in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x13fb330) -
vips cache+: extract_band in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x14217f0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x13fb650) -
vips cache+: extract_band in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x13fb7e0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13fb7e0) out=((VipsImage*) 0x137d7e0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x13fb1a0) -
vips cache : copy in=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x13e7660) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x13703f0) out=((VipsImage*) 0x137d970) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x137d970) -
vips cache+: cast in=((VipsImage*) 0x137d970) out=((VipsImage*) 0x1421340) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x137d970) out=((VipsImage*) 0x13fbe20) -
vips cache+: cast in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x7fd9740b9330) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x7fd9740b94c0) -
vips cache+: colourspace in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x7fd9740b9650) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen 2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_8bit_Alpha (0.08s)
=== RUN   TestImage_Modulate
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Modulate (0.52s)
=== RUN   TestImage_Modulate_Alpha
2023/10/14 12:56:01 [govips.info] warning libvips already started
in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x131aca0) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x7fd9740b97e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9740b97e0) out=((VipsImage*) 0x7fd9740b9970) -
vips cache+: cast in=((VipsImage*) 0x7fd9740b9970) out=((VipsImage*) 0x7fd9740b9b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x7fd9794e84c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x7fd9794e8330) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x131aca0) buffer=VIPS_TYPE_BLOB, data = 0x13afc40, length = 36847 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000440000, length = 36847 out=((VipsImage*) 0x7fd9740b9e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000338000, length = 459699 out=((VipsImage*) 0x1355320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x1355320) out=((VipsImage*) 0x1342650) -
vips cache+: cast in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x13251b0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x1355000) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x1355000) out=((VipsImage*) 0x12f5660) -
vips cache+: Lab2LCh in=((VipsImage*) 0x12f5660) out=((VipsImage*) 0x12e2c80) -
vips cache+: colourspace in=((VipsImage*) 0x1355320) out=((VipsImage*) 0x131aca0) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x7fd9740b94c0) -
vips cache+: linear in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x7fd9740b9650) a=0.7 0.5 1  b=0 0 180  -
vips cache+: LCh2Lab in=((VipsImage*) 0x7fd9740b9650) out=((VipsImage*) 0x7fd9740b9330) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x7fd9740b9330) out=((VipsImage*) 0x13fbe20) -
vips cache+: cast in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x1421340) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x137d970) -
vips cache+: cast in=((VipsImage*) 0x137d970) out=((VipsImage*) 0x14217f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x137d970) out=((VipsImage*) 0x13fb330) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9740b9650) out=((VipsImage*) 0x1448ca0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x143ec80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x130a980) -
vips cache+: linecache in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x13e74d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x137d330) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x137d330) out=((VipsImage*) 0x13e7020) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1448ca0) buffer=VIPS_TYPE_BLOB, data = 0x7fd994065ed0, length = 498641 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 498641 out=((VipsImage*) 0x130a020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d8000, length = 47948 out=((VipsImage*) 0x12d5000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x143eaf0) -
vips cache+: cast in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x130a980) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x14211b0) -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x13fb010) -
vips cache+: extract_band in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x13e7b10) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9794e8010) -
vips cache+: extract_band in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x137d1a0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x7fd9794e84c0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7fd9794e8330) out=((VipsImage*) 0x13e7980) -
vips cache : copy in=((VipsImage*) 0x7fd9794e84c0) out=((VipsImage*) 0x137d650) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd99404f910) out=((VipsImage*) 0x7fd9794e81a0) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9794e81a0) -
vips cache : copy in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x128f340) -
vips cache+: extract_band in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x13e71b0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x128f4d0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x13e7340) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x137dc90) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x124b650) -
vips cache : copy in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x137d010) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd994069a20) out=((VipsImage*) 0x136b020) -
vips cache+: Lab2LCh in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x136b020) -
vips cache+: colourspace in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x136bca0) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x1448020) -
vips cache+: linear in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x136b340) a=1.1 1.2 1 1  b=0  -
vips cache : copy in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x131a980) -
vips cache+: extract_band in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x12e2af0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x1421660) -
vips cache+: extract_band in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x7fd978008c90) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x7fd978008c90) out=((VipsImage*) 0x7fd9740051a0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7fd9740054c0) out=((VipsImage*) 0x1325980) -
vips cache : copy in=((VipsImage*) 0x7fd9740051a0) out=((VipsImage*) 0x13fb7e0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd994075960) out=((VipsImage*) 0x12f5980) -
vips cache+: LCh2Lab in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x12f5980) -
vips cache : copy in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x13e7660) -
vips cache+: extract_band in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x13fb650) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x13fb1a0) -
vips cache+: extract_band in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x137d7e0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x136b7f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x131a1b0) -
vips cache : copy in=((VipsImage*) 0x136b7f0) out=((VipsImage*) 0x12d5320) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd99407e640) out=((VipsImage*) 0x136bb10) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x136bb10) -
vips cache+: cast in=((VipsImage*) 0x136bb10) out=((VipsImage*) 0x131a7f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x136bb10) out=((VipsImage*) 0x124b010) -
vips cache+: cast in=((VipsImage*) 0x124b010) out=((VipsImage*) 0x124b1a0) format=((VipsBandFormat) VI2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:01 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Modulate_Alpha (0.10s)
=== RUN   TestImage_ModulateHSV
2023/10/14 12:56:01 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV (0.19s)
=== RUN   TestImage_ModulateHSV_Alpha
2023/10/14 12:56:02 [govips.info] warning libvips already started
PS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x124b010) out=((VipsImage*) 0x13557d0) -
vips cache+: colourspace in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x137d4c0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x137d4c0) out=((VipsImage*) 0x7fd978008010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x128f020) -
vips cache+: cast in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x12d5c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x1355e10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x14214d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x137d4c0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9940d38f0, length = 30309 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000860000, length = 30309 out=((VipsImage*) 0x7fd9780081a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000574000, length = 459699 out=((VipsImage*) 0x136be30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2HSV in=((VipsImage*) 0x136be30) out=((VipsImage*) 0x136b1b0) -
vips cache+: colourspace in=((VipsImage*) 0x136be30) out=((VipsImage*) 0x128f1b0) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x13554b0) -
vips cache+: linear in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x7fd9740b91a0) a=1 0.5 0.7  b=180 0 0  -
vips cache : copy in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x143ee10) -
vips cache+: cast in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x124be20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x1421980) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x1421b10) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x1421b10) out=((VipsImage*) 0x13e7ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1421020) -
vips cache+: linecache in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x14487f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x1355af0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1355af0) out=((VipsImage*) 0x1421ca0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1421b10) buffer=VIPS_TYPE_BLOB, data = 0x7fd994ccd080, length = 487713 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005e6000, length = 487713 out=((VipsImage*) 0x1421020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000290000, length = 47948 out=((VipsImage*) 0x130a1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x130ae30) -
vips cache+: extract_band in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x7fd974005330) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x131a660) -
vips cache+: extract_band in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x7fd974005010) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x7fd974005010) out=((VipsImage*) 0x12e2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129eb10) out=((VipsImage*) 0x129e340) -
vips cache : copy in=((VipsImage*) 0x12e2322023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV_Alpha (0.04s)
=== RUN   TestImage_ExtractArea
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ExtractArea (0.05s)
=== RUN   TestImage_Rotate
2023/10/14 12:56:02 [govips.info] warning libvips already started
0) out=((VipsImage*) 0x130a4d0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd9940db120) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: sRGB2HSV in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: colourspace in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x12f5020) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x1325b10) -
vips cache+: linear in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x1337640) a=1 1.2 1.1 1  b=120 0 0 0  -
vips cache : copy in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x12d5640) -
vips cache+: cast in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x1342c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x129eca0) -
vips cache+: extract_band in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x12e2e10) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x13fbc90) -
vips cache+: extract_band in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x13e7e30) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x13fbb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x136b660) out=((VipsImage*) 0x13374b0) -
vips cache : copy in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x1448e30) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd9940e9000) out=((VipsImage*) 0x13427e0) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x13427e0) -
vips cache+: colourspace in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x131a340) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x131a340) out=((VipsImage*) 0x129e1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x1325340) -
vips cache+: cast in=((VipsImage*) 0x1325340) out=((VipsImage*) 0x1448340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x1342330) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x129e020) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x131a340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9940fa8d0, length = 29034 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00029c000, length = 29034 out=((VipsImage*) 0x129e980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00078e000, length = 459699 out=((VipsImage*) 0x7fd974005b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7fd974005b00) out=((VipsImage*) 0x124b970) left=10 top=20 width=200 height=100 -
vips cache+: cast in=((VipsImage*) 0x124b970) out=((VipsImage*) 0x1337c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x7fd9740057e0) -
vips cache+: linecache in=((VipsImage*) 0x143e7d0) out=((VipsImage*) 0x143e000) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143e7d0) out=((VipsImage*) 0x124bc90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x124bc90) out=((VipsImage*) 0x128f980) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x124b970) buffer=VIPS_TYPE_BLOB, data = 0x7fd994139dd0, length = 24521 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ce000, length = 24521 out=((VipsImage*) 0x124bb00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000880000, 2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rotate (0.15s)
=== RUN   TestImageRef_Linear1
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Linear1 (0.08s)
=== RUN   TestImageRef_Linear_Alpha
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
length = 459699 out=((VipsImage*) 0x12f5e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x12f5e30) out=((VipsImage*) 0x1342010) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: cast in=((VipsImage*) 0x1342010) out=((VipsImage*) 0x130aca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x12f5340) -
vips cache+: linecache in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x13fb970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x143e190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x143e190) out=((VipsImage*) 0x14484d0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1342010) buffer=VIPS_TYPE_BLOB, data = 0x7fd99cbf9360, length = 540705 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0008f2000, length = 540705 out=((VipsImage*) 0x12f5340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003b0000, length = 135059 out=((VipsImage*) 0x143e320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143e320) out=((VipsImage*) 0x7fd9740057e0) -
vips cache+: linear in=((VipsImage*) 0x143e320) out=((VipsImage*) 0x1448980) a=3  b=4  -
vips cache : copy in=((VipsImage*) 0x1448980) out=((VipsImage*) 0x128fe30) -
vips cache+: cast in=((VipsImage*) 0x1448980) out=((VipsImage*) 0x143e640) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x143e640) out=((VipsImage*) 0x7fd978008330) -
vips cache : copy in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x129e660) -
vips cache+: cast in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x130a660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x129e4d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x1325660) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1448980) buffer=VIPS_TYPE_BLOB, data = 0x7fd994148a00, length = 100896 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e8000, length = 100896 out=((VipsImage*) 0x7fd978008330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000326000, length = 47948 out=((VipsImage*) 0x143e640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143e640) out=((VipsImage*) 0x130a660) -
vips cache+: linear in=((VipsImage*) 0x143e640) out=((VipsImage*) 0x128fe30) a=1.1 1.2 1.3 1.4  b=1 2 3 4  -
vips cache : copy in=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x7fd978008970) -
vips cache+: cast in=((VipsImage*) 0x128fe30) out=((VipsImage*) 0x129e660) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x129e660) out=((VipsImage*) 0x131a020) -
vips cache : copy in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x128f020) -
vips cache+: cast in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd974005970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x13e7ca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x1448340) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x128fe30) buffer=VIPS_TYPE_BLOB, data = 0x7fd994149da0, length = 27690 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE--- PASS: TestImageRef_Linear_Alpha (0.04s)
=== RUN   TestImage_Zoom
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Zoom (0.03s)
=== RUN   TestImage_Thumbnail_NoCrop
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] selected loader is image source
2023/10/14 12:56:02 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:02 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:02 [VIPS.info] residual reducev by 0.0503497
2023/10/14 12:56:02 [VIPS.info] shrinkv by 10
2023/10/14 12:56:02 [VIPS.info] reducev: 13 point mask
2023/10/14 12:56:02 [VIPS.info] reducev: using vector path
2023/10/14 12:56:02 [VIPS.info] residual reduceh by 0.0503497
2023/10/14 12:56:02 [VIPS.info] shrinkh by 9
2023/10/14 12:56:02 [VIPS.info] reduceh: 15 point mask
 strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00040e000, length = 27690 out=((VipsImage*) 0x131a020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006fa000, length = 1259 out=((VipsImage*) 0x7fd978008010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: zoom input=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x12d5c80) xfac=2 yfac=3 -
vips cache+: cast in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x143ec80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x129e660) -
vips cache+: linecache in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x1325ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x7fd9780084c0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9780084c0) out=((VipsImage*) 0x12e2000) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12d5c80) buffer=VIPS_TYPE_BLOB, data = 0x7fd994150600, length = 2460 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000704000, length = 2460 out=((VipsImage*) 0x7fd978008970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009fe000, length = 187806 out=((VipsImage*) 0x7fd974005970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x129e660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x128f020) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x143ec80) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x7fd9780087e0) -
vips cache+: embed in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x131ab10) x=0 y=0 width=715 height=490 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x124b7e0) vshrink=10 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x128f660) -
vips cache+: embed in=((VipsImage*) 0x128f660) out=((VipsImage*) 0x128fca0) x=0 y=6 width=715 height=62 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x7fd974005650) vshrink=1.986111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd978008650) x=0 y=0 width=724 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x128fb10) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x128fb10) out=((VipsImage*) 0x7fd9794e8650) -
vips cache+: embed in=((VipsImage*) 0x7fd9794e8650) out=((VipsImage*) 0x7fd9794e87e0) x=7 y=0 width=95 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x128f7f0) hshrink=2.206790 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x130a7f0) vscale=0.050350 scale=0.050350 -
vips cache : thumbnail_image in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x7fd9794e8970) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd9794e8970) out=((VipsImage*) 0x7fd9794e8b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9794e8b00) out=((VipsImage*) 0x7fd9794e8c90) -
vips cache+: linecache in=((VipsImage*) 0x7fd9941b8330) out=((VipsIma2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoCrop (0.03s)
=== RUN   TestImage_Thumbnail_NoUpscale
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] selected loader is image source
2023/10/14 12:56:02 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:02 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoUpscale (0.04s)
=== RUN   TestImage_Thumbnail_CropCentered
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] selected loader is image source
2023/10/14 12:56:02 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:02 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:56:02 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:02 [VIPS.info] residual reducev by 0.0517598
2023/10/14 12:56:02 [VIPS.info] shrinkv by 9
2023/10/14 12:56:02 [VIPS.info] reducev: 13 point mask
2023/10/14 12:56:02 [VIPS.info] reducev: using vector path
ge*) 0x7fd9941b8650) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941b8330) out=((VipsImage*) 0x7fd9941b84c0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9941b84c0) out=((VipsImage*) 0x7fd9941b87e0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9794e8970) buffer=VIPS_TYPE_BLOB, data = 0x7fd9941cd130, length = 22541 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000716000, length = 22541 out=((VipsImage*) 0x7fd9794e8e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a2c000, length = 187806 out=((VipsImage*) 0x7fd9941b8010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x7fd9794e8c90) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x7fd9941b81a0) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x7fd9941b81a0) out=((VipsImage*) 0x7fd9794e8b00) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd9794e8b00) out=((VipsImage*) 0x7fd9941b8b00) -
vips cache+: resize in=((VipsImage*) 0x7fd9794e8b00) out=((VipsImage*) 0x7fd9941b8970) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_image in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x7fd9941b8c90) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd9941b8c90) out=((VipsImage*) 0x7fd9941b8e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9941b8e20) out=((VipsImage*) 0x7fd9941f6000) -
vips cache+: linecache in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x7fd9941f6af0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x7fd9941f6960) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9941f6960) out=((VipsImage*) 0x7fd9941f6c80) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9941b8c90) buffer=VIPS_TYPE_BLOB, data = 0x7fd9942d01f0, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000830000, length = 86168 out=((VipsImage*) 0x7fd9941f6190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a88000, length = 187806 out=((VipsImage*) 0x13e77f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x1355640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x1337e10) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x136b660) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x136b660) out=((VipsImage*) 0x124b970) -
vips cache+: embed in=((VipsImage*) 0x124b970) out=((VipsImage*) 0x7fd974005010) x=0 y=0 width=715 height=486 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x124b970) out=((VipsImage*) 0x1448660) vshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x1448660) out=((VipsImage*) 0x130a4d0) -
vips cache+: embed in=((VipsImage*) 0x130a4d0) out=((VipsImage*) 0x131a340) x=0 y=6 width=715 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsIm2023/10/14 12:56:02 [VIPS.info] residual reduceh by 0.0517598
2023/10/14 12:56:02 [VIPS.info] shrinkh by 9
2023/10/14 12:56:02 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:56:02 [VIPS.info] cropping to 25x25
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_CropCentered (0.04s)
=== RUN   TestImage_ResizeWithVScale
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] residual scale 1.1 x 1.2
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
age*) 0x124b970) out=((VipsImage*) 0x7fd974005b00) vshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7fd974005b00) out=((VipsImage*) 0x143ee10) x=0 y=0 width=724 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7fd974005b00) out=((VipsImage*) 0x129eca0) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x129eca0) out=((VipsImage*) 0x7fd9740b91a0) -
vips cache+: embed in=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x13554b0) x=6 y=0 width=93 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd974005b00) out=((VipsImage*) 0x12e2e10) hshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x136b660) out=((VipsImage*) 0x129e980) vscale=0.051760 scale=0.051760 -
vips cache+: linecache in=((VipsImage*) 0x7fd9740b9010) out=((VipsImage*) 0x130a660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9740b9010) out=((VipsImage*) 0x7fd974005e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd974005e20) out=((VipsImage*) 0x143e640) left=0 top=0 width=715 height=483 -
vips cache+: extract_area input=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x13fb650) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x128f1b0) attention-x=0 out=((VipsImage*) 0x136bb10) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_image in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x13e7660) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x13e7660) out=((VipsImage*) 0x12f5980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12f5980) out=((VipsImage*) 0x12e2af0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13e7660) buffer=VIPS_TYPE_BLOB, data = 0x7fd99c003d10, length = 22544 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b6000, length = 22544 out=((VipsImage*) 0x131a980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006fa500, length = 1259 out=((VipsImage*) 0x136bca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x13e71b0) -
vips cache : copy in=((VipsImage*) 0x13e71b0) out=((VipsImage*) 0x7fd9794e81a0) -
vips cache+: embed in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x13e7b10) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x14211b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x143eaf0) -
vips cache+: linear in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x130a980) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x137de20) -
vips cache+: cast in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x12d5000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x14214d0) -
vips cache+: affine in=((VipsImage*) 0x13e71b0) interpolate=((VipsInterpolateBicubic*) 0x7fd974043d40) out=((VipsImage*) 0x128f340) matrix=1.1 0 0 1.2  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x136b020) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) vscale=1.200000 scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x136b020) out=((VipsImage*) 0x137d1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x13fb010) -
vips cache+: linecache in=((Vi2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ResizeWithVScale (0.03s)
=== RUN   TestImage_Add
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [govips.info] failed to understand image format size=293608
    image_golden_test.go:506: 
        	Error Trace:	image_golden_test.go:506
        	            				image_golden_test.go:957
        	            				image_golden_test.go:503
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Add
--- FAIL: TestImage_Add (0.00s)
=== RUN   TestImage_Multiply
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [govips.info] failed to understand image format size=293608
    image_golden_test.go:520: 
        	Error Trace:	image_golden_test.go:520
        	            				image_golden_test.go:957
        	            				image_golden_test.go:517
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Multiply
--- FAIL: TestImage_Multiply (0.00s)
=== RUN   TestImageRef_Divide
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [govips.info] failed to understand image format size=293608
    image_golden_test.go:534: 
        	Error Trace:	image_golden_test.go:534
        	            				image_golden_test.go:957
        	            				image_golden_test.go:531
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide
--- FAIL: TestImageRef_Divide (0.00s)
=== RUN   TestImage_GaussianBlur
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] gaussblur mask width 37
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] convi: using vector path
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] convi: using vector path
psImage*) 0x7fd9794af010) out=((VipsImage*) 0x7fd9794e8010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794af010) out=((VipsImage*) 0x7fd9794af1a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9794af1a0) out=((VipsImage*) 0x137d650) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x136b020) buffer=VIPS_TYPE_BLOB, data = 0x7fd98801c1e0, length = 1306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ec000, length = 1306 out=((VipsImage*) 0x1355e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072e000, length = 1259 out=((VipsImage*) 0x14214d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072e500, length = 1259 out=((VipsImage*) 0x13fb010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072ea00, length = 1259 out=((VipsImage*) 0x7fd9794e8330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072ef00, length = 1259 out=((VipsImage*) 0x13e7340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gaussmat out=((VipsImage*) 0x128f4d0) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: cast in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x137dc90) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x124b650) out=((VipsImage*) 0x137db00) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x7fd978008c90) -
vips cache+: cast in=((VipsImage*) 0x124b650) out=((VipsImage*) 0x1421660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x1325980) -
vips cache+: cast in=((VipsImage*) 0x13fb7e0) out=((VipsImage*) 0x7fd9740054c0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x1325980) out=((VipsImage*) 0x13fb1a0) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x12d5320) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1325980) out=((VipsImage*) 0x131a1b0) mask=((VipsImage*) 0x13fb7e0) -
vips cache+: conv in=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x7fd9740051a0) mask=((VipsImage*) 0x124b650) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x7fd978008c90) out=((VipsImage*) 0x13fb4c0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7fd9740051a0) out=((VipsImage*) 0x7fd9941b8970) -
vips cache+: cast in=((VipsImage*) 0x7fd9941b8c90) out=((VipsImage*) 0x7fd9941b8b00) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x7fd9941b8970) out=((VipsImage*) 0x7fd9941b81a0) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x7fd9794e8b00) out=((VipsImage*) 0x7fd9794e8c90) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x7fd9941b8970) out=((VipsImage*) 0x7fd9941f6640) mask=((VipsImage*) 0x7fd9941b8c90) -
vips cache+: conv in=((VipsImage*) 0x7fd9740051a0) out=((VipsImage*) 0x136b7f0) mask=((VipsImage*) 0x7fd978008c90) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x13e7340) out=((VipsImage*) 0x137d010) mask=((VipsImage*) 0x128f4d0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: gaussblur in=((VipsImage*) 0x13e7340) out=((Vip2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] gaussblur mask width 37
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] convi: using vector path
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] convi: using vector path
sImage*) 0x7fd9941f6c80) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x7fd9941f6c80) out=((VipsImage*) 0x7fd9941b8010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x7fd9941f6960) -
vips cache+: linecache in=((VipsImage*) 0x13e7980) out=((VipsImage*) 0x13fb330) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13e7980) out=((VipsImage*) 0x1448ca0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x14217f0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9941f6c80) buffer=VIPS_TYPE_BLOB, data = 0x7fd98811a390, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00075c000, length = 865 out=((VipsImage*) 0x7fd9941f6af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006faa00, length = 1259 out=((VipsImage*) 0x7fd9941f67d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: gaussmat out=((VipsImage*) 0x128f4d0) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache*: cast in=((VipsImage*) 0x128f4d0) out=((VipsImage*) 0x137dc90) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x7fd9941f6960) out=((VipsImage*) 0x1421340) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x1421340) out=((VipsImage*) 0x13fbe20) -
vips cache+: cast in=((VipsImage*) 0x7fd9941f6960) out=((VipsImage*) 0x7fd9740b9330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x131aca0) -
vips cache+: cast in=((VipsImage*) 0x7fd9740b9650) out=((VipsImage*) 0x12e2c80) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x1355000) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x12f5660) out=((VipsImage*) 0x13251b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x1355320) mask=((VipsImage*) 0x7fd9740b9650) -
vips cache+: conv in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x7fd9740b94c0) mask=((VipsImage*) 0x7fd9941f6960) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x1342650) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7fd9740b94c0) out=((VipsImage*) 0x137d330) -
vips cache+: cast in=((VipsImage*) 0x143e960) out=((VipsImage*) 0x13e74d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x137d330) out=((VipsImage*) 0x130a020) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x1342010) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x137d330) out=((VipsImage*) 0x12f5e30) mask=((VipsImage*) 0x143e960) -
vips cache+: conv in=((VipsImage*) 0x7fd9740b94c0) out=((VipsImage*) 0x13e7020) mask=((VipsImage*) 0x13fbe20) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x7fd9941f6190) mask=((VipsImage*) 0x128f4d0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: gaussblur in=((VipsImage*) 0x7fd9941f67d0) out=((VipsImage*) 0x1448b10) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x14484d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x143e190) -
vips c2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GaussianBlur (0.07s)
=== RUN   TestImage_BandJoinConst
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_BandJoinConst (0.03s)
=== RUN   TestImage_SmartCrop
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
ache+: linecache in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x7fd9740b9e20) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143e4b0) out=((VipsImage*) 0x12f5340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12f5340) out=((VipsImage*) 0x128fe30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1448b10) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882013f0, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ec380, length = 865 out=((VipsImage*) 0x13fb970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072f400, length = 1259 out=((VipsImage*) 0x143e190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x129e1b0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x12d5c80) -
vips cache+: linear in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x131a020) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x130aca0) -
vips cache+: cast in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd978008010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x12e2000) -
vips cache : copy in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x7fd9780084c0) -
vips cache+: bandjoin_const in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x13e7ca0) c=255  -
vips cache : copy in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1325ca0) -
vips cache+: flatten in=((VipsImage*) 0x13e7ca0) background=0  out=((VipsImage*) 0x12e2000) -
vips cache+: cast in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x7fd978008970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978008970) out=((VipsImage*) 0x7fd9794e8970) -
vips cache+: linecache in=((VipsImage*) 0x128f7f0) out=((VipsImage*) 0x7fd9794e8650) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x128f7f0) out=((VipsImage*) 0x7fd9794e87e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9794e87e0) out=((VipsImage*) 0x128fb10) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13e7ca0) buffer=VIPS_TYPE_BLOB, data = 0x7fd988218560, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00072f900, length = 1240 out=((VipsImage*) 0x7fd9794e8970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006fb400, length = 1259 out=((VipsImage*) 0x128fca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x128fca0) out=((VipsImage*) 0x124b7e0) left=20 top=10 width=60 height=80 -
vips cache+: smartcrop input=((VipsImage*) 0x128fca0) attention-x=0 out=((VipsImage*) 0x128f660) attention-y=0 width=60 height=80 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x128f660) out=((VipsImage*) 0x1342b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x131ab10) -
vips cache+: linecache in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x129e660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd974005650) out=((VipsImage*) 0x7fd978008e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd978008e20) out=((VipsImage*) 0x7fd974005970) left=0 top=0 width=100 height=100 -
vips cache : jpegs--- PASS: TestImage_SmartCrop (0.03s)
=== RUN   TestImage_Replicate
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Replicate (0.03s)
=== RUN   TestImage_DrawRect
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_DrawRect (0.03s)
=== RUN   TestImage_DrawRectRGBA
2023/10/14 12:56:02 [govips.info] warning libvips already started
ave_buffer in=((VipsImage*) 0x128f660) buffer=VIPS_TYPE_BLOB, data = 0x7fd98822b710, length = 1195 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006fb900, length = 1195 out=((VipsImage*) 0x7fd9780087e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ee500, length = 1259 out=((VipsImage*) 0x143ec80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: replicate in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x128f020) across=3 down=2 -
vips cache+: cast in=((VipsImage*) 0x128f020) out=((VipsImage*) 0x131ab10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x7fd9941b84c0) -
vips cache+: linecache in=((VipsImage*) 0x7fd9941b87e0) out=((VipsImage*) 0x1421b10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941b87e0) out=((VipsImage*) 0x7fd9780081a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9780081a0) out=((VipsImage*) 0x1421980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x128f020) buffer=VIPS_TYPE_BLOB, data = 0x7fd98823cb70, length = 3426 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f0000, length = 3426 out=((VipsImage*) 0x7fd9941b8650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000770000, length = 1259 out=((VipsImage*) 0x7fd9941b8330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x136be30) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x136b1b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x136b1b0) out=((VipsImage*) 0x7fd974005c90) left=0 top=0 width=100 height=100 -
vips cache*: black out=((VipsImage*) 0x14211b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x1355af0) -
vips cache+: linear in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9941b84c0) a=1  b=255 255 0  -
vips cache : copy in=((VipsImage*) 0x7fd9941b84c0) out=((VipsImage*) 0x136b980) -
vips cache+: cast in=((VipsImage*) 0x7fd9941b84c0) out=((VipsImage*) 0x14487f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14487f0) out=((VipsImage*) 0x1421020) -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9941b8330) ink=255 255 0  left=20 top=20 width=60 height=60 fill=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd9941b8330) out=((VipsImage*) 0x12d5640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x1337640) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9941b8330) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882584a0, length = 1049 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000122480, length = 1049 out=((VipsImage*) 0x1325b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eea00, length = 1259 out=((VipsImage*) 0x1337640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x129e1b0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x142102023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
20) -
vips cache+: linear in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x1342c90) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: cast in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x12f5020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12f5020) out=((VipsImage*) 0x7fd974005330) -
vips cache : copy in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x130ae30) -
vips cache+: bandjoin_const in=((VipsImage*) 0x1337640) out=((VipsImage*) 0x7fd9794e8e20) c=255  -
vips cache+: linecache in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x1342330) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x129e020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x129e020) out=((VipsImage*) 0x12f5980) left=0 top=0 width=100 height=100 -
vips cache+: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x129eb10) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x129e340) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x13fbc90) -
vips cache+: cast in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x13e7e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x1448e30) -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x143eaf0) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x130a980) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x7fd974005330) -
vips cache+: cast in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x12d5000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12d5000) out=((VipsImage*) 0x13fbb00) -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9794e8e20) ink=255 255 0 255  left=20 top=20 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x137de20) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x137d1a0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x13fbb00) -
vips cache+: cast in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x1448e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x14481b0) -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9794e8e20) ink=255 255 0 255  left=79 top=20 width=1 height=60 -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x13374b0) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x143e000) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x143e000) out=((VipsImage*) 0x14481b0) -
vips cache+: cast in=((VipsImage*) 0x143e000) out=((VipsImage*) 0x128f980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x128f980) out=((VipsImage*) 0x143e7d0) -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9794e8e20) ink=255 255 0 255  left=20 top=79 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x124bc90) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x7fd9740057e0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x143e7d0) -
vips cache+: cast in=((VipsImage*) 0x7fd9740057e0) out=((VipsImage*) 0x124bb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x124bb00) out=((VipsImage*) 0x143e320) -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9794e8e20) ink=255 255 0 255  left=20 top=20 width=1 height=60 -
vips cache+: draw_rect image=((VipsImage*) 0x7fd9794e8e20) ink=2552023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_DrawRectRGBA (0.03s)
=== RUN   TestImage_Rank
2023/10/14 12:56:02 [govips.info] warning libvips already started
2023/10/14 12:56:02 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rank (0.82s)
=== RUN   TestImage_GetPointWhite
2023/10/14 12:56:03 [govips.info] warning libvips already started
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
 255 0 255  left=20 top=20 width=60 height=60 fill=FALSE -
vips cache : copy in=((VipsImage*) 0x7fd9794e8e20) out=((VipsImage*) 0x129e4d0) -
vips cache+: flatten in=((VipsImage*) 0x7fd9794e8e20) background=0  out=((VipsImage*) 0x1325660) -
vips cache+: cast in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x1448980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1448980) out=((VipsImage*) 0x13254d0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9794e8e20) buffer=VIPS_TYPE_BLOB, data = 0x7fd98828a430, length = 1708 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000160000, length = 1708 out=((VipsImage*) 0x143e320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00041c000, length = 135059 out=((VipsImage*) 0x13254d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x7fd9740054c0) -
vips cache+: embed in=((VipsImage*) 0x7fd9740054c0) out=((VipsImage*) 0x12d5320) x=7 y=7 width=1934 height=1094 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x13254d0) out=((VipsImage*) 0x130a340) width=15 height=15 index=224 -
vips cache+: cast in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x7fd978008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x1337000) -
vips cache+: cast in=((VipsImage*) 0x1337000) out=((VipsImage*) 0x12f57f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1325020) out=((VipsImage*) 0x124b4c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1325020) out=((VipsImage*) 0x124b330) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x130a340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882a1af0, length = 18213 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000542000, length = 18213 out=((VipsImage*) 0x13fb4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000978000, length = 135059 out=((VipsImage*) 0x7fd9941b8b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x7fd9794af330) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd9794af330) out=((VipsImage*) 0x7fd9794af4c0) -
vips cache : copy in=((VipsImage*) 0x7fd9794af4c0) out=((VipsImage*) 0x7fd9794af7e0) -
vips cache+: cast in=((VipsImage*) 0x7fd9794af4c0) out=((VipsImage*) 0x7fd9794af650) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7fd9794afb00) out=((VipsImage*) 0x7fd9794afe20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794afb00) out=((VipsImage*) 0x7fd9794afc90) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7fd9941b8b00) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x7fd9882b9010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882b9010) out=((VipsImage*) 0x7fd9882b91a0) -
vips cache+: cast in=((VipsImage*) 0x7fd9882b91a0) out=((VipsImage*) 0x7fd9882b9330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd9941b8b00) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882ccc20, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00099a000, length = 2232--- PASS: TestImage_GetPointWhite (0.10s)
=== RUN   TestImage_GetPointYellow
2023/10/14 12:56:03 [govips.info] warning libvips already started
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointYellow (0.10s)
=== RUN   TestImage_GetPointWhiteR
2023/10/14 12:56:03 [govips.info] warning libvips already started
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:03 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointWhiteR (0.10s)
=== RUN   TestImage_GetPoint_WithAlpha
2023/10/14 12:56:04 [govips.info] warning libvips already started
27 out=((VipsImage*) 0x7fd9882b94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009d2000, length = 135059 out=((VipsImage*) 0x7fd9882b97e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7fd9882b97e0) out=((VipsImage*) 0x7fd9882b9970) left=400 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd9882b9970) out=((VipsImage*) 0x7fd9882b9b00) -
vips cache : copy in=((VipsImage*) 0x7fd9882b9b00) out=((VipsImage*) 0x7fd9882b9650) -
vips cache+: cast in=((VipsImage*) 0x7fd9882b9b00) out=((VipsImage*) 0x137dc90) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7fd9882b9c90) out=((VipsImage*) 0x7fd980036010) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882b9c90) out=((VipsImage*) 0x7fd9882b9e20) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7fd9882b97e0) out-array=255 255 0  x=400 y=10 -
vips cache+: cast in=((VipsImage*) 0x7fd9882b97e0) out=((VipsImage*) 0x13251b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13251b0) out=((VipsImage*) 0x7fd980036330) -
vips cache+: cast in=((VipsImage*) 0x7fd980036330) out=((VipsImage*) 0x7fd9800364c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd9882b97e0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9883011e0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000aee000, length = 223227 out=((VipsImage*) 0x7fd9800367e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b5e000, length = 135059 out=((VipsImage*) 0x7fd980036650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7fd980036650) out=((VipsImage*) 0x13e74d0) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x13e74d0) out=((VipsImage*) 0x1342650) -
vips cache : copy in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd980036b00) -
vips cache+: cast in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd980036970) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c0071b0) out=((VipsImage*) 0x7fd97c0074d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c0071b0) out=((VipsImage*) 0x7fd97c007340) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7fd980036650) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7fd980036650) out=((VipsImage*) 0x7fd980036e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd980036e20) out=((VipsImage*) 0x1342010) -
vips cache+: cast in=((VipsImage*) 0x1342010) out=((VipsImage*) 0x7fd97c007660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd980036650) buffer=VIPS_TYPE_BLOB, data = 0x7fd9883011c0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b80000, length = 223227 out=((VipsImage*) 0x7fd97c007980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00074e600, length = 335 out=((VipsImage*) 0x7fd97c007b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7fd97c007b10) out=((VipsImage*) 0x7fd97c0077f0) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd97c0077f0) out=((VipsImage*) 0x14484d0) -
vips cache : copy in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x7fd97c007e30) -
vips cache+: cast in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x7fd97c007c2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha (0.03s)
=== RUN   TestImage_GetPoint_WithAlpha2
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha2 (0.03s)
=== RUN   TestImage_SimilarityRGB
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
a0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd9882f94c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd9882f9330) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7fd97c007b10) out-array=0 0 0 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7fd97c007b10) out=((VipsImage*) 0x7fd9882f91a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882f91a0) out=((VipsImage*) 0x130aca0) -
vips cache+: cast in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x131a020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd97c007b10) buffer=VIPS_TYPE_BLOB, data = 0x7fd9883011c0, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000774000, length = 675 out=((VipsImage*) 0x7fd978008010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00014c600, length = 335 out=((VipsImage*) 0x1325ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x7fd978008970) left=0 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd978008970) out=((VipsImage*) 0x12d5c80) -
vips cache : copy in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x12e2000) -
vips cache+: cast in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x1337c80) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c635190) out=((VipsImage*) 0x7fd97c6354b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c635190) out=((VipsImage*) 0x7fd97c635320) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x1325ca0) out-array=0 0 0 0  x=0 y=0 -
vips cache+: cast in=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x7fd9882f9b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882f9b00) out=((VipsImage*) 0x7fd9882f9c90) -
vips cache+: cast in=((VipsImage*) 0x7fd9882f9c90) out=((VipsImage*) 0x7fd9882f9e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1325ca0) buffer=VIPS_TYPE_BLOB, data = 0x7fd988309cc0, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00015e2c0, length = 675 out=((VipsImage*) 0x1342b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eef00, length = 1259 out=((VipsImage*) 0x7fd97c635640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd97c635640) out=((VipsImage*) 0x7fd97c635af0) -
vips cache*: black out=((VipsImage*) 0x14211b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd98831b190) -
vips cache+: linear in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd98831b000) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7fd98831b000) out=((VipsImage*) 0x7fd98831b4b0) -
vips cache+: cast in=((VipsImage*) 0x7fd98831b000) out=((VipsImage*) 0x7fd98831b320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd98831b320) out=((VipsImage*) 0x7fd98831b640) -
vips cache+: embed in=((VipsImage*) 0x7fd97c635af0) out=((VipsImage*) 0x7fd97c635c80) x=1 y=1 width=103 height=103 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127  -
vips cache*: black out=((VipsImage*) 0x14211b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd98831b640) -
vips cache+: linear in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd98831b7d0) a=1  b=127  -
vips cach2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGB (0.03s)
=== RUN   TestImage_SimilarityRGBA
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
e : copy in=((VipsImage*) 0x7fd98831b7d0) out=((VipsImage*) 0x7fd98831baf0) -
vips cache+: cast in=((VipsImage*) 0x7fd98831b7d0) out=((VipsImage*) 0x7fd98831b960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd98831b960) out=((VipsImage*) 0x7fd98831bc80) -
vips cache+: affine in=((VipsImage*) 0x7fd97c635640) interpolate=((VipsInterpolateBilinear*) 0x7fd974043d90) out=((VipsImage*) 0x7fd97c635960) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x7fd97c635640) out=((VipsImage*) 0x7fd97c6357d0) scale=0.500000 angle=5.000000 background=127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache+: cast in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x7fd98831be10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd98831be10) out=((VipsImage*) 0x7fd98831bc80) -
vips cache+: linecache in=((VipsImage*) 0x7fd9794e8c90) out=((VipsImage*) 0x7fd978173190) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794e8c90) out=((VipsImage*) 0x7fd978173000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd978173000) out=((VipsImage*) 0x7fd978173320) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97c6357d0) buffer=VIPS_TYPE_BLOB, data = 0x7fd98832f5e0, length = 977 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000e9800, length = 977 out=((VipsImage*) 0x131ab10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ef400, length = 1259 out=((VipsImage*) 0x7fd98831bc80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x129e1b0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd978173960) -
vips cache+: linear in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd9781737d0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7fd9781737d0) out=((VipsImage*) 0x7fd978173c80) -
vips cache+: cast in=((VipsImage*) 0x7fd9781737d0) out=((VipsImage*) 0x7fd978173af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978173af0) out=((VipsImage*) 0x7fd978173e10) -
vips cache : copy in=((VipsImage*) 0x7fd98831bc80) out=((VipsImage*) 0x7fd9941b84c0) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7fd98831bc80) out=((VipsImage*) 0x136b980) c=255  -
vips cache : copy in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x7fd978173640) -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x7fd988341330) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x7fd9883411a0) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7fd9883411a0) out=((VipsImage*) 0x7fd988341650) -
vips cache+: cast in=((VipsImage*) 0x7fd9883411a0) out=((VipsImage*) 0x7fd9883414c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9883414c0) out=((VipsImage*) 0x7fd9883417e0) -
vips cache+: embed in=((VipsImage*) 0x7fd978173640) out=((VipsImage*) 0x7fd988341010) x=1 y=1 width=103 height=103 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127 127  -
vips cache : copy in=((VipsImage*) 0x7fd988341010) out=((VipsImage*) 0x12d5640) -
vips cache+: premultiply in=((VipsImage*) 0x7fd988341010) out=((VipsImage*) 0x7fd978173e10) -
vips cache*: black out=((VipsImage*) 0x12e2320) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x7fd988341b00) -
vips cache+: linear in=((VipsImage*) 0x12e2320) out=((VipsImage*) 0x7fd988341970) a=1  b=127  -
vips cache+: cast in=((Vip2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGBA (0.03s)
=== RUN   TestImage_Decode_JPG
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_JPG (0.03s)
=== RUN   TestImage_Decode_BMP
2023/10/14 12:56:04 [govips.info] warning libvips already started
sImage*) 0x7fd988341970) out=((VipsImage*) 0x7fd988341c90) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7fd988341c90) out=((VipsImage*) 0x7fd988341e20) -
vips cache : copy in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x12f5020) -
vips cache+: unpremultiply in=((VipsImage*) 0x1342c90) out=((VipsImage*) 0x1421020) -
vips cache : copy in=((VipsImage*) 0x1421020) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: cast in=((VipsImage*) 0x1421020) out=((VipsImage*) 0x7fd9883417e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: affine in=((VipsImage*) 0x136b980) interpolate=((VipsInterpolateBilinear*) 0x7fd974043de0) out=((VipsImage*) 0x14487f0) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x136b980) out=((VipsImage*) 0x1355af0) scale=0.500000 angle=5.000000 background=127 127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache : copy in=((VipsImage*) 0x1355af0) out=((VipsImage*) 0x7fd988350010) -
vips cache+: flatten in=((VipsImage*) 0x1355af0) background=0  out=((VipsImage*) 0x7fd988341e20) -
vips cache+: cast in=((VipsImage*) 0x7fd988341e20) out=((VipsImage*) 0x7fd988350330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd988350330) out=((VipsImage*) 0x7fd9883504c0) -
vips cache+: linecache in=((VipsImage*) 0x7fd988350650) out=((VipsImage*) 0x7fd988350970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd988350650) out=((VipsImage*) 0x7fd9883507e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9883507e0) out=((VipsImage*) 0x7fd988350b00) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1355af0) buffer=VIPS_TYPE_BLOB, data = 0x7fd988355290, length = 1000 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00027c400, length = 1000 out=((VipsImage*) 0x13fbc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ef900, length = 1259 out=((VipsImage*) 0x137d1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x137de20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x1448e30) -
vips cache+: linecache in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x12d5000) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x143eaf0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x14481b0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x137d1a0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9883610c0, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x137d1a0) out=((VipsImage*) 0x137de20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137de20) out=((VipsImage*) 0x12e2960) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x137d1a0) buffer=VIPS_TYPE_BLOB, data = 0x7fd964006620, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000770a00, length = 1240 out=((VipsImage*) 0x1342e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_b2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_BMP (0.04s)
=== RUN   TestImage_Decode_PNG
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_PNG (0.04s)
=== RUN   TestImage_Invert
2023/10/14 12:56:04 [govips.info] warning libvips already started
uffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 35680 out=((VipsImage*) 0x1355190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1355190) out=((VipsImage*) 0x129e7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x1337320) -
vips cache+: cast in=((VipsImage*) 0x1337320) out=((VipsImage*) 0x124bb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13374b0) out=((VipsImage*) 0x13e77f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13374b0) out=((VipsImage*) 0x128f980) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1355190) buffer=VIPS_TYPE_BLOB, data = 0x7fd96405e280, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x1355190) out=((VipsImage*) 0x129e7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129e7f0) out=((VipsImage*) 0x143e7d0) -
vips cache+: cast in=((VipsImage*) 0x143e7d0) out=((VipsImage*) 0x7fd9740057e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1355190) buffer=VIPS_TYPE_BLOB, data = 0x7fd96405e280, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000284a80, length = 26176 out=((VipsImage*) 0x124bc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000314000, length = 15391 out=((VipsImage*) 0x129e340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x129eb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129eb10) out=((VipsImage*) 0x13e7e30) -
vips cache+: cast in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x13fbb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x130ae30) out=((VipsImage*) 0x130a1b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130ae30) out=((VipsImage*) 0x1337640) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x129e340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9881175e0, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x129eb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x129eb10) out=((VipsImage*) 0x130a340) -
vips cache+: cast in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x12d5320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x129e340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9881175e0, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00025d500, length = 21518 out=((VipsImage*) 0x7fd9883504c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000770000, length = 1259 out=((VipsImage*) 0x1448e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x1337000) -
vips cache+: invert in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x13fb4c0) -
vips cache+: cast in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x7fd978008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x7fd9740054c0) -
vips cache+: linecache in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x129e4d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vip2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Invert (0.03s)
=== RUN   TestImage_Flip
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flip (0.03s)
=== RUN   TestImage_Embed
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed (0.03s)
=== RUN   TestImage_ExtractBand
2023/10/14 12:56:04 [govips.info] warning libvips already started
s cache+: sequential in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x1421660) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1421660) out=((VipsImage*) 0x7fd9794af330) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13fb4c0) buffer=VIPS_TYPE_BLOB, data = 0x7fd9881bf4b0, length = 1238 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000770500, length = 1238 out=((VipsImage*) 0x13254d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ee500, length = 1259 out=((VipsImage*) 0x136b340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: flip in=((VipsImage*) 0x136b340) out=((VipsImage*) 0x1448020) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache+: cast in=((VipsImage*) 0x1448020) out=((VipsImage*) 0x7fd9882b94c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882b94c0) out=((VipsImage*) 0x12e2af0) -
vips cache+: linecache in=((VipsImage*) 0x1325020) out=((VipsImage*) 0x7fd9941b8010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1325020) out=((VipsImage*) 0x124b330) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x124b330) out=((VipsImage*) 0x7fd9794af650) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1448020) buffer=VIPS_TYPE_BLOB, data = 0x7fd99c0456f0, length = 1165 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eea00, length = 1165 out=((VipsImage*) 0x12e2af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ef400, length = 1259 out=((VipsImage*) 0x137dc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x7fd9882b9650) x=10 y=10 width=20 height=20 extend=((VipsExtend) VIPS_EXTEND_BLACK) -
vips cache+: cast in=((VipsImage*) 0x7fd9882b9650) out=((VipsImage*) 0x1421ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1421ca0) out=((VipsImage*) 0x7fd9882b9e20) -
vips cache+: linecache in=((VipsImage*) 0x7fd9794af4c0) out=((VipsImage*) 0x7fd9882b9c90) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794af4c0) out=((VipsImage*) 0x7fd980036010) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd980036010) out=((VipsImage*) 0x7fd9800364c0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9882b9650) buffer=VIPS_TYPE_BLOB, data = 0x7fd99c024870, length = 778 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000372000, length = 778 out=((VipsImage*) 0x7fd9800367e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000be600, length = 335 out=((VipsImage*) 0x7fd9794afc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9794afc90) out=((VipsImage*) 0x12f57f0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd9794afc90) out=((VipsImage*) 0x124be20) band=2 n=1 -
vips cache+: cast in=((VipsImage*) 0x124be20) out=((VipsImage*) 0x7fd980036970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd980036970) out=((V2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ExtractBand (0.03s)
=== RUN   TestImage_Flatten
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flatten (0.03s)
=== RUN   TestImage_Tiff
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
ipsImage*) 0x7fd980036b00) -
vips cache+: cast in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x1342650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c0074d0) out=((VipsImage*) 0x7fd97c007660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c0074d0) out=((VipsImage*) 0x7fd97c0071b0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x124be20) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882c7cf0, length = 533 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000026240, length = 533 out=((VipsImage*) 0x7fd97c007020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000376000, length = 335 out=((VipsImage*) 0x13e74d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13e74d0) out=((VipsImage*) 0x7fd980036650) -
vips cache*: black out=((VipsImage*) 0x14211b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9882b91a0) -
vips cache+: linear in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9794af970) a=1  b=32 64 128  -
vips cache : copy in=((VipsImage*) 0x7fd9794af970) out=((VipsImage*) 0x7fd9941b8b00) -
vips cache+: cast in=((VipsImage*) 0x7fd9794af970) out=((VipsImage*) 0x7fd9882b9010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882b9010) out=((VipsImage*) 0x7fd9794afe20) -
vips cache+: flatten in=((VipsImage*) 0x13e74d0) background=32 64 128  out=((VipsImage*) 0x7fd97c007340) max-alpha=255.000000 -
vips cache+: cast in=((VipsImage*) 0x7fd97c007340) out=((VipsImage*) 0x7fd97c007e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c007e30) out=((VipsImage*) 0x14484d0) -
vips cache+: cast in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x7fd9882b9330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c007980) out=((VipsImage*) 0x131a020) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c007980) out=((VipsImage*) 0x12e2c80) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd97c007340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882c7cf0, length = 706 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000378000, length = 706 out=((VipsImage*) 0x7fd9882f9330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a7a000, length = 2901844 out=((VipsImage*) 0x7fd9882f94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd98827dc00, length = 456 -
vips cache : copy in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd9800361a0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd9740054c0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd9882f91a0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x130aca0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd98827dc00, length = 456 -
vips cache+: cast in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x12e2000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x7fd978008970) -
vips cache : copy in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x7fd9882f9970) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd988304e00) out=((VipsImage*) 0x12d5c80) -
vips cache+: icc_transform in=((VipsImage*) 0x7fd9882f94c0) intent=((VipsIntent) VIPS_INTENT_PERCE2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Tiff (0.13s)
=== RUN   TestImage_Black
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Black (0.03s)
=== RUN   TestImage_OptimizeCoding
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeCoding (0.11s)
=== RUN   TestImage_SubsampleMode
2023/10/14 12:56:04 [govips.info] warning libvips already started
PTUAL) out=((VipsImage*) 0x12d5c80) output-profile="/tmp/govips-2699648413/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache : copy in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x7fd9882f9b00) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd97c635320) tile-height=32 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd978008010) tile-height=32 -
vips cache : copy in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c635190) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c6354b0) alpha-band=3 -
vips cache : copy in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd98831b4b0) -
vips cache+: cast in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd9882f9e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : tiffsave_buffer in=((VipsImage*) 0x12d5c80) buffer=VIPS_TYPE_BLOB, data = 0x7fd9883deef0, length = 3068590 compression=((VipsForeignTiffCompression) VIPS_FOREIGN_TIFF_COMPRESSION_LZW) Q=80 predictor=((VipsForeignTiffPredictor) VIPS_FOREIGN_TIFF_PREDICTOR_HORIZONTAL) tile=FALSE tile-width=256 tile-height=256 pyramid=FALSE strip=FALSE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000d40000, length = 3068590 out=((VipsImage*) 0x1325ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: black out=((VipsImage*) 0x7fd97c635000) width=10 height=20 -
vips cache+: cast in=((VipsImage*) 0x7fd97c635000) out=((VipsImage*) 0x7fd98831b7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd98831b7d0) out=((VipsImage*) 0x7fd98831b640) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97c635000) buffer=VIPS_TYPE_BLOB, data = 0x7fd9882c7cf0, length = 455 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 459699 out=((VipsImage*) 0x7fd98831b960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd98831b960) out=((VipsImage*) 0x7fd97c007b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c007b10) out=((VipsImage*) 0x7fd97c635e10) -
vips cache+: linecache in=((VipsImage*) 0x7fd98831b190) out=((VipsImage*) 0x13421a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd98831b190) out=((VipsImage*) 0x7fd98831b320) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd98831b320) out=((VipsImage*) 0x7fd98831be10) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd98831b960) buffer=VIPS_TYPE_BLOB, data = 0x7fd988f16fa0, length = 486809 Q=75 optimize-coding=TRUE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004f2000, length = 486809 out=((VipsImage*) 0x7fd97c635c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005e2000, length = 459699 out=((VipsImage*) 0x7fd97c635af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd97c635af0) out=((VipsImage*) 0x7fd97c635640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c635640) out=((VipsImage*) 0x131ab10) -
vips cache+: linecache in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd978173190) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd978173000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd978173000) out=((VipsImage*) 0x7fd9781737d0) left2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SubsampleMode (0.06s)
=== RUN   TestImage_TrellisQuant
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.warning] ignoring trellis_quant
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TrellisQuant (0.07s)
=== RUN   TestImage_OvershootDeringing
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.warning] ignoring overshoot_deringing
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OvershootDeringing (0.07s)
=== RUN   TestImage_OptimizeScans
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.warning] ignoring optimize_scans
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97c635af0) buffer=VIPS_TYPE_BLOB, data = 0x7fd98844eef0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_ON) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000654000, length = 542772 out=((VipsImage*) 0x7fd97c635e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00078e000, length = 459699 out=((VipsImage*) 0x7fd97c6357d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x7fd9883411a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9883411a0) out=((VipsImage*) 0x7fd988341330) -
vips cache+: linecache in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd978173c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd978173af0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd978173af0) out=((VipsImage*) 0x7fd9794e8c90) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97c6357d0) buffer=VIPS_TYPE_BLOB, data = 0x7fd98844eef0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=TRUE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0008e6000, length = 542772 out=((VipsImage*) 0x7fd9883414c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009f2000, length = 459699 out=((VipsImage*) 0x7fd988341c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd988341c90) out=((VipsImage*) 0x7fd988341330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd988341330) out=((VipsImage*) 0x7fd988341650) -
vips cache+: linecache in=((VipsImage*) 0x7fd9882f9b00) out=((VipsImage*) 0x1342b00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882f9b00) out=((VipsImage*) 0x7fd97c0077f0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd97c0077f0) out=((VipsImage*) 0x7fd9882f9c90) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd988341c90) buffer=VIPS_TYPE_BLOB, data = 0x7fd98844eef0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=TRUE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00131c000, length = 542772 out=((VipsImage*) 0x7fd9882f94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001428000, length = 459699 out=((VipsImage*) 0x7fd9882f9010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd9882f9010) out=((VipsImage*) 0x130aca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x130aca0) out=((VipsImage*) 0x7fd9882f91a0) -
vips cache+: linecache in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x7fd978008970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x12e2000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x1337c80) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9882f9010) buffer=VIPS_TYPE_BLOB, data = 0x7fd988f12fc0, length = 486809 Q=75 optimize-coding=FALSE interlace=TRUE trellis--- PASS: TestImage_OptimizeScans (0.11s)
=== RUN   TestImage_QuantTable
2023/10/14 12:56:04 [govips.info] warning libvips already started
2023/10/14 12:56:04 [VIPS.warning] ignoring quant_table
2023/10/14 12:56:04 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_QuantTable (0.07s)
=== RUN   TestImage_Pixelate
2023/10/14 12:56:05 [govips.info] warning libvips already started
2023/10/14 12:56:05 [VIPS.info] residual reducev by 0.0416667
2023/10/14 12:56:05 [VIPS.info] shrinkv by 11
2023/10/14 12:56:05 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:05 [VIPS.info] reducev: using vector path
2023/10/14 12:56:05 [VIPS.info] residual reduceh by 0.0416667
2023/10/14 12:56:05 [VIPS.info] shrinkh by 11
2023/10/14 12:56:05 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:05 [VIPS.info] residual scale 23.9252 x 23.8806
-quant=FALSE overshoot-deringing=FALSE optimize-scans=TRUE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00149a000, length = 486809 out=((VipsImage*) 0x7fd988341330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00158a000, length = 459699 out=((VipsImage*) 0x7fd9883411a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd9883411a0) out=((VipsImage*) 0x7fd97c635640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c635640) out=((VipsImage*) 0x7fd97c007b10) -
vips cache+: linecache in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd98831b7d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd97c007980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd97c007980) out=((VipsImage*) 0x1325ca0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9883411a0) buffer=VIPS_TYPE_BLOB, data = 0x7fd98844af10, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=3 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0015fc000, length = 542772 out=((VipsImage*) 0x7fd97c635190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00056a000, length = 459699 out=((VipsImage*) 0x7fd978008010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c007ca0) -
vips cache+: embed in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd9794e8c90) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd978173960) vshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd978173960) out=((VipsImage*) 0x7fd978173c80) -
vips cache+: embed in=((VipsImage*) 0x7fd978173c80) out=((VipsImage*) 0x129e1b0) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd97c6357d0) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x1337c80) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x12d5c80) hshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x12e2000) -
vips cache+: embed in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x7fd978008970) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x7fd9882f9010) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c635320) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
vips cache : copy in=((VipsImage*) 0x7fd97c635320) out=((VipsImage*) 0x7fd988341330) -
vips cache : copy in=((VipsImage*) 0x7fd988341330) out=((VipsImage*) 0x7fd98831b640) -
vips cache+: embed in=((VipsImage*) 0x7fd98831b640) out=((VipsImage*) 0x7fd9781737d0) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x7fd978173190) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x7fd978173190) out=((VipsImage*) 0x7fd97c635e10) -
vips cache+: linear in=((VipsImage*) 0x7fd978173190) out=((VipsImage*) 0x7fd98831baf0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd978173320) -
vips cache+: cast in=((Vip2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Pixelate (0.19s)
=== RUN   TestImageRef_WebP
2023/10/14 12:56:05 [govips.info] warning libvips already started
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP (0.09s)
=== RUN   TestImageRef_WebP__ReducedEffort
2023/10/14 12:56:05 [govips.info] warning libvips already started
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__ReducedEffort (0.06s)
=== RUN   TestImageRef_WebP__NearLossless
2023/10/14 12:56:05 [govips.info] warning libvips already started
sImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd988341c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd988341c90) out=((VipsImage*) 0x7fd9882f9c90) -
vips cache+: affine in=((VipsImage*) 0x7fd988341330) interpolate=((VipsInterpolateNearest*) 0x7fd998066000) out=((VipsImage*) 0x7fd97c635af0) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7fd97c635320) out=((VipsImage*) 0x7fd9882f9970) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.880597 scale=23.925234 -
vips cache+: cast in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x7fd9882f9b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882f9b00) out=((VipsImage*) 0x7fd9882f94c0) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd9740b9970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd9740b9c90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9740b9c90) out=((VipsImage*) 0x7fd9740b97e0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9882f9970) buffer=VIPS_TYPE_BLOB, data = 0x7fd998c56b70, length = 253196 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00027e000, length = 253196 out=((VipsImage*) 0x7fd9882f94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003ac000, length = 152642 out=((VipsImage*) 0x7fd978173000) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd978173000) out=((VipsImage*) 0x7fd9882f9c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9882f9c90) out=((VipsImage*) 0x7fd9882f9e20) -
vips cache+: linecache in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd97c007340) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd97c007e30) -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7fd978173000) buffer=VIPS_TYPE_BLOB, data = 0x7fd99845a680, length = 44652 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000830000, length = 152642 out=((VipsImage*) 0x7fd988341650) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd988341650) out=((VipsImage*) 0x7fd9800361a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9800361a0) out=((VipsImage*) 0x7fd9882f9e20) -
vips cache+: linecache in=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x14211b0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x7fd9882b91a0) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7fd988341650) buffer=VIPS_TYPE_BLOB, data = 0x7fd998638710, length = 48004 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=2 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a64000, length = 152642 out=((VipsImage*) 0x7fd9882f9e20) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd9882f9e20) out=((VipsImage*) 0x7fd97c0071b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c0071b0) out=((VipsImage*) 0x7fd980036b00) -
vips cache+: linecache in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x12f57f0) t2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__NearLossless (0.49s)
=== RUN   TestImageRef_PNG
2023/10/14 12:56:05 [govips.info] warning libvips already started
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:05 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PNG (0.13s)
=== RUN   TestImageRef_HEIF
2023/10/14 12:56:05 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=1805222
    image_test.go:97: 
        	Error Trace:	image_test.go:97
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF
--- FAIL: TestImageRef_HEIF (0.00s)
=== RUN   TestImageRef_HEIF_MIF1
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=293608
    image_test.go:112: 
        	Error Trace:	image_test.go:112
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_MIF1
--- FAIL: TestImageRef_HEIF_MIF1 (0.00s)
=== RUN   TestImageRef_HEIF_ftypmsf1
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=893729
    image_test.go:127: 
        	Error Trace:	image_test.go:127
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_ftypmsf1
--- FAIL: TestImageRef_HEIF_ftypmsf1 (0.00s)
=== RUN   TestImageRef_BMP__ImplicitConversionToPNG
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_BMP__ImplicitConversionToPNG (0.01s)
=== RUN   TestImageRef_SVG
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG (0.00s)
=== RUN   TestImageRef_SVG_1
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_1 (0.00s)
=== RUN   TestImageRef_SVG_2
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_2 (0.00s)
=== RUN   TestImageRef_OverSizedMetadata
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_OverSizedMetadata (0.04s)
=== RUN   TestImageRef_Resize__Error
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [GLib-GObject.warning] value "-1.000000" of type 'gdouble' is invalid or out of range for property 'scale' of type 'gdouble'
--- PASS: TestImageRef_Resize__Error (0.00s)
=== RUN   TestImageRef_ExtractArea__Error
2023/10/14 12:56:06 [govips.info] warning libvips already started
ile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x124be20) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7fd9882f9e20) buffer=VIPS_TYPE_BLOB, data = 0x7fd99882ebe0, length = 110140 Q=75 lossless=FALSE profile="none" near-lossless=TRUE reduction-effort=4 strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b0a000, length = 135059 out=((VipsImage*) 0x7fd980036970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd980036970) out=((VipsImage*) 0x7fd980036b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x1342650) -
vips cache+: cast in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd9800367e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7fd9740b9330) out=((VipsImage*) 0x7fd9800364c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9740b9330) out=((VipsImage*) 0x7fd9794af4c0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd980036970) buffer=VIPS_TYPE_BLOB, data = 0x7fd99870a2b0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x7fd980036970) out=((VipsImage*) 0x7fd980036b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x7fd980036010) -
vips cache+: cast in=((VipsImage*) 0x7fd980036010) out=((VipsImage*) 0x7fd9882b9c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd980036970) buffer=VIPS_TYPE_BLOB, data = 0x7fd998656190, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 35680 out=((VipsImage*) 0x7fd97c635190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7fd97c635190) out=((VipsImage*) 0x1337960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1337960) out=((VipsImage*) 0x1325e30) -
vips cache+: cast in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x1342970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x1421ca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x7fd9794af7e0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd97c635190) buffer=VIPS_TYPE_BLOB, data = 0x7fd99864c5e0, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002bc000, length = 44261 out=((VipsImage*) 0x12d5960) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca000, length = 5058 out=((VipsImage*) 0x7fd9941b8010) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ae000, length = 3008 out=((VipsImage*) 0x1325020) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002d06000, length = 9763062 out=((VipsImage*) 0x124b4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00027e000, length = 135059 out=((VipsImage*) 0x13254d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a0000, length = 135059 out=((VipsImage*) 0x136b340) flags=((VipsForeignFlags) VIPS_FOREIGN_S--- PASS: TestImageRef_ExtractArea__Error (0.00s)
=== RUN   TestImageRef_HasAlpha__True
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__True (0.00s)
=== RUN   TestImageRef_HasAlpha__False
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__False (0.00s)
=== RUN   TestImageRef_AddAlpha
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha (0.09s)
=== RUN   TestImageRef_AddAlpha__Idempotent
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha__Idempotent (0.01s)
=== RUN   TestImageRef_HasProfile__True
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__True (0.00s)
=== RUN   TestImageRef_HasIPTC__True
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__True (0.00s)
=== RUN   TestImageRef_HasIPTC__False
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__False (0.00s)
=== RUN   TestImageRef_HasProfile__False
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__False (0.00s)
=== RUN   TestImageRef_GetOrientation__HasEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_GetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_GetOrientation__NoEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
EQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f2000, length = 47948 out=((VipsImage*) 0x7fd9882b94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000380000, length = 135059 out=((VipsImage*) 0x129e4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a2000, length = 135059 out=((VipsImage*) 0x7fd9794af330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x1421660) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x1337000) -
vips cache+: linear in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x13fb4c0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x143e320) -
vips cache+: cast in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x1448e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x7fd978008330) -
vips cache : copy in=((VipsImage*) 0x7fd9794af330) out=((VipsImage*) 0x129eb10) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7fd9794af330) out=((VipsImage*) 0x130a340) c=255  -
vips cache+: cast in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x1325660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x7fd9883504c0) -
vips cache+: cast in=((VipsImage*) 0x7fd9883504c0) out=((VipsImage*) 0x7fd978008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x124b330) out=((VipsImage*) 0x7fd9794e8e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x124b330) out=((VipsImage*) 0x129e340) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x130a340) buffer=VIPS_TYPE_BLOB, data = 0x7fd98c160140, length = 281418 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d8000, length = 47948 out=((VipsImage*) 0x12d5320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x12d5320) out=((VipsImage*) 0x13e7e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x13fbb00) -
vips cache+: cast in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x130ae30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x143e7d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x124bc90) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12d5320) buffer=VIPS_TYPE_BLOB, data = 0x7fd98c0506e0, length = 30266 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004c6000, length = 1297581 out=((VipsImage*) 0x143e000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000860000, length = 1297581 out=((VipsImage*) 0x128f980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f0a00, length = 1259 out=((VipsImage*) 0x13e77f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f0f00, length = 1259 out=((VipsImage*) 0x13374b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00099e000, length = 2980637 out=((VipsImage*) 0x7fd9740057e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00040e000, length = 135059 out=((VipsImage*) 0x124bb00) flag--- PASS: TestImageRef_GetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__HasEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__NoEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__HasEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__NoEXIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsProfile
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsProfile (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsNPages
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsNPages (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsPageHeight
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsPageHeight (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation__WebP
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation__WebP (0.00s)
=== RUN   TestImageRef_RemoveICCProfile
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveICCProfile (0.00s)
=== RUN   TestImageRef_TransformICCProfile
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_TransformICCProfile (0.01s)
=== RUN   TestImageRef_Close
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] 
=======================================
vips live objects: Final...
319 objects alive:
0) VipsForeignLoadNsgifBuffer (0x1248840), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000232000, length = 18146 out=((VipsImage*) 0x12f5b10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
1) VipsLineCache (0x7fd9700bec20), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x1421ca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
2) VipsImage (0x143e320), count=1
VipsImage (image), image class, 1x1 float, 1 band, multiband
3) VipsImage (0x14211b0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
4) VipsImage (0x7fd97c635e10), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
5) VipsCast (0x7fd9741f3d90), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd9800367e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
6) VipsImage (0x7fd97c0071b0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
7) VipsResize (0x7fd97003a640), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x7fd97c635320) out=((VipsImage*) 0x7fd9882f9970) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.880597 scale=23.925234 -
8) VipsImage (0x7fd9740054c0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
9) VipsImage (0x7fd9883417e0) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
10) VipsImage (0x124be20), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
11) VipsImage (0x7fd978008330), count=1
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
12) VipsSequential (0x7fd9794b0820), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x124b330) out=((VipsImage*) 0x129e340) tile-height=16 -
13) VipsForeignLoadWebpBuffer (0x7fd9740bc6f0), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003ac000, length = 152642 out=((VipsImage*) 0x7fd978173000) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
14) VipsCopy (0x7fd97001f160), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd978173190) out=((VipsImage*) 0x7fd97c635e10) -
15) VipsCopy (0x7fd97012a5a0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x13fbb00) -
16) VipsImage (0x7fd980036970) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
17) VipsSource (0x7fd98c113990), count=2
VipsSource (source), input source, 
18) VipsForeignLoadSvgBuffer (0x7fd99844bae0), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca000, length = 5058 out=((VipsImage*) 0x7fd9941b8010) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
19) VipsLineCache (0x7fd98003a0c0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd97c007340) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
20) VipsForeignLoadPngBuffer (0x7fd97010de50), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f2000, length = 47948 out=((VipsImage*) 0x7fd9882b94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
21) VipsCopy (0x7fd97001f4d0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd978173960) out=((VipsImage*) 0x7fd978173c80) -
22) VipsImage (0x13e7e30), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
23) VipsSource (0x7fd988334010), count=2
VipsSource (source), input source, 
24) VipsSource (0x12a08e0), count=1
VipsSource (source), input source, 
25) VipsExtractArea (0x12dfc30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x131a4d0) left=0 top=256 width=121 height=128 -
26) VipsImage (0x7fd9794afc90) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
27) VipsExtractArea (0x12955c0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d57d0) left=0 top=256 width=121 height=128 -
28) VipsCast (0x7fd98833d020), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd980036970) out=((VipsImage*) 0x7fd980036b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
29) VipsCopy (0x7fd97002e450), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1337960) out=((VipsImage*) 0x1325e30) -
30) VipsForeignLoadWebpBuffer (0x7fd9882a5610), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000830000, length = 152642 out=((VipsImage*) 0x7fd988341650) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
31) VipsImage (0x7fd988341330), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
32) VipsImage (0x137dc90), count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
33) VipsImage (0x7fd988350b00), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
34) VipsForeignLoadNsgifBuffer (0x1248c40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f8000, length = 18146 out=((VipsImage*) 0x7fd988350650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
35) VipsImage (0x12d5190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
36) VipsSource (0x7fd974041b40), count=2
VipsSource (source), input source, 
37) VipsForeignLoadJpegBuffer (0x7fd988334550), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004c6000, length = 1297581 out=((VipsImage*) 0x143e000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
38) VipsShrinkv (0x7fd988284870), count=2
VipsShrinkv (shrinkv), shrink an image vertically, shrinkv in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd978173960) vshrink=11 ceil=TRUE -
39) VipsImage (0x7fd9800364c0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
40) VipsExtractArea (0x1329a80), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x13424c0) left=0 top=896 width=121 height=128 -
41) VipsCopy (0x127a450), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x1342650) -
42) VipsImage (0x7fd97c6354b0), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
43) VipsImage (0x12e24b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
44) VipsImage (0x129eb10), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
45) VipsImage (0x7fd9794af7e0), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
46) VipsForeignLoadPngBuffer (0x7fd970070020), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002d06000, length = 9763062 out=((VipsImage*) 0x124b4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
47) VipsCast (0x7fd98833d220), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x12d5320) out=((VipsImage*) 0x13e7e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
48) VipsImage (0x1342e20) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
49) VipsCopy (0x7fd970166230), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd9883507e0) out=((VipsImage*) 0x7fd988350970) -
50) VipsImage (0x130ab10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
51) VipsSequential (0x7fd9794b08b0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x124bc90) tile-height=16 -
52) VipsImage (0x1337960), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
53) VipsForeignLoadPngBuffer (0x13ee820), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000d8000, length = 47948 out=((VipsImage*) 0x12d5320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
54) VipsImage (0x7fd9941b8b00), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
55) VipsImage (0x7fd97c007e30), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
56) VipsImage (0x124b4c0) 4176 bytes, count=2
VipsImage (image), image class, 850x315 uchar, 3 bands, srgb, pngload_buffer
57) VipsSource (0x124a250), count=2
VipsSource (source), input source, 
58) VipsImage (0x7fd988350650), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
59) VipsLineCache (0x7fd970022e50), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x14211b0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
60) VipsCopy (0x7fd97014c4d0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x1337000) -
61) VipsImage (0x7fd980036010), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
62) VipsImage (0x7fd978173af0), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
63) VipsSource (0x7fd98c113a50), count=2
VipsSource (source), input source, 
64) VipsForeignLoadPngBuffer (0x7fd9701a4000), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000604000, length = 135059 out=((VipsImage*) 0x7fd974005330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
65) VipsImage (0x7fd9882b94c0) 4176 bytes, count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
66) VipsImage (0x12e2000), count=2
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
67) VipsImage (0x1342970), count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
68) VipsImage (0x7fd9794af330) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
69) VipsSequential (0x7fd97800b800), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x12e2c80) out=((VipsImage*) 0x7fd97c007e30) -
70) VipsCast (0x7fd98833d420), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x1325660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
71) VipsImage (0x143eaf0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
72) VipsLineCache (0x7fd9700eae30), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x124b330) out=((VipsImage*) 0x7fd9794e8e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
73) VipsImage (0x14481b0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
74) VipsImage (0x1325660), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
75) VipsImage (0x13374b0) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
76) VipsImage (0x13fb4c0), count=3
VipsImage (image), image class, 1x1 float, 1 band, multiband
77) VipsSequential (0x7fd97815f4b0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd9740b9c90) tile-height=8 -
78) VipsForeignLoadJpegBuffer (0x12a09a0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b2000, length = 34855 out=((VipsImage*) 0x7fd9883507e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
79) VipsCopy (0x7fd9701a46e0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x137de20) -
80) VipsImage (0x7fd9883501a0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
81) VipsSource (0x7fd9882a56d0), count=3
VipsSource (source), input source, 
82) VipsImage (0x136b340) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
83) VipsCopy (0x7fd97012a4f0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x137d1a0) -
84) VipsCopy (0x7fd970204800), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd9794af330) out=((VipsImage*) 0x129eb10) -
85) VipsLineCache (0x7fd9802304e0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7fd97c6354b0) out=((VipsImage*) 0x7fd9740b9970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
86) VipsSource (0x7fd974041c00), count=2
VipsSource (source), input source, 
87) VipsSource (0x7fd988334610), count=2
VipsSource (source), input source, 
88) VipsImage (0x12d5e10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
89) VipsImage (0x7fd98831baf0), count=3
VipsImage (image), image class, 1x1 float, 3 bands, multiband
90) VipsImage (0x7fd9882f9e20), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
91) VipsForeignLoadPngBuffer (0x7fd97001f420), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 35680 out=((VipsImage*) 0x7fd97c635190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
92) VipsImage (0x7fd9882b9010), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
93) VipsImage (0x129e1b0), count=2
VipsImage (image), image class, 2560x161 uchar, 3 bands, srgb, jpegload_buffer
94) VipsImage (0x12f5b10), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
95) VipsImage (0x13424c0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
96) VipsImage (0x7fd9794e8e20), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
97) VipsCopy (0x7fd97001bd00), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd97c635320) out=((VipsImage*) 0x7fd988341330) -
98) VipsImage (0x130a1b0), count=3
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
99) VipsImage (0x1337000), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
100) VipsForeignLoadPngBuffer (0x7fd97002e710), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a0000, length = 135059 out=((VipsImage*) 0x136b340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
101) VipsImage (0x7fd97c0074d0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
102) VipsCopy (0x7fd98001dc30), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c007ca0) -
103) VipsImage (0x7fd978008b00), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
104) VipsExtractArea (0x1295540), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d54b0) left=0 top=128 width=121 height=128 -
105) VipsImage (0x7fd9740057e0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
106) VipsImage (0x7fd978173190), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
107) VipsImage (0x7fd9740b9970), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
108) VipsImage (0x12d5960), count=1
VipsImage (image), image class, 159x202 uchar, 4 bands, srgb, svgload_buffer
109) VipsImage (0x7fd98831b640), count=2
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
110) VipsImage (0x7fd9882f9970), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
111) VipsSource (0x7fd9882a5250), count=3
VipsSource (source), input source, 
112) VipsCast (0x7fd99418bda0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd980036010) out=((VipsImage*) 0x7fd9882b9c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
113) VipsSequential (0x7fd97815f540), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7fd9941b8b00) out=((VipsImage*) 0x7fd9882b91a0) -
114) VipsSource (0x7fd97401bcb0), count=2
VipsSource (source), input source, 
115) VipsSource (0x7fd9941120c0), count=2
VipsSource (source), input source, 
116) VipsCopy (0x7fd970022a30), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x7fd980036010) -
117) VipsImage (0x12e2c80), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
118) VipsImage (0x7fd97c007020), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
119) VipsSource (0x7fd988334190), count=2
VipsSource (source), input source, 
120) VipsImage (0x1355af0), count=1
VipsImage (image), image class, 521x391 uchar, 4 bands, srgb
121) VipsImage (0x1421020) 1080 bytes, count=3
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
122) VipsExtractArea (0x12dfdb0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x13257f0) left=0 top=512 width=121 height=128 -
123) VipsCopy (0x7fd97016f500), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x143e320) -
124) VipsExtractArea (0x1295740), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e2190) left=0 top=640 width=121 height=128 -
125) VipsSource (0x7fd994146b10), count=3
VipsSource (source), input source, 
126) VipsLineCache (0x7fd9700beac0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7fd9740b9330) out=((VipsImage*) 0x7fd9800364c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
127) VipsImage (0x1448e30), count=1
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
128) VipsImage (0x7fd988341650), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
129) VipsImage (0x124bc90), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
130) VipsImage (0x7fd974005330) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
131) VipsImage (0x12d54b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
132) VipsCopy (0x7fd97003a170), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd978173320) -
133) VipsImage (0x7fd9882f94c0) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
134) VipsSource (0x7fd974041cc0), count=3
VipsSource (source), input source, 
135) VipsImage (0x7fd9800367e0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
136) VipsForeignLoadJpegBuffer (0x7fd9883346d0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001364000, length = 1297581 out=((VipsImage*) 0x7fd9883417e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
137) VipsForeignLoadPngBuffer (0x7fd9700366e0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000626000, length = 135059 out=((VipsImage*) 0x130a980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
138) VipsImage (0x7fd97c6357d0), count=5
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
139) VipsIccTransform (0x7fd988291490) 16 bytes, count=2
VipsIccTransform (icc_transform), transform between devices with ICC profiles, icc_transform in=((VipsImage*) 0x1421020) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x12f5020) output-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" depth=8 -
140) VipsImage (0x7fd9882b9c90), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
141) VipsImage (0x129ee30), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
142) VipsImage (0x12e27d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
143) VipsBlack (0x7fd9940b69c0), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x1421660) width=1 height=1 bands=1 -
144) VipsForeignLoadNsgifBuffer (0x1248740), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d7800, length = 18146 out=((VipsImage*) 0x129ee30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
145) VipsShrinkh (0x7fd9882254c0), count=2
VipsShrinkh (shrinkh), shrink an image horizontally, shrinkh in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x12d5c80) hshrink=11 ceil=TRUE -
146) VipsCast (0x7fd98833d3a0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd9883504c0) out=((VipsImage*) 0x7fd978008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
147) VipsImage (0x1337c80), count=2
VipsImage (image), image class, 2571x67 uchar, 3 bands, srgb, jpegload_buffer
148) VipsForeignLoadJpegBuffer (0x7fd9740bc3f0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00056a000, length = 459699 out=((VipsImage*) 0x7fd978008010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
149) VipsImage (0x13fbc90) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
150) VipsImage (0x1325e30), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
151) VipsImage (0x130ae30), count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
152) VipsSequential (0x7fd97815f5d0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x124be20) -
153) VipsForeignLoadJpegBuffer (0x7fd97401b830), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00099e000, length = 2980637 out=((VipsImage*) 0x7fd9740057e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
154) VipsImage (0x12d5000), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb
155) VipsImage (0x7fd9882f9010), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
156) VipsImage (0x7fd988350970), count=1
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb
157) VipsImage (0x7fd978173e10) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
158) VipsExtractArea (0x12df930), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x12f5ca0) left=0 top=0 width=121 height=128 -
159) VipsCast (0x12952c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x7fd9882f9b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
160) VipsCopy (0x7fd970041210), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd988341330) out=((VipsImage*) 0x7fd98831b640) -
161) VipsImage (0x13e77f0) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
162) VipsImage (0x7fd97c635320), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
163) VipsForeignLoadWebpBuffer (0x7fd9882a5310), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a64000, length = 152642 out=((VipsImage*) 0x7fd9882f9e20) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
164) VipsSource (0x7fd97401bd70), count=2
VipsSource (source), input source, 
165) VipsForeignLoadPngBuffer (0x7fd970041580), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000696000, length = 135059 out=((VipsImage*) 0x7fd978173e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
166) VipsCast (0x7fd9882256c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd9882f9e20) out=((VipsImage*) 0x7fd97c0071b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
167) VipsEmbed (0x128e2b0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7fd978173c80) out=((VipsImage*) 0x129e1b0) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
168) VipsImage (0x130a980) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
169) VipsImage (0x14484d0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
170) VipsSource (0x7fd988334250), count=2
VipsSource (source), input source, 
171) VipsCopy (0x7fd98001def0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd9883417e0) out=((VipsImage*) 0x7fd978008b00) -
172) VipsImage (0x7fd97c007ca0), count=4
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
173) VipsImage (0x7fd9883504c0), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
174) VipsLineCache (0x7fd97003b2d0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x130a1b0) out=((VipsImage*) 0x143e7d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
175) VipsImage (0x1421ca0), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
176) VipsImage (0x124b330), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
177) VipsForeignLoadJpegBuffer (0x12a0b20), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001226000, length = 1297581 out=((VipsImage*) 0x13fbc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
178) VipsSource (0x7fd994112180), count=1
VipsSource (source), input source, 
179) VipsImage (0x7fd978173960), count=3
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
180) VipsExtractArea (0x12dfb30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x131ae30) left=0 top=384 width=121 height=128 -
181) VipsExtractArea (0x12954c0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5190) left=0 top=0 width=121 height=128 -
182) VipsSource (0x7fd974041d80), count=2
VipsSource (source), input source, 
183) VipsForeignLoadSvgBuffer (0x7fd99844bbb0), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ae000, length = 3008 out=((VipsImage*) 0x1325020) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
184) VipsImage (0x7fd9882b9330), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
185) VipsImage (0x129e4d0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
186) VipsForeignLoadSvgBuffer (0x7fd99844ba10), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002bc000, length = 44261 out=((VipsImage*) 0x12d5960) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
187) VipsSequential (0x7fd97815f660), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7fd9740b9330) out=((VipsImage*) 0x7fd9794af4c0) tile-height=16 -
188) VipsCopy (0x7fd97016f450), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x7fd9883504c0) -
189) VipsCast (0x7fd99418bd20), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd988341650) out=((VipsImage*) 0x7fd9800361a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
190) VipsImage (0x13254d0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
191) VipsImage (0x1337320), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
192) VipsImage (0x7fd97c0077f0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
193) VipsImage (0x137d1a0), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
194) VipsEmbed (0x128e170), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x12e2000) out=((VipsImage*) 0x7fd978008970) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
195) VipsForeignLoadJpegBuffer (0x13f3900), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c76000, length = 2980637 out=((VipsImage*) 0x1342e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
196) VipsImage (0x7fd988350010), count=2
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb, webpload_buffer
197) VipsProfileLoad (0x7fd98827d900), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
198) VipsResize (0x7fd970036630), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x7fd978008010) out=((VipsImage*) 0x7fd97c635320) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
199) VipsSource (0x7fd97401b8f0), count=2
VipsSource (source), input source, 
200) VipsImage (0x7fd9740b9c90), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
201) VipsImage (0x7fd978008970), count=2
VipsImage (image), image class, 248x67 uchar, 3 bands, srgb, jpegload_buffer
202) VipsCast (0x7fd98833d120), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x1342970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
203) VipsSource (0x1330820), count=3
VipsSource (source), input source, 
204) VipsExtractArea (0x12956c0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5e10) left=0 top=512 width=121 height=128 -
205) VipsImage (0x7fd9882f9c90), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
206) VipsImage (0x12d5c80), count=3
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
207) VipsCast (0x12dfd30), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd988341c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
208) VipsForeignLoadNsgifBuffer (0x1248d40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fc800, length = 18146 out=((VipsImage*) 0x7fd988341e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
209) VipsImage (0x7fd988341e20), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
210) VipsImage (0x7fd9794e8c90), count=2
VipsImage (image), image class, 2560x1606 uchar, 3 bands, srgb, jpegload_buffer
211) VipsForeignLoadJpegBuffer (0x13f3e40), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00027e000, length = 253196 out=((VipsImage*) 0x7fd9882f94c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
212) VipsImage (0x1325020), count=1
VipsImage (image), image class, 31x29 uchar, 4 bands, srgb, svgload_buffer
213) VipsImage (0x7fd9941b8010), count=1
VipsImage (image), image class, 842x595 uchar, 4 bands, srgb, svgload_buffer
214) VipsImage (0x7fd97c007340), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
215) VipsProfileLoad (0x7fd98c230020), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd98c23cfc0, length = 3048 -
216) VipsLinear (0x7fd988334310) 48 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x7fd978173190) out=((VipsImage*) 0x7fd98831baf0) a=1  b=0  -
217) VipsSource (0x12a0be0), count=2
VipsSource (source), input source, 
218) VipsExtractArea (0x12dff30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x1337190) left=0 top=640 width=121 height=128 -
219) VipsImage (0x7fd9740b97e0), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
220) VipsCast (0x7fd98833d320), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x13fbb00) out=((VipsImage*) 0x130ae30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
221) VipsImage (0x7fd978173000), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
222) VipsSequential (0x7fd97815f6f0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x137dc90) out=((VipsImage*) 0x7fd9794af7e0) tile-height=16 -
223) VipsImage (0x12d57d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
224) VipsImage (0x7fd98831b4b0) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
225) VipsForeignLoadPngBuffer (0x7fd970014820), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00040e000, length = 135059 out=((VipsImage*) 0x124bb00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
226) VipsImage (0x7fd980036b00), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
227) VipsImage (0x143e000) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
228) VipsCast (0x7fd9741f3c10), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd97c635190) out=((VipsImage*) 0x1337960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
229) VipsForeignLoadPngBuffer (0x7fd970014b90), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b0a000, length = 135059 out=((VipsImage*) 0x7fd980036970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
230) VipsSource (0x7fd9740bc030), count=2
VipsSource (source), input source, 
231) VipsImage (0x7fd97c635af0), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
232) VipsCopy (0x7fd9701310c0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x14481b0) -
233) VipsExtractArea (0x12df8b0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e27d0) left=0 top=896 width=121 height=128 -
234) VipsImage (0x128f980) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
235) VipsImage (0x12e2af0) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
236) VipsCopy (0x127a5b0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13fbc90) out=((VipsImage*) 0x12d5000) -
237) VipsBandjoinConst (0x7fd988208670), count=2
VipsBandjoinConst (bandjoin_const), append a constant band to an image, bandjoin_const in=((VipsImage*) 0x7fd9794af330) out=((VipsImage*) 0x130a340) c=255  -
238) VipsImage (0x7fd9883414c0) 32 bytes, count=2
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
239) VipsImage (0x131ae30), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
240) VipsImage (0x124bb00) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
241) VipsEmbed (0x128edf0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd9794e8c90) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
242) VipsImage (0x7fd978008010) 1080 bytes, count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
243) VipsForeignLoadPngBuffer (0x7fd970070180), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00027e000, length = 135059 out=((VipsImage*) 0x13254d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
244) VipsImage (0x7fd9740b9330), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
245) VipsImage (0x137de20), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
246) VipsImage (0x12d5320) 4176 bytes, count=4
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
247) VipsSource (0x7fd97401b9b0), count=2
VipsSource (source), input source, 
248) VipsSource (0x124a550), count=3
VipsSource (source), input source, 
249) VipsImage (0x12f5020), count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
250) VipsSource (0x7fd98c113810), count=2
VipsSource (source), input source, 
251) VipsLineCache (0x7fd9700b5e60), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x12f57f0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
252) VipsLinear (0x13f39c0) 16 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x13fb4c0) a=1  b=255  -
253) VipsCopy (0x7fd9700be960), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd988350010) out=((VipsImage*) 0x14487f0) -
254) VipsExtractArea (0x12dfab0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x130ab10) left=0 top=128 width=121 height=128 -
255) VipsSource (0x7fd994146810), count=2
VipsSource (source), input source, 
256) VipsImage (0x7fd9794af970), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
257) VipsInterpolateNearest (0x7fd998066000), count=2
VipsInterpolateNearest (nearest), nearest-neighbour interpolation, 
258) VipsForeignLoadPngBuffer (0x7fd97014c630), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000380000, length = 135059 out=((VipsImage*) 0x129e4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
259) VipsSource (0x13f3f00), count=3
VipsSource (source), input source, 
260) VipsImage (0x14487f0), count=1
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb
261) VipsCopy (0x7fd97019b660), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd988341e20) out=((VipsImage*) 0x7fd9883501a0) -
262) VipsImage (0x1337af0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
263) VipsImage (0x13fbb00), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
264) VipsReducev (0x7fd9980242f0) 13650 bytes, count=2
VipsReducev (reducev), shrink an image vertically, reducev in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd97c6357d0) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
265) VipsSource (0x7fd9883343d0), count=2
VipsSource (source), input source, 
266) VipsImage (0x7fd9883507e0) 1080 bytes, count=2
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb, jpegload_buffer
267) VipsSource (0x12a0ca0), count=1
VipsSource (source), input source, 
268) VipsExtractArea (0x1329900), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12f5b10) out=((VipsImage*) 0x1337af0) left=0 top=768 width=121 height=128 -
269) VipsForeignLoadWebpBuffer (0x7fd994112300), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000648000, length = 311364 out=((VipsImage*) 0x7fd988350010) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
270) VipsImage (0x7fd978173c80), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
271) VipsEmbed (0x128ecb0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x1337c80) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
272) VipsImage (0x7fd9800361a0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
273) VipsAffine (0x7fd998068000), count=2
VipsAffine (affine), affine transform of an image, affine in=((VipsImage*) 0x7fd988341330) interpolate=((VipsInterpolateNearest*) 0x7fd998066000) out=((VipsImage*) 0x7fd97c635af0) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
274) VipsImage (0x7fd97c635190) 4176 bytes, count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
275) VipsExtractArea (0x1295640), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12d5af0) left=0 top=384 width=121 height=128 -
276) VipsImage (0x7fd9882b9650) 4176 bytes, count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
277) VipsImage (0x12e2190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
278) VipsImage (0x1342b00), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
279) VipsExtractArea (0x7fd98833d0a0), count=2
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x7fd9740b9c90) out=((VipsImage*) 0x7fd9740b97e0) left=0 top=0 width=2560 height=1600 -
280) VipsImage (0x7fd9794af4c0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
281) VipsCopy (0x7fd97003a6f0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x12d5c80) out=((VipsImage*) 0x12e2000) -
282) VipsImage (0x1337640) 4176 bytes, count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
283) VipsImage (0x13257f0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
284) VipsImage (0x131a4d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
285) VipsCopy (0x7fd978003710), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x1337320) -
286) VipsImage (0x7fd9781737d0), count=2
VipsImage (image), image class, 109x69 uchar, 3 bands, srgb, jpegload_buffer
287) VipsForeignLoadJpegBuffer (0x7fd98c1138d0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0014a2000, length = 1297581 out=((VipsImage*) 0x1421020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
288) VipsForeignLoadJpegBuffer (0x7fd974003cb0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f0f00, length = 1259 out=((VipsImage*) 0x13374b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
289) VipsReduceh (0x7fd99803b070) 9750 bytes, count=2
VipsReduceh (reduceh), shrink an image horizontally, reduceh in=((VipsImage*) 0x7fd97c6357d0) out=((VipsImage*) 0x7fd9882f9010) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
290) VipsImage (0x12f5ca0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
291) VipsBlack (0x7fd9882253c0), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x7fd978173190) width=1 height=1 bands=3 -
292) VipsForeignLoadJpegBuffer (0x13309a0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000f4e000, length = 2980637 out=((VipsImage*) 0x143eaf0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
293) VipsImage (0x7fd9882b91a0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
294) VipsImage (0x129e340), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
295) VipsEmbed (0x128eb70), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7fd98831b640) out=((VipsImage*) 0x7fd9781737d0) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
296) VipsImage (0x1342650), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
297) VipsSource (0x12a0820), count=1
VipsSource (source), input source, 
298) VipsImage (0x1421660), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
299) VipsForeignLoadPngBuffer (0x7fd970232c20), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a2000, length = 135059 out=((VipsImage*) 0x7fd9794af330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
300) VipsImage (0x130a340), count=4
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
301) VipsImage (0x1337190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
302) VipsSource (0x124a610), count=2
VipsSource (source), input source, 
303) VipsImage (0x7fd97c007660), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
304) VipsImage (0x143e7d0), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
305) VipsForeignLoadJpegBuffer (0x7fd9882a5550), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f0a00, length = 1259 out=((VipsImage*) 0x13e77f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
306) VipsExtractArea (0x12df830), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x129ee30) out=((VipsImage*) 0x12e24b0) left=0 top=768 width=121 height=128 -
307) VipsCopy (0x7fd9701d9800), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7fd988350650) out=((VipsImage*) 0x7fd988350b00) -
308) VipsSource (0x7fd9941468d0), count=2
VipsSource (source), input source, 
309) VipsImage (0x7fd978173320), count=1
VipsImage (image), image class, 1x1 float, 3 bands, multiband
310) VipsImage (0x7fd9740b9b00), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
311) VipsForeignLoadJpegBuffer (0x7fd988334490), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000860000, length = 1297581 out=((VipsImage*) 0x128f980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
312) VipsImage (0x7fd988341c90), count=1
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
313) VipsSource (0x12a0d60), count=3
VipsSource (source), input source, 
314) VipsCast (0x7fd9882255c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7fd978173000) out=((VipsImage*) 0x7fd9882f9c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
315) VipsImage (0x7fd9882f9b00), count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
316) VipsCast (0x7fd98833d4a0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x1448e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
317) VipsImage (0x12f57f0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
318) VipsImage (0x12d5af0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
2023/10/14 12:56:06 [govips.info] =======================================

--- PASS: TestImageRef_Close (0.00s)
=== RUN   TestImageRef_Close__AlreadyClosed
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_Close__AlreadyClosed (0.00s)
=== RUN   TestImageRef_NotImage
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=4928
--- PASS: TestImageRef_NotImage (0.00s)
=== RUN   TestImageRef_Label
2023/10/14 12:56:06 [govips.info] warning libvips already started
s=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c76000, length = 2980637 out=((VipsImage*) 0x1342e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1342e20) out=((VipsImage*) 0x1337320) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000604000, length = 135059 out=((VipsImage*) 0x7fd974005330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd974005330) out=((VipsImage*) 0x14481b0) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000f4e000, length = 2980637 out=((VipsImage*) 0x143eaf0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x137d1a0) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000626000, length = 135059 out=((VipsImage*) 0x130a980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x130a980) out=((VipsImage*) 0x137de20) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001226000, length = 1297581 out=((VipsImage*) 0x13fbc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13fbc90) out=((VipsImage*) 0x12d5000) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b2000, length = 34855 out=((VipsImage*) 0x7fd9883507e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9883507e0) out=((VipsImage*) 0x7fd988350970) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f8000, length = 18146 out=((VipsImage*) 0x7fd988350650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x7fd988350650) out=((VipsImage*) 0x7fd988350b00) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fc800, length = 18146 out=((VipsImage*) 0x7fd988341e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x7fd988341e20) out=((VipsImage*) 0x7fd9883501a0) -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000648000, length = 311364 out=((VipsImage*) 0x7fd988350010) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache : copy in=((VipsImage*) 0x7fd988350010) out=((VipsImage*) 0x14487f0) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001364000, length = 1297581 out=((VipsImage*) 0x7fd9883417e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9883417e0) out=((VipsImage*) 0x7fd978008b00) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0014a2000, length = 1297581 out=((VipsImage*) 0x1421020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd98c23cfc0, length = 3048 -
vips cache*: profile_load name="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7fd98c23cfc0, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x1421020) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x12f5020) output-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-2699648413/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000696000, length = 135059 out=((VipsImage*) 0x7fd978173e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006b8000, length = 135059 out=((VipsImage*) 0x12d5640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f0500, length = 1259 out=((VipsImage*) 0x1325ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x131a020) out=((VipsImage*) 0x7fd9882f9330) -
vips cache+: extract_band in=((VipsImage*) 0x131a0--- PASS: TestImageRef_Label (0.05s)
=== RUN   TestImageRef_Composite
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
20) out=((VipsImage*) 0x7fd9883411a0) band=3 -
vips cache : copy in=((VipsImage*) 0x7fd9883411a0) out=((VipsImage*) 0x7fd988350b00) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_MULTIBAND) -
vips cache+: text out=((VipsImage*) 0x7fd98831b7d0) text="Text label" font="" width=0 height=0 align=((VipsAlign) VIPS_ALIGN_LOW) autofit-dpi=2 -
vips cache : copy in=((VipsImage*) 0x7fd98831b7d0) out=((VipsImage*) 0x14487f0) -
vips cache+: linear in=((VipsImage*) 0x7fd98831b7d0) out=((VipsImage*) 0x7fd9883501a0) a=0  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd9883501a0) out=((VipsImage*) 0x7fd98831b960) -
vips cache+: cast in=((VipsImage*) 0x7fd9883501a0) out=((VipsImage*) 0x7fd978008b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: embed in=((VipsImage*) 0x7fd978008b00) out=((VipsImage*) 0x7fd98831b000) x=0 y=0 width=1 height=1 -
vips cache+: black out=((VipsImage*) 0x7fd98831be10) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd98831be10) out=((VipsImage*) 0x13421a0) -
vips cache : copy in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x7fd97c635c80) -
vips cache : copy in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x7fd97c635000) -
vips cache : copy in=((VipsImage*) 0x13421a0) out=((VipsImage*) 0x7fd988341010) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd97402f1c0) out=((VipsImage*) 0x7fd98831b190) -
vips cache+: linear in=((VipsImage*) 0x7fd98831be10) out=((VipsImage*) 0x7fd98831b320) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd98831b320) out=((VipsImage*) 0x136b980) -
vips cache+: cast in=((VipsImage*) 0x7fd98831b320) out=((VipsImage*) 0x7fd978173640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd978173640) out=((VipsImage*) 0x7fd9941b84c0) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: embed in=((VipsImage*) 0x7fd9941b84c0) out=((VipsImage*) 0x7fd98831bc80) x=0 y=0 width=100 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache : copy in=((VipsImage*) 0x7fd98831b000) out=((VipsImage*) 0x7fd97c635960) -
vips cache : copy in=((VipsImage*) 0x7fd98831b000) out=((VipsImage*) 0x7fd988341970) -
vips cache : copy in=((VipsImage*) 0x7fd98831b000) out=((VipsImage*) 0x7fd988341b00) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd9740dc1b0) out=((VipsImage*) 0x7fd988350330) -
vips cache+: embed in=((VipsImage*) 0x7fd988350330) out=((VipsImage*) 0x12e2320) x=0 y=0 width=100 height=100 -
vips cache+: ifthenelse cond=((VipsImage*) 0x7fd98831b000) in1=((VipsImage*) 0x7fd98831bc80) in2=((VipsImage*) 0x1325ca0) out=((VipsImage*) 0x7fd9781734b0) blend=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002c2000, length = 135059 out=((VipsImage*) 0x131ab10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b6000, length = 12858 out=((VipsImage*) 0x7fd97c007980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x131ab10) out=((VipsImage*) 0x1355c80) -
vips cache : copy in=((VipsImage*) 0x7fd97c007980) out=((VipsImage*) 0x143e640) -
vips cache*: black out=((VipsImage*) 0x1421660) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x1342330) -
vips cache+: linear in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x129e020) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x1448980) -
vips cache+: cast in=((VipsImage*) 0x129e020) out=((VipsImage*) 0x1421e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x130a660) -
vips cache : copy in=((VipsImage*) 0x1355c80) out=((VipsImage*) 0x12e2e10) -
vips cache+: bandjoin_const in=((VipsImage*) 0x1355c80) out=((VipsImage*) 0x129e980) c=255  -
vips cache+: colourspace in=((VipsImage*) 0x129e980) out=((VipsImage*) 0x7fd974005e20) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x143e640) out=((VipsImage*) 0x7fd9740b9010) space=((VipsInterpretation) VIPS_INTERPRET--- PASS: TestImageRef_Composite (0.00s)
=== RUN   TestImageRef_Insert
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Insert (0.00s)
=== RUN   TestImageRef_Join
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Join (0.00s)
=== RUN   TestImageRef_ArrayJoin
2023/10/14 12:56:06 [govips.info] warning libvips already started
ATION_sRGB) -
vips cache+: composite2 base=((VipsImage*) 0x131ab10) overlay=((VipsImage*) 0x7fd97c007980) out=((VipsImage*) 0x12f5980) mode=((VipsBlendMode) VIPS_BLEND_MODE_XOR) x=10 y=20 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 135059 out=((VipsImage*) 0x130a660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004a2000, length = 135059 out=((VipsImage*) 0x7fd9740b91a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x12f54d0) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x12e2960) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x7fd97c635e10) -
vips cache+: cast in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x7fd98831baf0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd978173190) -
vips cache+: insert main=((VipsImage*) 0x130a660) sub=((VipsImage*) 0x7fd9740b91a0) out=((VipsImage*) 0x129eca0) x=100 y=200 expand=FALSE background=0 0 0  -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000696000, length = 135059 out=((VipsImage*) 0x7fd978173320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f1400, length = 1259 out=((VipsImage*) 0x7fd98831b640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd97c635af0) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd9882f9970) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x7fd9781737d0) -
vips cache+: cast in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x1342b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x7fd9740b9c90) -
vips cache+: insert main=((VipsImage*) 0x7fd978173320) sub=((VipsImage*) 0x7fd98831b640) out=((VipsImage*) 0x7fd97c635320) x=1920 y=0 expand=TRUE background=0  -
vips cache+: extract_area input=((VipsImage*) 0x7fd97c635320) out=((VipsImage*) 0x7fd97c6354b0) left=0 top=0 width=2020 height=100 -
vips cache+: join in1=((VipsImage*) 0x7fd978173320) in2=((VipsImage*) 0x7fd98831b640) out=((VipsImage*) 0x7fd988341330) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006b8000, length = 135059 out=((VipsImage*) 0x14484d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f1900, length = 1259 out=((VipsImage*) 0x7fd9882f9c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fc000, length = 1259 out=((VipsImage*) 0x7fd97c007e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fc500, length = 1259 out=((VipsImage*) 0x7fd9740b9b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fca00, length = 1259 out=((VipsImage*) 0x7fd9882b9330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x7fd978173000) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: embed in=((VipsImage*) 0x14484d0) out=((VipsImage*) 0x7fd978173000) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd9740054c0) -
vips cache+: linear in=((VipsImage*) 0x1352023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_ArrayJoin (0.00s)
=== RUN   TestImageRef_Mapim
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
54b0) out=((VipsImage*) 0x7fd988341650) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd988341650) out=((VipsImage*) 0x7fd97c0077f0) -
vips cache+: cast in=((VipsImage*) 0x7fd988341650) out=((VipsImage*) 0x14211b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd97c0074d0) -
vips cache+: embed in=((VipsImage*) 0x7fd9882f9c90) out=((VipsImage*) 0x7fd9941b8b00) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd9882b9010) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd9882b91a0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd9882b91a0) out=((VipsImage*) 0x7fd9882f9e20) -
vips cache+: cast in=((VipsImage*) 0x7fd9882b91a0) out=((VipsImage*) 0x7fd97c0074d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c0074d0) out=((VipsImage*) 0x12f57f0) -
vips cache+: embed in=((VipsImage*) 0x7fd97c007e30) out=((VipsImage*) 0x7fd97c007660) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x12f57f0) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd97c007020) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x7fd9800367e0) -
vips cache+: cast in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x1342650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd9800361a0) -
vips cache+: embed in=((VipsImage*) 0x7fd9740b9b00) out=((VipsImage*) 0x124be20) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd97c007340) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd97c0071b0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd97c0071b0) out=((VipsImage*) 0x7fd9882f94c0) -
vips cache+: cast in=((VipsImage*) 0x7fd97c0071b0) out=((VipsImage*) 0x7fd9800361a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9800361a0) out=((VipsImage*) 0x7fd9794afc90) -
vips cache+: embed in=((VipsImage*) 0x7fd9882b9330) out=((VipsImage*) 0x12e2c80) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x7fd97815b8c0) out=((VipsImage*) 0x7fd9794af970) across=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006da000, length = 135059 out=((VipsImage*) 0x7fd9740b97e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b9500, length = 12858 out=((VipsImage*) 0x1325e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x7fd97c635190) -
vips cache+: extract_band in=((VipsImage*) 0x1325e30) out=((VipsImage*) 0x1337960) band=0 n=2 -
vips cache : copy in=((VipsImage*) 0x7fd9740b97e0) out=((VipsImage*) 0x7fd9882f9010) -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x137dc90) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x1421ca0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x1421ca0) out=((VipsImage*) 0x7fd9882b9650) -
vips cache+: cast in=((VipsImage*) 0x1421ca0) out=((VipsImage*) 0x7fd9794af7e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9794af7e0) out=((VipsImage*) 0x7fd9941b8010) -
vips cache+: embed in=((VipsImage*) 0x7fd9882f9010) out=((VipsImage*) 0x7fd9740b9970) x=1 y=1 width=1923 height=1083 extend=((Vi2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Mapim (0.00s)
=== RUN   TestImageRef_Mapim__Error
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_Mapim__Error (0.00s)
=== RUN   TestImageRef_Maplut
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Maplut (0.00s)
=== RUN   TestImageRef_Maplut_Error
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestImageRef_Maplut_Error (0.00s)
=== RUN   TestImageRef_CompositeMulti
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
psExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x13554b0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x12d5960) -
vips cache+: linear in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x7fd9740b9c90) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7fd9740b9c90) out=((VipsImage*) 0x124b4c0) -
vips cache+: cast in=((VipsImage*) 0x7fd9740b9c90) out=((VipsImage*) 0x7fd9941b8010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x13254d0) -
vips cache+: mapim in=((VipsImage*) 0x7fd9740b97e0) out=((VipsImage*) 0x1342970) index=((VipsImage*) 0x1337960) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006fc000, length = 135059 out=((VipsImage*) 0x136b340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001bca00, length = 12858 out=((VipsImage*) 0x7fd9794afc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000746000, length = 135059 out=((VipsImage*) 0x7fd980036b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: xyz out=((VipsImage*) 0x7fd980036970) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x1325020) -
vips cache+: extract_band in=((VipsImage*) 0x7fd980036b00) out=((VipsImage*) 0x7fd9882b94c0) band=0 n=2 -
vips cache+: cast in=((VipsImage*) 0x7fd9882b94c0) out=((VipsImage*) 0x13254d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: maplut in=((VipsImage*) 0x7fd9882b94c0) out=((VipsImage*) 0x129e4d0) lut=((VipsImage*) 0x7fd980036970) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00078e000, length = 135059 out=((VipsImage*) 0x1337000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: xyz out=((VipsImage*) 0x7fd980036970) width=1 height=1 -
vips cache+: cast in=((VipsImage*) 0x1337000) out=((VipsImage*) 0x130a340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b0000, length = 135059 out=((VipsImage*) 0x1448e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001de000, length = 12858 out=((VipsImage*) 0x129eb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 47948 out=((VipsImage*) 0x7fd9883504c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1448e30) out=((VipsImage*) 0x129e340) -
vips cache : copy in=((VipsImage*) 0x129eb10) out=((VipsImage*) 0x7fd9794e8e20) -
vips cache : copy in=((VipsImage*) 0x7fd9883504c0) out=((VipsImage*) 0x124b330) -
vips cache*: black out=((VipsImage*) 0x1421660) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x7fd978008330) -
vips cache+: linear in=((VipsImage*) 0x1421660) out=((VipsImage*) 0x12e2af0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x12d5320) -
vips cache+: cast in=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x13e7e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e7e30) out=((VipsImage*) 0x1337640) -
vips cache : copy in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x1337640) -
vips cache+: bandjoin_const in=((VipsImage*) 0x129e340) out=((VipsImage*) 0x130ae30) c=255  -
vips cache+: colourspace in=((VipsImage*) 0x130ae30) out=((VipsImage*) 0x13fbb00) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9794e8e20) out=((VipsImage*) 0x143e7d0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x124b330) out=((VipsImage*) 0x130a1b0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: composite in=((VipsArrayImage*) 0x7fd974222ba0) out=((VipsI2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_CompositeMulti (0.09s)
=== RUN   TestCopy
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestCopy (0.00s)
=== RUN   TestMemstats
2023/10/14 12:56:06 [govips.info] MemoryStats: allocs: 6, files: 0, mem: 9150792, memhigh: 100721017
--- PASS: TestMemstats (0.00s)
=== RUN   TestBands
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestBands (0.00s)
=== RUN   TestCoding
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestCoding (0.00s)
=== RUN   TestGetRotation
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestGetRotation (0.00s)
=== RUN   TestResOffset
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestResOffset (0.00s)
=== RUN   TestToBytes
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestToBytes (0.01s)
=== RUN   TestBandJoin
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestBandJoin (0.00s)
=== RUN   TestExtractBandToImage
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestExtractBandToImage (0.00s)
=== RUN   TestBandSplit
2023/10/14 12:56:06 [govips.info] warning libvips already started
mage*) 0x1325660) mode=2 2  x=20 40  y=40 60  -
vips cache+: cast in=((VipsImage*) 0x1325660) out=((VipsImage*) 0x13e77f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x128f980) -
vips cache+: cast in=((VipsImage*) 0x128f980) out=((VipsImage*) 0x143e000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1355190) out=((VipsImage*) 0x7fd9800364c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1355190) out=((VipsImage*) 0x7fd9794af4c0) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x7fd9882b9c90) out=((VipsImage*) 0x1342e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882b9c90) out=((VipsImage*) 0x7fd974005330) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x12e2000) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143eaf0) out=((VipsImage*) 0x7fd978008970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1325660) buffer=VIPS_TYPE_BLOB, data = 0x7fd974362800, length = 334230 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007d2000, length = 135059 out=((VipsImage*) 0x13374b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13374b0) out=((VipsImage*) 0x124bc90) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 135059 out=((VipsImage*) 0x7fd988350650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000830000, length = 135059 out=((VipsImage*) 0x124bb00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001632000, length = 135059 out=((VipsImage*) 0x7fd9740057e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001654000, length = 135059 out=((VipsImage*) 0x7fd9883417e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7fd9794afb00) out=((VipsImage*) 0x7fd97c6357d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9794afb00) out=((VipsImage*) 0x7fd9794afe20) tile-height=16 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c66000, length = 135059 out=((VipsImage*) 0x13fb4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00014c000, length = 15391 out=((VipsImage*) 0x1355af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13fb4c0) out=((VipsImage*) 0x7fd9794af330) -
vips cache : copy in=((VipsImage*) 0x1355af0) out=((VipsImage*) 0x12d5640) -
vips cache+: embed in=((VipsImage*) 0x12d5640) out=((VipsImage*) 0x7fd988350010) x=0 y=0 width=1920 height=1080 -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7fd98c25ae30) out=((VipsImage*) 0x7fd988341e20) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c88000, length = 135059 out=((VipsImage*) 0x7fd978173e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd978173e10) out=((VipsImage*) 0x7fd978173af0) -
vips cache+: extract_band in=((VipsImage*) 0x7fd978173e10) out=((VipsImage*) 0x7fd978173960) band=0 n=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001caa000, length = 135059 out=((VipsImage*) 0x7fd97c007ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd978008010) -
vips cache+: extract_band in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd9794e8c90) band=0 n=1 -
vips c--- PASS: TestBandSplit (0.00s)
=== RUN   TestIsColorSpaceSupport
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestIsColorSpaceSupport (0.00s)
=== RUN   TestPages_webp
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestPages_webp (0.00s)
=== RUN   TestImageRef_Divide__Error
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=293608
    image_test.go:881: 
        	Error Trace:	image_test.go:881
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide__Error
--- FAIL: TestImageRef_Divide__Error (0.00s)
=== RUN   TestXYZ
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestXYZ (0.00s)
=== RUN   TestIdentity
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestIdentity (0.00s)
=== RUN   TestDeprecatedExportParams
2023/10/14 12:56:06 [govips.info] warning libvips already started
--- PASS: TestDeprecatedExportParams (0.00s)
=== RUN   TestNewImageFromReaderFail
2023/10/14 12:56:06 [govips.info] failed to understand image format size=0
--- PASS: TestNewImageFromReaderFail (0.00s)
=== RUN   TestNewImageFromFileFail
--- PASS: TestNewImageFromFileFail (0.00s)
=== RUN   TestImageRef_Cast
2023/10/14 12:56:06 [GLib-GObject.warning] value "((VipsBandFormat) 127)" of type 'VipsBandFormat' is invalid or out of range for property 'format' of type 'VipsBandFormat'
--- PASS: TestImageRef_Cast (0.00s)
=== RUN   TestImageRef_Average
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Average (0.02s)
=== RUN   TestImageRef_FindTrim_White
ache : copy in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x12e2640) -
vips cache+: extract_band in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd98831b4b0) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x7fd9882f9b00) -
vips cache+: extract_band in=((VipsImage*) 0x7fd97c007ca0) out=((VipsImage*) 0x12f51b0) band=2 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152000, length = 335 out=((VipsImage*) 0x143ee10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x7fd978173190) -
vips cache+: extract_band in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x7fd988341c90) band=0 n=1 -
vips cache : copy in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x13427e0) -
vips cache+: extract_band in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x7fd974005b00) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x130a4d0) -
vips cache+: extract_band in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x131a340) band=2 n=1 -
vips cache : copy in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x131a660) -
vips cache+: extract_band in=((VipsImage*) 0x143ee10) out=((VipsImage*) 0x1448660) band=3 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001ccc000, length = 135059 out=((VipsImage*) 0x124b970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d2000, length = 4764 out=((VipsImage*) 0x7fd974005010) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001cee000, length = 135059 out=((VipsImage*) 0x1325b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x131a980) -
vips cache+: extract_band in=((VipsImage*) 0x1325b10) out=((VipsImage*) 0x14214d0) band=0 n=2 -
vips cache+: xyz out=((VipsImage*) 0x13fb010) width=100 height=100 -
vips cache+: identity out=((VipsImage*) 0x7fd9794e8330) -
vips cache+: identity out=((VipsImage*) 0x7fd9941f6c80) ushort=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d58000, length = 135059 out=((VipsImage*) 0x1448980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1448980) out=((VipsImage*) 0x129e020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d7a000, length = 135059 out=((VipsImage*) 0x1421e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1421e30) out=((VipsImage*) 0x1342330) -
vips cache+: linecache in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x1421020) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x129e1b0) out=((VipsImage*) 0x7fd978173c80) tile-height=16 -
vips cache+: avg in=((VipsImage*) 0x1421e30) out=133.265109 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152400, length = 367 out=((VipsImage*) 0x12f54d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12f54d0) out=((VipsImage*) 0x7fd98831baf0) -
vips cache+: embed in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x137d010) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x12f54d0) out=((VipsImage*) 0x12e2960) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x136b7f0) -
vips cache+: linear in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x7fd97c635e10) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x7fd97c635e10) out=((VipsImage*) 0x7fd9794e8b00) -
vips cache+: abs in=((VipsImage*) 0x7fd97c635e10) out=((VipsImage*) 0x7fd9941f6640) -
vips cache : copy in=((VipsImage*) 0x7fd9941f6640) out=((VipsImage*) 0x7fd9781737d0) -
vips cache+: relational_const in=((VipsImage*) 0x7fd9941f6640) out=((VipsImage*) 0x7fd9941b81a0) relational=((VipsOperationRelational2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_White (0.01s)
=== RUN   TestImageRef_FindTrim_Gray
) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x7fd9941b81a0) out=((VipsImage*) 0x7fd97c635af0) -
vips cache+: bandbool in=((VipsImage*) 0x7fd9941b81a0) out=((VipsImage*) 0x7fd9882f9970) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x7fd9882f9970) out=((VipsImage*) 0x7fd9740051a0) -
vips cache+: linecache in=((VipsImage*) 0x13fb1a0) out=((VipsImage*) 0x13e7340) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13fb1a0) out=((VipsImage*) 0x1325980) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x7fd9882f9970) columns=((VipsImage*) 0x7fd9941b8970) rows=((VipsImage*) 0x1342b00) -
vips cache : copy in=((VipsImage*) 0x7fd9941b8970) out=((VipsImage*) 0x14217f0) -
vips cache+: profile in=((VipsImage*) 0x7fd9941b8970) columns=((VipsImage*) 0x131a1b0) rows=((VipsImage*) 0x137d7e0) -
vips cache : copy in=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x13fb330) -
vips cache+: avg in=((VipsImage*) 0x137d7e0) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7fd9941b8970) out=((VipsImage*) 0x13e7980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x13e7980) out=((VipsImage*) 0x124b650) -
vips cache+: profile in=((VipsImage*) 0x13e7980) columns=((VipsImage*) 0x13fb7e0) rows=((VipsImage*) 0x1448ca0) -
vips cache : copy in=((VipsImage*) 0x1448ca0) out=((VipsImage*) 0x7fd978008c90) -
vips cache+: avg in=((VipsImage*) 0x1448ca0) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x128f4d0) -
vips cache+: profile in=((VipsImage*) 0x1342b00) columns=((VipsImage*) 0x137db00) rows=((VipsImage*) 0x7fd9941b8c90) -
vips cache : copy in=((VipsImage*) 0x137db00) out=((VipsImage*) 0x7fd988341650) -
vips cache+: avg in=((VipsImage*) 0x137db00) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x1342b00) out=((VipsImage*) 0x14211b0) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd97c0077f0) -
vips cache+: profile in=((VipsImage*) 0x14211b0) columns=((VipsImage*) 0x7fd9740054c0) rows=((VipsImage*) 0x7fd9941f6af0) -
vips cache : copy in=((VipsImage*) 0x7fd9740054c0) out=((VipsImage*) 0x7fd9882b91a0) -
vips cache+: avg in=((VipsImage*) 0x7fd9740054c0) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x12f54d0) threshold=0.000000 background=255 255 255  left=0 top=0 width=432 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152600, length = 367 out=((VipsImage*) 0x13e7ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x1342650) -
vips cache+: embed in=((VipsImage*) 0x1342650) out=((VipsImage*) 0x7fd97c0074d0) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x13e7ca0) out=((VipsImage*) 0x7fd9882b9010) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x7fd9882b9010) out=((VipsImage*) 0x7fd9800367e0) -
vips cache+: linear in=((VipsImage*) 0x7fd9882b9010) out=((VipsImage*) 0x7fd9882f9e20) a=1  b=-238  -
vips cache : copy in=((VipsImage*) 0x7fd9882f9e20) out=((VipsImage*) 0x12f57f0) -
vips cache+: abs in=((VipsImage*) 0x7fd9882f9e20) out=((VipsImage*) 0x7fd97c007020) -
vips cache : copy in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x7fd97c0071b0) -
vips cache+: relational_const in=((VipsImage*) 0x7fd97c007020) out=((VipsImage*) 0x7fd9882f94c0) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd9800361a0) -
vips cache+: bandbool in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd97c007340) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x7fd97c007340) out=((VipsImage*) 0x130a7f0) -
vips cache+: linecache in=((VipsImage*) 0x7fd9794e87e0) out=((VipsImage*) 0x128f7f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cac2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Gray (0.01s)
=== RUN   TestImageRef_FindTrim_Threshold
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
he+: sequential in=((VipsImage*) 0x7fd9794e87e0) out=((VipsImage*) 0x7fd9794e8650) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x7fd97c007340) columns=((VipsImage*) 0x143e190) rows=((VipsImage*) 0x7fd9780084c0) -
vips cache : copy in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x1325340) -
vips cache+: profile in=((VipsImage*) 0x143e190) columns=((VipsImage*) 0x7fd9941b8330) rows=((VipsImage*) 0x128fb10) -
vips cache : copy in=((VipsImage*) 0x128fb10) out=((VipsImage*) 0x1421ca0) -
vips cache+: avg in=((VipsImage*) 0x128fb10) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x7fd9794af7e0) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x7fd9794af7e0) out=((VipsImage*) 0x7fd9882b9650) -
vips cache+: profile in=((VipsImage*) 0x7fd9794af7e0) columns=((VipsImage*) 0x137dc90) rows=((VipsImage*) 0x7fd974005c90) -
vips cache : copy in=((VipsImage*) 0x7fd974005c90) out=((VipsImage*) 0x136b1b0) -
vips cache+: avg in=((VipsImage*) 0x7fd974005c90) out=0.000000 -
vips cache : copy in=((VipsImage*) 0x7fd9780084c0) out=((VipsImage*) 0x136b020) -
vips cache+: profile in=((VipsImage*) 0x7fd9780084c0) columns=((VipsImage*) 0x1448340) rows=((VipsImage*) 0x7fd9740b9c90) -
vips cache : copy in=((VipsImage*) 0x1448340) out=((VipsImage*) 0x128f340) -
vips cache+: avg in=((VipsImage*) 0x1448340) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7fd9780084c0) out=((VipsImage*) 0x124b4c0) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x7fd9941b8010) -
vips cache+: profile in=((VipsImage*) 0x124b4c0) columns=((VipsImage*) 0x13554b0) rows=((VipsImage*) 0x12d5960) -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x136be30) -
vips cache+: avg in=((VipsImage*) 0x13554b0) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x13e7ca0) threshold=0.000000 background=238 238 238  left=32 top=0 width=480 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152800, length = 367 out=((VipsImage*) 0x7fd9794e81a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x13e71b0) -
vips cache+: embed in=((VipsImage*) 0x13e71b0) out=((VipsImage*) 0x13e7b10) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x7fd9794e81a0) out=((VipsImage*) 0x1355960) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x7fd9941f6e10) -
vips cache+: linear in=((VipsImage*) 0x1355960) out=((VipsImage*) 0x136bca0) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x7fd9794af1a0) -
vips cache+: abs in=((VipsImage*) 0x136bca0) out=((VipsImage*) 0x137d650) -
vips cache : copy in=((VipsImage*) 0x137d650) out=((VipsImage*) 0x7fd9794e8010) -
vips cache+: relational_const in=((VipsImage*) 0x137d650) out=((VipsImage*) 0x130a340) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=17  -
vips cache : copy in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x1355e10) -
vips cache+: bandbool in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x7fd9794af010) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x7fd9794af010) out=((VipsImage*) 0x13e7020) -
vips cache+: linecache in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x7fd9740b94c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x130a020) out=((VipsImage*) 0x137d330) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x7fd9794af010) columns=((VipsImage*) 0x7fd9941f6190) rows=((VipsImage*) 0x1448b10) -
vips cache : copy in=((VipsImage*) 0x7fd9941f6190) out=((VipsImage*) 0x13e7e30) -
vips cache+: profile in=((VipsImage*) 0x7fd9941f6190) columns=((VipsImage*) 0x1421660) rows=((VipsImage*) 0x7fd978008330) -
vips cache : copy in=((VipsImage*) 0x7fd978008330) out=((VipsImage*) 0x12f5e30) -
vips cache+: avg in=((VipsImage*) 0x7fd97800832023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:06 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Threshold (0.01s)
=== RUN   TestImageRef_Height
--- PASS: TestImageRef_Height (0.00s)
=== RUN   TestImageRef_Linear_Fails
--- PASS: TestImageRef_Linear_Fails (0.00s)
=== RUN   TestImageRef_AVIF
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [govips.info] failed to understand image format size=503442
    image_test.go:1002: 
        	Error Trace:	image_test.go:1002
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_AVIF
--- FAIL: TestImageRef_AVIF (0.00s)
=== RUN   TestImageRef_JP2K
2023/10/14 12:56:06 [govips.info] warning libvips already started
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 1 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 2 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 3 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 4 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 5 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 6 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 7 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 8 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 9 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 10 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 11 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 12 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 13 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 14 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 15 / 48
2023/10/14 12:56:06 [VIPS.info] jp2ksave: tile number 16 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 17 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 18 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 19 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 20 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 21 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 22 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 23 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 24 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 25 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 26 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 27 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 28 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 29 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 30 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 31 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 32 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 33 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 34 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 35 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 36 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 37 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 38 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 39 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 40 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 41 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 42 / 48
2023/10/14 12:56:07 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 43 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 44 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 45 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 46 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 47 / 48
2023/10/14 12:56:07 [VIPS.info] jp2ksave: tile number 48 / 48
--- PASS: TestImageRef_JP2K (1.60s)
=== RUN   TestThumbnail_NoCrop
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.404494
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.404494
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
30) out=80.000000 -
vips cache+: flip in=((VipsImage*) 0x7fd9941f6190) out=((VipsImage*) 0x12e2af0) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x12f5660) -
vips cache+: profile in=((VipsImage*) 0x12e2af0) columns=((VipsImage*) 0x12d5320) rows=((VipsImage*) 0x136b4d0) -
vips cache : copy in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x131aca0) -
vips cache+: avg in=((VipsImage*) 0x136b4d0) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x137d970) -
vips cache+: profile in=((VipsImage*) 0x1448b10) columns=((VipsImage*) 0x1355000) rows=((VipsImage*) 0x7fd9941f67d0) -
vips cache : copy in=((VipsImage*) 0x1355000) out=((VipsImage*) 0x12f5340) -
vips cache+: avg in=((VipsImage*) 0x1355000) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x13e77f0) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x128fe30) -
vips cache+: profile in=((VipsImage*) 0x13e77f0) columns=((VipsImage*) 0x7fd9740b9e20) rows=((VipsImage*) 0x143e000) -
vips cache : copy in=((VipsImage*) 0x7fd9740b9e20) out=((VipsImage*) 0x128f980) -
vips cache+: avg in=((VipsImage*) 0x7fd9740b9e20) out=32.000000 -
vips cache+: find_trim in=((VipsImage*) 0x7fd9794e81a0) threshold=17.000000 background=255 255 255  left=80 top=32 width=352 height=256 -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000264000, length = 33297 out=((VipsImage*) 0x7fd9740b9650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d9c000, length = 135059 out=((VipsImage*) 0x143e960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jp2kload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001e3a000, length = 2444355 out=((VipsImage*) 0x7fd9941f6960) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : copy in=((VipsImage*) 0x7fd9941f6960) out=((VipsImage*) 0x143e4b0) -
vips cache+: tilecache in=((VipsImage*) 0x1337c80) out=((VipsImage*) 0x7fd9883507e0) tile-width=512 tile-height=512 max-tiles=18 -
vips cache : jp2ksave_buffer in=((VipsImage*) 0x7fd9941f6960) buffer=VIPS_TYPE_BLOB, data = 0x7fd97541b240, length = 2609513 tile-width=512 tile-height=512 lossless=FALSE Q=80 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) -
vips cache+: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x143e4b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x13fbe20) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x13fbe20) out=((VipsImage*) 0x1421340) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x1421340) out=((VipsImage*) 0x128f660) -
vips cache : copy in=((VipsImage*) 0x128f660) out=((VipsImage*) 0x128fca0) -
vips cache+: embed in=((VipsImage*) 0x128fca0) out=((VipsImage*) 0x7fd978008650) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x129e660) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd974005970) out=((VipsImage*) 0x7fd978008e20) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x128f660) out=((VipsImage*) 0x124b7e0) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x7fd9780087e0) -
vips cache+: embed in=((VipsImage*) 0x7fd9780087e0) out=((VipsImage*) 0x128f020) x=7 y=0 width=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x124b7e0) out=((VipsImage*) 0x7fd974005650) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((Vip2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.404494
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.404494
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
sImage*) 0x1421340) out=((VipsImage*) 0x13fb970) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x143ec80) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x143ec80) out=((VipsImage*) 0x13377d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13377d0) out=((VipsImage*) 0x1421980) -
vips cache+: linecache in=((VipsImage*) 0x7fd9780081a0) out=((VipsImage*) 0x7fd9941b87e0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9780081a0) out=((VipsImage*) 0x1421b10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1421b10) out=((VipsImage*) 0x7fd9941b8650) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143ec80) buffer=VIPS_TYPE_BLOB, data = 0x7fd974282550, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00046a000, length = 22543 out=((VipsImage*) 0x1421980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00230e000, length = 187806 out=((VipsImage*) 0x7fd988350c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00230e000, length = 187806 out=((VipsImage*) 0x7fd988350e20) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7fd988350e20) out=((VipsImage*) 0x7fd974289020) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd974289020) out=((VipsImage*) 0x7fd974289340) -
vips cache : copy in=((VipsImage*) 0x7fd974289340) out=((VipsImage*) 0x7fd974289660) -
vips cache+: embed in=((VipsImage*) 0x7fd974289660) out=((VipsImage*) 0x7fd9742897f0) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd974289980) out=((VipsImage*) 0x7fd974289ca0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd974289980) out=((VipsImage*) 0x7fd974289b10) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd974289340) out=((VipsImage*) 0x7fd9742894d0) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd9742894d0) out=((VipsImage*) 0x7fd9742f7000) -
vips cache+: embed in=((VipsImage*) 0x7fd9742f7000) out=((VipsImage*) 0x7fd9742f7190) x=7 y=0 width=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd9742894d0) out=((VipsImage*) 0x7fd974289e30) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd974289020) out=((VipsImage*) 0x7fd9742891b0) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00230e000, length = 187806 out=((VipsImage*) 0x7fd9742f7320) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd9742f7320) out=((VipsImage*) 0x7fd9742f74b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9742f74b0) out=((VipsImage*) 0x7fd9742f7640) -
vips cache+: linecache in=((VipsImage*) 0x7fd9742f7e10) out=((VipsImage*) 0x7fd97834d1a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9742f7e10) out=((VipsImage*) 0x7fd97834d010) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd97834d010) out=((VipsImage*) 0x7fd97834d330) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd9742f7320) buffe--- PASS: TestThumbnail_NoCrop (0.06s)
=== RUN   TestThumbnail_NoUpscale
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
r=VIPS_TYPE_BLOB, data = 0x7fd9743188c0, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000304000, length = 22543 out=((VipsImage*) 0x7fd9742f77d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x143e4b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7fd9742f7960) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9742f7960) out=((VipsImage*) 0x7fd9742f7af0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd9742f7af0) out=((VipsImage*) 0x7fd97834d970) -
vips cache+: resize in=((VipsImage*) 0x7fd9742f7af0) out=((VipsImage*) 0x7fd9742f7640) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7fd97834db00) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd97834db00) out=((VipsImage*) 0x7fd97834dc90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97834dc90) out=((VipsImage*) 0x7fd97834de20) -
vips cache+: linecache in=((VipsImage*) 0x7fd97834d650) out=((VipsImage*) 0x7fd97aaef020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97834d650) out=((VipsImage*) 0x7fd97834d7e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd97834d7e0) out=((VipsImage*) 0x7fd97aaef1b0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97834db00) buffer=VIPS_TYPE_BLOB, data = 0x7fd974a0a5e0, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e8000, length = 86168 out=((VipsImage*) 0x7fd97834de20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00233c000, length = 187806 out=((VipsImage*) 0x7fd97aaef660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00233c000, length = 187806 out=((VipsImage*) 0x7fd97aaef7f0) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7fd97aaef7f0) out=((VipsImage*) 0x7fd97aaef980) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd97aaef980) out=((VipsImage*) 0x7fd97aaefca0) -
vips cache+: resize in=((VipsImage*) 0x7fd97aaef980) out=((VipsImage*) 0x7fd97aaefb10) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00233c000, length = 187806 out=((VipsImage*) 0x7fd97aaefe30) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd97aaefe30) out=((VipsImage*) 0x7fd974994020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd974994020) out=((VipsImage*) 0x7fd9749941b0) -
vips cache+: linecache in=((VipsImage*) 0x7fd97aaef4d0) out=((VipsImage*) 0x7fd974994340) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd97aaef4d0) out=((VipsImage*) 0x1342330) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1342330) out=((VipsImage*) 0x7fd2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_NoUpscale (0.07s)
=== RUN   TestThumbnail_CropCentered
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.416667
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.416667
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] cropping to 25x25
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 187806 bytes of data
9749944d0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97aaefe30) buffer=VIPS_TYPE_BLOB, data = 0x7fd974a5d440, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00071e000, length = 86168 out=((VipsImage*) 0x7fd9749941b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x143e4b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7fd974994980) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7fd974994980) out=((VipsImage*) 0x7fd974994b10) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd974994b10) out=((VipsImage*) 0x7fd974994e30) -
vips cache : copy in=((VipsImage*) 0x7fd974994e30) out=((VipsImage*) 0x7fd9749d3190) -
vips cache+: embed in=((VipsImage*) 0x7fd9749d3190) out=((VipsImage*) 0x7fd9749d3320) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd9749d34b0) out=((VipsImage*) 0x7fd9749d3640) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9749d34b0) out=((VipsImage*) 0x13fb330) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd974994e30) out=((VipsImage*) 0x7fd9749d3000) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd9749d3000) out=((VipsImage*) 0x7fd9749d3960) -
vips cache+: embed in=((VipsImage*) 0x7fd9749d3960) out=((VipsImage*) 0x7fd9749d3af0) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd9749d3000) out=((VipsImage*) 0x7fd9749d37d0) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd974994b10) out=((VipsImage*) 0x7fd974994ca0) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x7fd9749d3c80) out=((VipsImage*) 0x7fd97c00b020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9749d3c80) out=((VipsImage*) 0x7fd9749d3e10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9749d3e10) out=((VipsImage*) 0x7fd97c00b1b0) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x7fd988341650) out=((VipsImage*) 0x7fd9882f9970) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7fd988341650) attention-x=0 out=((VipsImage*) 0x7fd978008c90) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7fd97c635af0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7fd97c635af0) out=((VipsImage*) 0x7fd9941b81a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9941b81a0) out=((VipsImage*) 0x7fd9781737d0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7fd97c635af0) buffer=VIPS_TYPE_BLOB, data = 0x7fd974a26e70, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007f4000, length = 22539 out=((VipsImage*) 0x7fd9781737d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VI2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 715 x 483
2023/10/14 12:56:08 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:56:08 [VIPS.info] converting to processing space b-w
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.416667
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.416667
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] cropping to 25x25
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_CropCentered (0.06s)
=== RUN   TestThumbnail_PNG_CropCentered
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/png-24bit.png
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadPngFile
2023/10/14 12:56:08 [VIPS.info] input size is 1920 x 1080
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.0231481
2023/10/14 12:56:08 [VIPS.info] shrinkv by 21
PS_TYPE_BLOB, data = 0xc00236a000, length = 187806 out=((VipsImage*) 0x7fd9941f6640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00236a000, length = 187806 out=((VipsImage*) 0x7fd9794e8b00) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9794e8b00) out=((VipsImage*) 0x7fd97c635e10) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7fd97c635e10) out=((VipsImage*) 0x12e2960) -
vips cache : copy in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x7fd98831baf0) -
vips cache+: embed in=((VipsImage*) 0x7fd98831baf0) out=((VipsImage*) 0x7fd9740054c0) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd9941b8c90) out=((VipsImage*) 0x137db00) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9941b8c90) out=((VipsImage*) 0x128f4d0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x12e2960) out=((VipsImage*) 0x137d010) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x137d010) out=((VipsImage*) 0x124b650) -
vips cache+: embed in=((VipsImage*) 0x124b650) out=((VipsImage*) 0x13e7980) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x137d010) out=((VipsImage*) 0x1448ca0) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd97c635e10) out=((VipsImage*) 0x136b7f0) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x7fd9882f97e0) out=((VipsImage*) 0x14217f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882f97e0) out=((VipsImage*) 0x137d7e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x137d7e0) out=((VipsImage*) 0x131a1b0) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x7fd9941b8970) out=((VipsImage*) 0x1421ca0) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7fd9941b8970) attention-x=0 out=((VipsImage*) 0x13fb7e0) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00236a000, length = 187806 out=((VipsImage*) 0x128f340) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x128f340) out=((VipsImage*) 0x7fd97c00b340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd97c00b340) out=((VipsImage*) 0x7fd97c00b4d0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x128f340) buffer=VIPS_TYPE_BLOB, data = 0x7fd974aaac70, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000852000, length = 22539 out=((VipsImage*) 0x7fd97c00b660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x7fd97c00b7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x7fd9780084c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7fd9780084c0) out=((VipsImage*) 0x130a7f0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x124b4c0) -
vips cache+: embed in=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x7fd9800361a0) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEN2023/10/14 12:56:08 [VIPS.info] shrinkv sequential line cache
2023/10/14 12:56:08 [VIPS.info] reducev: 13 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 12:56:08 [VIPS.info] shrinkh by 21
2023/10/14 12:56:08 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:56:08 [VIPS.info] cropping to 25x25
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 135059 bytes of data
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadPngBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 1920 x 1080
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.0231481
2023/10/14 12:56:08 [VIPS.info] shrinkv by 21
2023/10/14 12:56:08 [VIPS.info] shrinkv sequential line cache
D_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd97c007020) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9882f94c0) out=((VipsImage*) 0x7fd97c0071b0) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x7fd9941b8010) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7fd9941b8010) out=((VipsImage*) 0x12f57f0) -
vips cache+: embed in=((VipsImage*) 0x12f57f0) out=((VipsImage*) 0x7fd9882f9e20) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd9800367e0) out=((VipsImage*) 0x7fd97c0074d0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9800367e0) out=((VipsImage*) 0x7fd9882b9010) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x124b4c0) out=((VipsImage*) 0x12d5960) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x12d5960) out=((VipsImage*) 0x7fd9740b9c90) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x12d5960) out=((VipsImage*) 0x13554b0) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x13554b0) out=((VipsImage*) 0x136b020) -
vips cache+: embed in=((VipsImage*) 0x136b020) out=((VipsImage*) 0x1448340) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x12d5960) out=((VipsImage*) 0x1342650) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x130a7f0) out=((VipsImage*) 0x7fd97c007340) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x7fd9740051a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14211b0) out=((VipsImage*) 0x1342b00) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x7fd974005c90) out=((VipsImage*) 0x12f5e30) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7fd974005c90) attention-x=0 out=((VipsImage*) 0x7fd9882b9650) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/png-24bit.png" out=((VipsImage*) 0x7fd97834dc90) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7fd97834dc90) out=((VipsImage*) 0x7fd9742f74b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9742f74b0) out=((VipsImage*) 0x7fd988350c90) -
vips cache+: cast in=((VipsImage*) 0x7fd988350c90) out=((VipsImage*) 0x13377d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7fd97834dc90) buffer=VIPS_TYPE_BLOB, data = 0x7fd9743e6d40, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00085a000, length = 3709 out=((VipsImage*) 0x128fe30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002400000, length = 135059 out=((VipsImage*) 0x1448b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002400000, length = 135059 out=((VipsImage*) 0x143e000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x143e000) out=((VipsImage*) 0x13e77f0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x7fd9794af010) -
vips cache+: embed in=((VipsImage*) 0x7fd9794af010) out=((VipsImage*) 0x7fd9794e8010) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 02023/10/14 12:56:08 [VIPS.info] reducev: 13 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 12:56:08 [VIPS.info] shrinkh by 21
2023/10/14 12:56:08 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:56:08 [VIPS.info] cropping to 25x25
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_PNG_CropCentered (0.09s)
=== RUN   TestThumbnail_Decode_BMP
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/bmp.bmp
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadMagickFile
2023/10/14 12:56:08 [VIPS.info] input size is 164 x 211
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
x137d650) out=((VipsImage*) 0x136bca0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137d650) out=((VipsImage*) 0x7fd9794af1a0) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x7fd9794af010) out=((VipsImage*) 0x130a340) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x130a340) out=((VipsImage*) 0x7fd9941f6e10) -
vips cache+: embed in=((VipsImage*) 0x7fd9941f6e10) out=((VipsImage*) 0x1355960) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x13e7b10) out=((VipsImage*) 0x7fd9740b9e20) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13e7b10) out=((VipsImage*) 0x13e71b0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd9794af010) out=((VipsImage*) 0x1355e10) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x1355000) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x137d970) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x137d970) out=((VipsImage*) 0x136b4d0) -
vips cache+: embed in=((VipsImage*) 0x136b4d0) out=((VipsImage*) 0x12f5660) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1355e10) out=((VipsImage*) 0x7fd9941f67d0) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13e77f0) out=((VipsImage*) 0x13e7020) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x136b1b0) out=((VipsImage*) 0x7fd978008330) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x136b1b0) out=((VipsImage*) 0x12d5320) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x12e2af0) out=((VipsImage*) 0x128f980) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x12e2af0) attention-x=0 out=((VipsImage*) 0x7fd9941f6190) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002400000, length = 135059 out=((VipsImage*) 0x12f5340) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x12f5340) out=((VipsImage*) 0x131aca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x7fd9941f6af0) -
vips cache+: cast in=((VipsImage*) 0x7fd9941f6af0) out=((VipsImage*) 0x7fd9794af7e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x12f5340) buffer=VIPS_TYPE_BLOB, data = 0x7fd9749718a0, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000363000, length = 3709 out=((VipsImage*) 0x136be30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x7fd97c00b4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x7fd97c00b4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7fd97c00b4d0) out=((VipsImage*) 0x143e190) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x128fb10) -
vips cache+: resize in=((VipsImage*) 0x143e190) out=((VipsImage*) 0x137dc90) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail filename="../resources/bmp.bmp" out=((VipsImage*) 0x1325340) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
v2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 35682 bytes of data
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadMagickBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 164 x 211
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_Decode_BMP (0.08s)
=== RUN   TestThumbnail_GIF
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/gif-animated.gif
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 128
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 128
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.413223
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
ips cache+: cast in=((VipsImage*) 0x1325340) out=((VipsImage*) 0x7fd9941b8330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9941b8330) out=((VipsImage*) 0x7fd97c00b980) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1325340) buffer=VIPS_TYPE_BLOB, data = 0x7fd974b41830, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002480000, length = 9329 out=((VipsImage*) 0x7fd97c00bb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00248e000, length = 35682 out=((VipsImage*) 0x13fb650) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00248e000, length = 35682 out=((VipsImage*) 0x128f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x128f1b0) out=((VipsImage*) 0x1337e10) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x13fb650) -
vips cache+: resize in=((VipsImage*) 0x1337e10) out=((VipsImage*) 0x1355640) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00248e000, length = 35682 out=((VipsImage*) 0x13e7660) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x13e7660) out=((VipsImage*) 0x136bb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x136bb10) out=((VipsImage*) 0x7fd95c010000) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13e7660) buffer=VIPS_TYPE_BLOB, data = 0x7fd95c05f0e0, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002484a00, length = 9329 out=((VipsImage*) 0x7fd95c010190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c010320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x131aca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x131aca0) out=((VipsImage*) 0x7fd9794af7e0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd9794af7e0) out=((VipsImage*) 0x7fd95c0104b0) -
vips cache+: premultiply in=((VipsImage*) 0x7fd9794af7e0) out=((VipsImage*) 0x1448b10) -
vips cache : copy in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x136bb10) -
vips cache+: cast in=((VipsImage*) 0x1448b10) out=((VipsImage*) 0x7fd95c010320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c010320) out=((VipsImage*) 0x7fd9941f6af0) -
vips cache : copy in=((VipsImage*) 0x7fd9941f6af0) out=((VipsImage*) 0x7fd9742f74b0) -
vips cache+: embed in=((VipsImage*) 0x7fd9742f74b0) out=((VipsImage*) 0x13377d0) x=0 y=7 width=121 height=143 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c010000) out=((VipsImage*) 0x7fd95c0107d0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c010000) out=((VipsImage*) 0x7fd95c010640) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd9941f6af0) out=((VipsImage*) 0x7fd988350c90) vshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd988350c90) out=((VipsImage*) 0x7fd95c010af0) -
vi2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:88
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 412 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005fb68?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7fd95c1084c0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7fd95c1084c0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000d61e0, 0xc000803ba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00023a4e0?, {0x6a43ae, 0x1d}, 0xc0000cdf60?, 0x6cb818, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF(0xc000803ba0)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:88 +0x8f
        	            	testing.tRunner(0xc000803ba0, 0x6cb840)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF
--- FAIL: TestThumbnail_GIF (0.00s)
=== RUN   TestThumbnail_GIF_Animated
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 1024
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:107
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 413 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005fa90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7fd95c13e980, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7fd95c13e980, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000d6230, 0xc00005fcb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00023a870?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00005fe80, 0x897fc0?, 0xc0003348c0?, 0xc0000ea9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated(0xc000803ba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:107 +0x12c
        	            	testing.tRunner(0xc000803d40, 0x6cb828)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated
--- FAIL: TestThumbnail_GIF_Animated (0.00s)
=== RUN   TestThumbnail_GIF_Animated_Force
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
ps cache+: embed in=((VipsImage*) 0x7fd95c010af0) out=((VipsImage*) 0x7fd95c010c80) x=7 y=0 width=136 height=53 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd988350c90) out=((VipsImage*) 0x7fd95c010960) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd95c010320) out=((VipsImage*) 0x7fd9941b8330) vscale=0.413223 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd9941b8330) out=((VipsImage*) 0x7fd95c108010) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd9941b8330) out=((VipsImage*) 0x7fd95c010e10) -
vips cache : copy in=((VipsImage*) 0x7fd95c010e10) out=((VipsImage*) 0x7fd95c108330) -
vips cache+: cast in=((VipsImage*) 0x7fd95c010e10) out=((VipsImage*) 0x7fd95c1081a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : thumbnail filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c1084c0) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c108650) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c1087e0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7fd95c1087e0) out=((VipsImage*) 0x7fd95c108650) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd95c108650) out=((VipsImage*) 0x7fd95c108b00) -
vips cache+: premultiply in=((VipsImage*) 0x7fd95c108650) out=((VipsImage*) 0x7fd95c108970) -
vips cache : copy in=((VipsImage*) 0x7fd95c108970) out=((VipsImage*) 0x7fd95c108e20) -
vips cache+: cast in=((VipsImage*) 0x7fd95c108970) out=((VipsImage*) 0x7fd95c108c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c108c90) out=((VipsImage*) 0x7fd95c1251a0) -
vips cache : copy in=((VipsImage*) 0x7fd95c1251a0) out=((VipsImage*) 0x7fd95c1254c0) -
vips cache+: embed in=((VipsImage*) 0x7fd95c1254c0) out=((VipsImage*) 0x7fd95c125650) x=0 y=7 width=121 height=1039 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c1257e0) out=((VipsImage*) 0x7fd95c125b00) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c1257e0) out=((VipsImage*) 0x7fd95c125970) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd95c1251a0) out=((VipsImage*) 0x7fd95c125330) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd95c125330) out=((VipsImage*) 0x7fd95c125e20) -
vips cache+: embed in=((VipsImage*) 0x7fd95c125e20) out=((VipsImage*) 0x7fd95c13e020) x=7 y=0 width=136 height=424 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd95c125330) out=((VipsImage*) 0x7fd95c125c90) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd95c108c90) out=((VipsImage*) 0x7fd95c125010) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd95c125010) out=((VipsImage*) 0x7fd95c13e340) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd95c125010) out=((VipsImage*) 0x7fd95c13e1b0) -
vips cache : copy in=((VipsImage*) 0x7fd95c13e1b0) out=((VipsImage*) 0x7fd95c13e660) -
vips cache+: cast in=((VipsImage*) 0x7fd95c13e1b0) out=((VipsImage*) 0x7fd95c13e4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c13e4d0) out=((VipsImage*) 0x7fd95c13e7f0) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-1,fail=TRUE]" out=((VipsImage*) 0x7fd95c13e980) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c13eb10) n=8 flags=((VipsForeig2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 1024
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.78125
2023/10/14 12:56:08 [VIPS.info] reducev: 9 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:121
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 414 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005fa90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7fd95c19be20, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7fd95c19be20, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000d6280, 0xc00005fcb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00023ac00?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00005fe80, 0x897fc0?, 0xc000335260?, 0xc0000eac68?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated_Force(0xc000803ba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:121 +0x12c
        	            	testing.tRunner(0xc0024b2000, 0x6cb820)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated_Force
--- FAIL: TestThumbnail_GIF_Animated_Force (0.00s)
=== RUN   TestThumbnail_GIF_ExportNative
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
nFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c13eca0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7fd95c13eca0) out=((VipsImage*) 0x7fd95c13ee30) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd95c13ee30) out=((VipsImage*) 0x7fd95c180010) -
vips cache+: premultiply in=((VipsImage*) 0x7fd95c13ee30) out=((VipsImage*) 0x7fd95c13eb10) -
vips cache : copy in=((VipsImage*) 0x7fd95c13eb10) out=((VipsImage*) 0x7fd95c180330) -
vips cache+: cast in=((VipsImage*) 0x7fd95c13eb10) out=((VipsImage*) 0x7fd95c1801a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c1801a0) out=((VipsImage*) 0x7fd95c180650) -
vips cache : copy in=((VipsImage*) 0x7fd95c180650) out=((VipsImage*) 0x7fd95c180970) -
vips cache+: embed in=((VipsImage*) 0x7fd95c180970) out=((VipsImage*) 0x7fd95c180b00) x=0 y=4 width=121 height=1033 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c180c90) out=((VipsImage*) 0x7fd95c19b010) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c180c90) out=((VipsImage*) 0x7fd95c180e20) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd95c180650) out=((VipsImage*) 0x7fd95c1807e0) vshrink=1.280000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd95c1807e0) out=((VipsImage*) 0x7fd95c19b330) -
vips cache+: embed in=((VipsImage*) 0x7fd95c19b330) out=((VipsImage*) 0x7fd95c19b4c0) x=7 y=0 width=136 height=800 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd95c1807e0) out=((VipsImage*) 0x7fd95c19b1a0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd95c1801a0) out=((VipsImage*) 0x7fd95c1804c0) vscale=0.781250 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd95c1804c0) out=((VipsImage*) 0x7fd95c19b7e0) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd95c1804c0) out=((VipsImage*) 0x7fd95c19b650) -
vips cache : copy in=((VipsImage*) 0x7fd95c19b650) out=((VipsImage*) 0x7fd95c19bb00) -
vips cache+: cast in=((VipsImage*) 0x7fd95c19b650) out=((VipsImage*) 0x7fd95c19b970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c19b970) out=((VipsImage*) 0x7fd95c19bc90) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-1,fail=TRUE]" out=((VipsImage*) 0x7fd95c19be20) width=50 height=100 size=((VipsSize) VIPS_SIZE_FORCE) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c1cb010) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c1cb1a0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7fd95c1cb1a0) out=((VipsImage*) 0x7fd95c1cb330) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd95c1cb330) out=((VipsImage*) 0x7fd95c1cb010) -
vips cache+: premultiply in=((VipsImage*) 0x7fd95c1cb330) out=((VipsImage*) 0x7fd95c1cb4c0) -
vips cache : copy in=((VipsImage*) 0x7fd95c1cb4c0) out=((VipsImage*) 0x7fd95c1cb7e0) -
vips cache+: cast in=((VipsImage*) 0x7fd95c1cb4c0) out=((VipsImage*) 0x7fd95c1cb650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c1cb650) out=((VipsImage*) 0x7fd95c1cbb00) -
vips cache : copy in=((VipsImage*) 0x7fd95c1cbb00) out=((VipsImage*) 0x7fd95c1cbe20) -
vips cache+: embed in=((VipsImage*) 0x7fd95c1cbe20) out=((VipsImage*) 0x7fd95c1dc010) x=0 y=7 width=121 height=399 extend=((VipsExtend) V2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:135
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 415 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f8d8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7fd95c21e330, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7fd95c21e330, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000d62d0, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc00005fcb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:994 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0x24?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00005fe80, 0x897fc0?, 0xc000335c00?, 0xc0000eaf10?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_ExportNative(0xc000803ba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:135 +0x105
        	            	testing.tRunner(0xc0024b21a0, 0x6cb830)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_ExportNative
--- FAIL: TestThumbnail_GIF_ExportNative (0.00s)
=== RUN   TestThumbnail_GIF_ExportWebP
2023/10/14 12:56:08 [govips.info] warning libvips already started
2023/10/14 12:56:08 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
IPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c1dc1a0) out=((VipsImage*) 0x7fd95c1dc4c0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c1dc1a0) out=((VipsImage*) 0x7fd95c1dc330) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd95c1cbb00) out=((VipsImage*) 0x7fd95c1cbc90) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd95c1cbc90) out=((VipsImage*) 0x7fd95c1dc7e0) -
vips cache+: embed in=((VipsImage*) 0x7fd95c1dc7e0) out=((VipsImage*) 0x7fd95c1dc970) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd95c1cbc90) out=((VipsImage*) 0x7fd95c1dc650) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd95c1cb650) out=((VipsImage*) 0x7fd95c1cb970) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd95c1cb970) out=((VipsImage*) 0x7fd95c1dcc90) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd95c1cb970) out=((VipsImage*) 0x7fd95c1dcb00) -
vips cache : copy in=((VipsImage*) 0x7fd95c1dcb00) out=((VipsImage*) 0x7fd95c21e010) -
vips cache+: cast in=((VipsImage*) 0x7fd95c1dcb00) out=((VipsImage*) 0x7fd95c1dce20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c1dce20) out=((VipsImage*) 0x7fd95c21e1a0) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x7fd95c21e330) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c21e4c0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7fd95c21e4c0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7fd95c21e4c0) out=((VipsImage*) 0x7fd95c21e650) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd95c21e650) out=((VipsImage*) 0x7fd95c21e970) -
vips cache+: premultiply in=((VipsImage*) 0x7fd95c21e650) out=((VipsImage*) 0x7fd95c21e7e0) -
vips cache : copy in=((VipsImage*) 0x7fd95c21e7e0) out=((VipsImage*) 0x7fd95c21ec90) -
vips cache+: cast in=((VipsImage*) 0x7fd95c21e7e0) out=((VipsImage*) 0x7fd95c21eb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c21eb00) out=((VipsImage*) 0x7fd95c232010) -
vips cache : copy in=((VipsImage*) 0x7fd95c232010) out=((VipsImage*) 0x7fd95c232330) -
vips cache+: embed in=((VipsImage*) 0x7fd95c232330) out=((VipsImage*) 0x7fd95c2324c0) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c232650) out=((VipsImage*) 0x7fd95c232970) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c232650) out=((VipsImage*) 0x7fd95c2327e0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd95c232010) out=((VipsImage*) 0x7fd95c2321a0) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd95c2321a0) out=((VipsImage*) 0x7fd95c232c90) -
vips cache+: embed in=((VipsImage*) 0x7fd95c232c90) out=((VipsImage*) 0x7fd95c232e20) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd95c2321a0) out=((VipsImage*) 0x7fd95c232b00) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd95c21eb00) out=((VipsImage*) 0x7fd95c21ee20) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd95c21ee20) out=((VipsImage*) 0x7fd95c2731a0) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd95c21ee20) out=((VipsImage*) 0x7fd95c273010) -
vips 2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:56:08 [VIPS.info] thumbnailing 18146 bytes of data
2023/10/14 12:56:08 [VIPS.info] selected loader is VipsForeignLoadNsgifBuffer
2023/10/14 12:56:08 [VIPS.info] input size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:56:08 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:56:08 [VIPS.info] converting to processing space srgb
2023/10/14 12:56:08 [VIPS.info] premultiplying alpha
2023/10/14 12:56:08 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:56:08 [VIPS.info] reducev: 15 point mask
2023/10/14 12:56:08 [VIPS.info] reducev: using vector path
2023/10/14 12:56:08 [VIPS.info] reducev sequential line cache
2023/10/14 12:56:08 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:56:08 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:56:08 [VIPS.info] unpremultiplying alpha
cache : copy in=((VipsImage*) 0x7fd95c273010) out=((VipsImage*) 0x7fd95c2734c0) -
vips cache+: cast in=((VipsImage*) 0x7fd95c273010) out=((VipsImage*) 0x7fd95c273330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c273330) out=((VipsImage*) 0x7fd95c273650) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x7fd95c2737e0) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7fd95c2737e0) out=((VipsImage*) 0x7fd95c273970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd95c273970) out=((VipsImage*) 0x7fd95c273b00) -
vips cache+: linecache in=((VipsImage*) 0x7fd9749947f0) out=((VipsImage*) 0x7fd95c273e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd9749947f0) out=((VipsImage*) 0x7fd95c273c90) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7688599235491781632 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7fd95c2737e0) buffer=VIPS_TYPE_BLOB, data = 0x7fd95c281c00, length = 4532 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d3300, length = 4532 out=((VipsImage*) 0x7fd95c273b00) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000201000, length = 18146 out=((VipsImage*) 0x7fd9790a1320) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000201000, length = 18146 out=((VipsImage*) 0x7fd9790a14b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7fd9790a14b0) out=((VipsImage*) 0x7fd9790a1640) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7fd9790a1640) out=((VipsImage*) 0x7fd9790a1320) -
vips cache+: premultiply in=((VipsImage*) 0x7fd9790a1640) out=((VipsImage*) 0x7fd9790a17d0) -
vips cache : copy in=((VipsImage*) 0x7fd9790a17d0) out=((VipsImage*) 0x7fd9790a1af0) -
vips cache+: cast in=((VipsImage*) 0x7fd9790a17d0) out=((VipsImage*) 0x7fd9790a1960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7fd9790a1960) out=((VipsImage*) 0x7fd9790a1e10) -
vips cache : copy in=((VipsImage*) 0x7fd9790a1e10) out=((VipsImage*) 0x7fd95c2991b0) -
vips cache+: embed in=((VipsImage*) 0x7fd95c2991b0) out=((VipsImage*) 0x7fd95c299340) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7fd95c2994d0) out=((VipsImage*) 0x7fd95c2997f0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7fd95c2994d0) out=((VipsImage*) 0x7fd95c299660) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7fd9790a1e10) out=((VipsImage*) 0x7fd95c299020) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7fd95c299020) out=((VipsImage*) 0x7fd95c299b10) -
vips cache+: embed in=((VipsImage*) 0x7fd95c299b10) out=((VipsImage*) 0x7fd95c299ca0) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7fd95c299020) out=((VipsImage*) 0x7fd95c299980) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7fd9790a1960) out=((VipsImage*) 0x7fd9790a1c80) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7fd9790a1c80) out=((VipsImage*) 0x7fd95c2d1000) -
vips cache+: unpremultiply in=((VipsImage*) 0x7fd9790a1c80) out=((VipsImage*) 0x7fd95c299e30) -
vips cache : copy in=((VipsImage*) 0x7fd95c299e30) out=((VipsImage*) 0x7fd95c2d1320) -
vips cache+: cast in=((VipsImage*) 0x7fd95c299e30) out=((VipsImage*) 0x7fd95c2d1190) format=((VipsBand2023/10/14 12:56:08 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_GIF_ExportWebP (0.07s)
=== RUN   Test_DefaultLogging
2023/10/14 12:56:08 [govips.info] warning libvips already started
--- PASS: Test_DefaultLogging (0.00s)
=== RUN   Test_LoggingVerbosity
2023/10/14 12:56:08 [govips.info] warning libvips already started
--- PASS: Test_LoggingVerbosity (0.00s)
=== RUN   Test_LoggingHandler
--- PASS: Test_LoggingHandler (0.00s)
FAIL
FAIL	github.com/davidbyttow/govips/v2/vips	13.237s
2023/10/14 12:55:55 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 12:55:55 [VIPS.info] using configure-time prefix
2023/10/14 12:55:55 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 12:55:55 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] prefix = /usr/local
2023/10/14 12:55:55 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 12:55:55 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:55:55 [govips.info] registered image type loader type=gif
2023/10/14 12:55:55 [govips.info] registered image type loader type=magick
2023/10/14 12:55:55 [govips.info] registered image type loader type=pdf
2023/10/14 12:55:55 [govips.info] registered image type loader type=jp2k
2023/10/14 12:55:55 [govips.info] registered image type loader type=jpeg
2023/10/14 12:55:55 [govips.info] registered image type loader type=png
2023/10/14 12:55:55 [govips.info] registered image type loader type=svg
2023/10/14 12:55:55 [govips.info] registered image type loader type=tiff
2023/10/14 12:55:55 [govips.info] registered image type loader type=webp
=== RUN   TestMemoryLeak
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 9 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 11 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 8 workers
    image_test.go:59: Memory usage: before 6220816, after 6220816, delta 0
--- PASS: TestMemoryLeak (0.09s)
PASS
ok  	github.com/davidbyttow/govips/v2/vips/mem_tests	0.122s
FAIL
