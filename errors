CGO_CFLAGS_ALLOW=-Xpreprocessor go get ./...
CGO_CFLAGS_ALLOW=-Xpreprocessor go build ./vips
CGO_CFLAGS_ALLOW=-Xpreprocessor go test -v ./...
VIPS 64 found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
VIPS 64 using configure-time prefix
VIPS 64 VIPS_PREFIX = /usr/local
VIPS 64 VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
VIPS 64 prefix = /usr/local
VIPS 64 libdir = /usr/local/lib/x86_64-linux-gnu
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
govips 64 vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
govips 64 registered image type loader type=jpeg
govips 64 registered image type loader type=pdf
govips 64 registered image type loader type=png
govips 64 registered image type loader type=svg
govips 64 registered image type loader type=webp
govips 64 registered image type loader type=gif
govips 64 registered image type loader type=magick
govips 64 registered image type loader type=tiff
govips 64 registered image type loader type=jp2k
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/image	(cached) [no tests to run]
?   	github.com/davidbyttow/govips/v2/examples/jpeg	[no test files]
?   	github.com/davidbyttow/govips/v2/examples/tiff	[no test files]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/logging	(cached) [no tests to run]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/thumbnail	(cached) [no tests to run]
=== RUN   Test_DetermineImageType__JPEG
2023/10/14 12:59:23 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 12:59:23 [VIPS.info] using configure-time prefix
2023/10/14 12:59:23 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 12:59:23 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:59:23 [VIPS.info] prefix = /usr/local
2023/10/14 12:59:23 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:59:23 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 12:59:23 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 12:59:23 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 12:59:23 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 12:59:23 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 12:59:23 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:59:23 [govips.info] registered image type loader type=magick
2023/10/14 12:59:23 [govips.info] registered image type loader type=pdf
2023/10/14 12:59:23 [govips.info] registered image type loader type=png
2023/10/14 12:59:23 [govips.info] registered image type loader type=svg
2023/10/14 12:59:23 [govips.info] registered image type loader type=gif
2023/10/14 12:59:23 [govips.info] registered image type loader type=jpeg
2023/10/14 12:59:23 [govips.info] registered image type loader type=jp2k
2023/10/14 12:59:23 [govips.info] registered image type loader type=tiff
2023/10/14 12:59:23 [govips.info] registered image type loader type=webp
--- PASS: Test_DetermineImageType__JPEG (0.01s)
=== RUN   Test_DetermineImageType__HEIF_HEIC
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_HEIC (0.00s)
=== RUN   Test_DetermineImageType__HEIF_MIF1
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_MIF1 (0.00s)
=== RUN   Test_DetermineImageType__PNG
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PNG (0.00s)
=== RUN   Test_DetermineImageType__TIFF
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__TIFF (0.00s)
=== RUN   Test_DetermineImageType__WEBP
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__WEBP (0.00s)
=== RUN   Test_DetermineImageType__SVG
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG (0.00s)
=== RUN   Test_DetermineImageType__SVG_1
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG_1 (0.00s)
=== RUN   Test_DetermineImageType__PDF
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PDF (0.00s)
=== RUN   Test_DetermineImageType__BMP
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__BMP (0.00s)
=== RUN   Test_DetermineImageType__AVIF
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__AVIF (0.00s)
=== RUN   Test_DetermineImageType__JP2K
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__JP2K (0.00s)
=== RUN   TestInitConfig
2023/10/14 12:59:23 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:59:23 [govips.info] libvips was forcibly started automatically, consider calling Startup/Shutdown yourself
2023/10/14 12:59:23 [govips.info] vips 8.15.0 started with concurrency=1 cache_max_files=0 cache_max_mem=52428800 cache_max=100
--- PASS: TestInitConfig (0.01s)
=== RUN   Test_ICCProfileInitialisation
--- PASS: Test_ICCProfileInitialisation (0.00s)
=== RUN   TestI_GIF_Animated_Pages
2023/10/14 12:59:23 [govips.info] warning libvips already started
--- PASS: TestI_GIF_Animated_Pages (0.00s)
=== RUN   TestImage_GIF_Animated
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:20
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 70 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005db00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12731a0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12731a0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000161e0, 0xc000061430?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000022690?, {0x6a43ae, 0x1d}, 0x4f2314?, 0x0?, 0x0?, 0xc00009bf60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated(0xc00073a9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:20 +0x6a
        	            	testing.tRunner(0xc00073ad00, 0x6cb518)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated
--- FAIL: TestImage_GIF_Animated (0.00s)
=== RUN   TestImage_GIF_Animated_ExportNative
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:28
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 71 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x1273330, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x1273330, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016280, 0xc00005dc80?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000061590?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc00009bf60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc00009bf60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExportNative(0xc00073a9c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:28 +0x32
        	            	testing.tRunner(0xc00073aea0, 0x6cb4b8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExportNative
--- FAIL: TestImage_GIF_Animated_ExportNative (0.00s)
=== RUN   TestImage_GIF_Animated_to_WebP
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GIF_Animated_to_WebP (0.03s)
=== RUN   TestImage_GIF_Animated_Resize
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] residual scale 2 x 2
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:44
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 75 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12b8660, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12b8660, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016820, 0xc000035900?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0000618e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Resize(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:44 +0x37
        	            	testing.tRunner(0xc00073bba0, 0x6cb4e8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Resize
--- FAIL: TestImage_GIF_Animated_Resize (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate90
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:54
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 76 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12c6340, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12c6340, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016870, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x1?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate90(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:54 +0x39
        	            	testing.tRunner(0xc00073bd40, 0x6cb508)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate90
--- FAIL: TestImage_GIF_Animated_Rotate90 (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate270
2023/10/14 12:59:23 [govips.info] warning libvips already started
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ac000, length = 18146 out=((VipsImage*) 0x1273010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b0800, length = 18146 out=((VipsImage*) 0x12731a0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b5000, length = 18146 out=((VipsImage*) 0x1273330) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b9800, length = 18146 out=((VipsImage*) 0x12734c0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: cast in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x1273650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1273650) out=((VipsImage*) 0x12737e0) -
vips cache+: linecache in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x7f05540081a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x7f0554008010) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x12734c0) buffer=VIPS_TYPE_BLOB, data = 0x129ccb0, length = 4996 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000da000, length = 4996 out=((VipsImage*) 0x1273970) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 18146 out=((VipsImage*) 0x12737e0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x7f05540084c0) -
vips cache+: premultiply in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x7f0554008330) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7f0554008330) out=((VipsImage*) 0x7f05540087e0) -
vips cache : copy in=((VipsImage*) 0x7f05540087e0) out=((VipsImage*) 0x7f0554008b00) -
vips cache+: embed in=((VipsImage*) 0x7f0554008b00) out=((VipsImage*) 0x7f0554008c90) x=2 y=2 width=126 height=389 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x12b8340) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x12b81b0) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12b84d0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x12b8660) -
vips cache+: affine in=((VipsImage*) 0x7f05540087e0) interpolate=((VipsInterpolateBicubic*) 0x12ed400) out=((VipsImage*) 0x7f0554008970) matrix=2 0 0 2  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7f0554008330) out=((VipsImage*) 0x7f0554008650) kernel=((VipsKernel) VIPS_KERNEL_CUBIC) scale=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x12b8b10) -
vips cache : copy in=((VipsImage*) 0x12b8b10) out=((VipsImage*) 0x12b87f0) -
vips cache+: unpremultiply in=((VipsImage*) 0x12b8b10) out=((VipsImage*) 0x7f0554008e20) -
vips cache : copy in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x12b8ca0) -
vips cache+: cast in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x12b8660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000204800, length = 18146 out=((VipsImage*) 0x12b8e30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: grid in=((VipsImage*) 0x12b8e30) out=((VipsImage*) 0x12c6020) tile-height=128 across=8 down=1 -
vips cache+: rot in=((VipsImage*) 0x12c6020) out=((VipsImage*) 0x12c61b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x12c6340) -
vips cache+: gifload_buffer bu    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:64
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 77 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12c6ca0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12c6ca0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000168c0, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x3?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate270(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:64 +0x39
        	            	testing.tRunner(0xc0000829c0, 0x6cb4f8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate270
--- FAIL: TestImage_GIF_Animated_Rotate270 (0.00s)
=== RUN   TestImage_GIF_Animated_Embed
2023/10/14 12:59:23 [govips.info] warning libvips already started
ffer=VIPS_TYPE_BLOB, data = 0xc000209000, length = 18146 out=((VipsImage*) 0x12c64d0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: flip in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x12c6660) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: grid in=((VipsImage*) 0x12c6660) out=((VipsImage*) 0x12c67f0) tile-height=128 across=8 down=1 -
vips cache+: flip in=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x12c6980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: rot in=((VipsImage*) 0x12c6980) out=((VipsImage*) 0x12c6b10) angle=((VipsAngle) VIPS_ANGLE_D270) -
vips cache : copy in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x12c6ca0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020d800, length = 18146 out=((VipsImage*) 0x12c6e30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd190) left=0 top=0 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12fd190) out=((VipsImage*) 0x12fd320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd4b0) left=0 top=128 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12fd4b0) out=((VipsImage*) 0x12fd640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd7d0) left=0 top=256 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12fd7d0) out=((VipsImage*) 0x12fd960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fdaf0) left=0 top=384 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12fdaf0) out=((VipsImage*) 0x12fdc80) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fde10) left=0 top=512 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x12fde10) out=((VipsImage*) 0x1309000) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x1309190) left=0 top=640 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x1309190) out=((VipsImage*) 0x1309320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x13094b0) left=0 top=768 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x13094b0) out=((VipsImage*) 0x1309640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x13097d0) left=0 top=896 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x13097d0) out=((VipsImage*) 0x1309960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: embed in=((VipsImage*) 0x12fd320) out=((VipsImage*) 0x1309c80) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12fd640) out=((VipsImage*) 0x1309e10) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x131c020) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x12fdc80) out=((VipsImage*) 0x131c1b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1309000) out=((VipsImage*) 0x131c340) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1309320) out=((VipsImage*) 0x131c4d0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1309    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:74
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 78 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x131c980, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x131c980, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016910, 0xc00005dc10?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000061d60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Embed(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:74 +0x39
        	            	testing.tRunner(0xc000082b60, 0x6cb4b0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Embed
--- FAIL: TestImage_GIF_Animated_Embed (0.00s)
=== RUN   TestImage_GIF_Animated_EmbedBackground
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
640) out=((VipsImage*) 0x131c660) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1309960) out=((VipsImage*) 0x131c7f0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x13158c0) out=((VipsImage*) 0x1309af0) across=1 -
vips cache : copy in=((VipsImage*) 0x1309af0) out=((VipsImage*) 0x131c980) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000212000, length = 18146 out=((VipsImage*) 0x131cb10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x131cca0) left=0 top=0 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1332340) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x13321b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x13321b0) out=((VipsImage*) 0x1332660) -
vips cache+: cast in=((VipsImage*) 0x13321b0) out=((VipsImage*) 0x13324d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13324d0) out=((VipsImage*) 0x13327f0) -
vips cache+: embed in=((VipsImage*) 0x131cca0) out=((VipsImage*) 0x131ce30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x1332b10) left=0 top=128 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1332980) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1332020) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1332020) out=((VipsImage*) 0x1340020) -
vips cache+: cast in=((VipsImage*) 0x1332020) out=((VipsImage*) 0x13327f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13327f0) out=((VipsImage*) 0x13401b0) -
vips cache+: embed in=((VipsImage*) 0x1332b10) out=((VipsImage*) 0x1332ca0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x13404d0) left=0 top=256 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1340660) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x13401b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x13401b0) out=((VipsImage*) 0x1340980) -
vips cache+: cast in=((VipsImage*) 0x13401b0) out=((VipsImage*) 0x13407f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13407f0) out=((VipsImage*) 0x1340b10) -
vips cache+: embed in=((VipsImage*) 0x13404d0) out=((VipsImage*) 0x1332e30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x1340e30) left=0 top=384 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1340ca0) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1340340) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1340340) out=((VipsImage*) 0x134b340) -
vips cache+: cast in=((VipsImage*) 0x1340340) out=((VipsImage*) 0x1340b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x134b4d0) -
vips cache+: embed in=((VipsImage*) 0x1340e30) out=((VipsImage*) 0x134b020) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x134b7f0) left=0 top=512 width=121 height=128 -
vips cache2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x134b980) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x134b4d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x134bca0) -
vips cache+: cast in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x134bb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x134be30) -
vips cache+: embed in=((VipsImage*) 0x134b7f0) out=((VipsImage*) 0x134b1b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x135d190) left=0 top=640 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x135d000) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x134b660) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x134b660) out=((VipsImage*) 0x135d640) -
vips cache+: cast in=((VipsImage*) 0x134b660) out=((VipsImage*) 0x134be30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x135d7d0) -
vips cache+: embed in=((VipsImage*) 0x135d190) out=((VipsImage*) 0x135d320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x135daf0) left=0 top=768 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x135dc80) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x135d7d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x135d7d0) out=((VipsImage*) 0x1369010) -
vips cache+: cast in=((VipsImage*) 0x135d7d0) out=((VipsImage*) 0x135de10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x13691a0) -
vips cache+: embed in=((VipsImage*) 0x135daf0) out=((VipsImage*) 0x135d4b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x13694c0) left=0 top=896 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1369330) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x135d960) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x135d960) out=((VipsImage*) 0x1369970) -
vips cache+: cast in=((VipsImage*) 0x135d960) out=((VipsImage*) 0x13691a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x1369b00) -
vips cache+: embed in=((VipsImage*) 0x13694c0) out=((VipsImage*) 0x1369650) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: embed in=((VipsImage*) 0x131ce30) out=((VipsImage*) 0x13697e0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x1369c90) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1332e30) out=((VipsImage*) 0x1369b00) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x134b020) out=((VipsImage*) 0x137c000) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x134b1b0) out=((VipsImage*) 0x137c190) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x137c3    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:84
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 79 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x137c7d0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x137c7d0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016960, 0xc00005dc30?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xffffc000061ec0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_EmbedBackground(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:84 +0x39
        	            	testing.tRunner(0xc000082d00, 0x6cb4a8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_EmbedBackground
--- FAIL: TestImage_GIF_Animated_EmbedBackground (0.00s)
=== RUN   TestImage_GIF_Animated_ExtractArea
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:96
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 80 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x13a54c0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x13a54c0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000169b0, 0xc00013cea0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0001ce1a0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000047f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000047f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExtractArea(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:96 +0x39
        	            	testing.tRunner(0xc000082ea0, 0x6cb4c8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExtractArea
--- FAIL: TestImage_GIF_Animated_ExtractArea (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:106
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 81 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x137caf0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x137caf0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016a00, 0xc00013cea0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc00023a000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82ba88?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:106 +0x4e
        	            	testing.tRunner(0xc000083040, 0x6cb4d8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay
--- FAIL: TestImage_GIF_Animated_PageDelay (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay2
2023/10/14 12:59:23 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:122
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 83 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005d940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12b81b0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x12b81b0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016a50, 0xc00013cea0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc00023a3c0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82ba88?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay2(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:122 +0x4c
        	            	testing.tRunner(0xc0000831e0, 0x6cb4d0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay2
--- FAIL: TestImage_GIF_Animated_PageDelay2 (0.00s)
=== RUN   TestImage_PNG_64bit_OptimizeICCProfile
2023/10/14 12:59:23 [govips.info] warning libvips already started
20) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x135d4b0) out=((VipsImage*) 0x137c4b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x137c640) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x13712f0) out=((VipsImage*) 0x1369e20) across=1 -
vips cache : copy in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x137c7d0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000216800, length = 18146 out=((VipsImage*) 0x137c960) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x12fd000) left=10 top=20 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x137cc80) left=10 top=148 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x137ce10) left=10 top=276 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x1392020) left=10 top=404 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13921b0) left=10 top=532 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x1392340) left=10 top=660 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13924d0) left=10 top=788 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x137c960) out=((VipsImage*) 0x1392660) left=10 top=916 width=80 height=90 -
vips cache+: embed in=((VipsImage*) 0x12fd000) out=((VipsImage*) 0x1392980) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x1392b10) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x137ce10) out=((VipsImage*) 0x1392ca0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x1392e30) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x13921b0) out=((VipsImage*) 0x1273650) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1392340) out=((VipsImage*) 0x13a5010) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x13a51a0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1392660) out=((VipsImage*) 0x13a5330) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x138e4c0) out=((VipsImage*) 0x13927f0) across=1 -
vips cache : copy in=((VipsImage*) 0x13927f0) out=((VipsImage*) 0x13a54c0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00021b000, length = 18146 out=((VipsImage*) 0x137caf0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00021f800, length = 18146 out=((VipsImage*) 0x12b81b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 337976 out=((VipsImage*) 0x12b84d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x13c74a0, length = 456 -
vips cache : copy in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x13a5650) -
vips cache+: extract_band in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x12b8340) band=0 n=3 -
vips cache : copy in=((Vip2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_PNG_64bit_OptimizeICCProfile (0.12s)
=== RUN   TestImage_Resize_Downscale
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] residual reducev by 0.9
2023/10/14 12:59:23 [VIPS.info] reducev: 7 point mask
2023/10/14 12:59:23 [VIPS.info] reducev: using vector path
2023/10/14 12:59:23 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:59:23 [VIPS.info] reduceh: 7 point mask
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale (0.03s)
=== RUN   TestImage_Resize_Upscale
2023/10/14 12:59:23 [govips.info] warning libvips already started
sImage*) 0x12b84d0) out=((VipsImage*) 0x13a5970) -
vips cache+: extract_band in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x13a57e0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x13c74a0, length = 456 -
vips cache+: cast in=((VipsImage*) 0x13a57e0) out=((VipsImage*) 0x13a5c90) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x13a5b00) out=((VipsImage*) 0x13d1020) -
vips cache : copy in=((VipsImage*) 0x13a5c90) out=((VipsImage*) 0x13d11b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x13c8040) out=((VipsImage*) 0x13a5e20) -
vips cache+: icc_transform in=((VipsImage*) 0x12b84d0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x13a5e20) output-profile="/tmp/govips-1670867498/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=16 -
vips cache+: cast in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x13d1340) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache+: cast in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x13d14d0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x13d14d0) out=((VipsImage*) 0x13d1660) -
vips cache+: linecache in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x13d1e30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x13d1ca0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x13a5e20) buffer=VIPS_TYPE_BLOB, data = 0x14199b0, length = 389465 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002d4000, length = 389465 out=((VipsImage*) 0x13d17f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258000, length = 1259 out=((VipsImage*) 0x13d1660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13d1660) out=((VipsImage*) 0x14221a0) -
vips cache : copy in=((VipsImage*) 0x14221a0) out=((VipsImage*) 0x14224c0) -
vips cache+: embed in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x1422650) x=0 y=3 width=100 height=107 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x14221a0) out=((VipsImage*) 0x1422330) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x1422330) out=((VipsImage*) 0x1422b00) -
vips cache+: embed in=((VipsImage*) 0x1422b00) out=((VipsImage*) 0x1422c90) x=3 y=0 width=107 height=90 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1422330) out=((VipsImage*) 0x1422970) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13d1660) out=((VipsImage*) 0x1422010) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x1422e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1422e20) out=((VipsImage*) 0x1449020) -
vips cache+: linecache in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x14497f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x1449660) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1449660) out=((VipsImage*) 0x1449980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1422010) buffer=VIPS_TYPE_BLOB, data = 0x145ab80, length = 1175 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000258500, length = 1175 out=((VipsImage*) 0x14491b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, 2023/10/14 12:59:23 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale (0.03s)
=== RUN   TestImage_Resize_Downscale_Alpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] residual reducev by 0.9
2023/10/14 12:59:23 [VIPS.info] reducev: 7 point mask
2023/10/14 12:59:23 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:59:23 [VIPS.info] reduceh: 7 point mask
data = 0xc0001fc500, length = 1259 out=((VipsImage*) 0x1449020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1449020) out=((VipsImage*) 0x1466190) -
vips cache : copy in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x14664b0) -
vips cache+: embed in=((VipsImage*) 0x14664b0) out=((VipsImage*) 0x1466640) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x1466960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x1466c80) -
vips cache+: linear in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x1466af0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x146f020) -
vips cache+: cast in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x1466e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x146f1b0) -
vips cache+: affine in=((VipsImage*) 0x1466190) interpolate=((VipsInterpolateBicubic*) 0x12ed450) out=((VipsImage*) 0x1466320) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x1449020) out=((VipsImage*) 0x1466000) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x1466000) out=((VipsImage*) 0x146f660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146f660) out=((VipsImage*) 0x146f7f0) -
vips cache+: linecache in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x146f980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x1449e30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1449e30) out=((VipsImage*) 0x146fb10) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1466000) buffer=VIPS_TYPE_BLOB, data = 0x147a440, length = 1266 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fca00, length = 1266 out=((VipsImage*) 0x146f7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00026a000, length = 12858 out=((VipsImage*) 0x146f340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x146f340) out=((VipsImage*) 0x14667d0) -
vips cache+: premultiply in=((VipsImage*) 0x146f340) out=((VipsImage*) 0x146f1b0) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x1487190) -
vips cache : copy in=((VipsImage*) 0x1487190) out=((VipsImage*) 0x14874b0) -
vips cache+: embed in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1487640) x=0 y=3 width=828 height=329 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x1487190) out=((VipsImage*) 0x1487320) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x1487af0) -
vips cache+: embed in=((VipsImage*) 0x1487af0) out=((VipsImage*) 0x1487c80) x=3 y=0 width=835 height=290 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x1487960) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x1487000) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache : copy in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x14a0010) -
vips cache+: unpremultiply in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x1487e10) -
vips cache : copy in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x1332660) -
vips cache+: cast in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x14a01a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((Vips2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale_Alpha (0.05s)
=== RUN   TestImage_Resize_Upscale_Alpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale_Alpha (0.06s)
=== RUN   TestImage_Embed_ExtendWhite_Alpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
Image*) 0x14a01a0) out=((VipsImage*) 0x13321b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13321b0) out=((VipsImage*) 0x1332340) -
vips cache+: cast in=((VipsImage*) 0x1332340) out=((VipsImage*) 0x13324d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x14a04c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x14a0330) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14a01a0) buffer=VIPS_TYPE_BLOB, data = 0x150b160, length = 76731 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000400000, length = 76731 out=((VipsImage*) 0x1332020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000414000, length = 12858 out=((VipsImage*) 0x14a0b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x14a0e20) -
vips cache+: premultiply in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x14a0c90) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x1309c80) -
vips cache : copy in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x137c7d0) -
vips cache+: embed in=((VipsImage*) 0x137c7d0) out=((VipsImage*) 0x13a54c0) x=2 y=2 width=833 height=327 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x131c1b0) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1309000) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x1309000) out=((VipsImage*) 0x12fdc80) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x12fdc80) out=((VipsImage*) 0x134b340) -
vips cache+: affine in=((VipsImage*) 0x1309c80) interpolate=((VipsInterpolateBicubic*) 0x12eda80) out=((VipsImage*) 0x12fd320) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x14a0970) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache : copy in=((VipsImage*) 0x14a0970) out=((VipsImage*) 0x131c340) -
vips cache+: unpremultiply in=((VipsImage*) 0x14a0970) out=((VipsImage*) 0x1340b10) -
vips cache : copy in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x134b340) -
vips cache+: cast in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x1340340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((VipsImage*) 0x1340340) out=((VipsImage*) 0x134bca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x134bca0) out=((VipsImage*) 0x134b4d0) -
vips cache+: cast in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x134b980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x1273c90) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x1273e20) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1340340) buffer=VIPS_TYPE_BLOB, data = 0x7f0584099ee0, length = 78342 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 78342 out=((VipsImage*) 0x134bb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000417500, length = 12858 out=((VipsImage*) 0x12b8ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x7f0554008e20) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vip2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed_ExtendWhite_Alpha (0.04s)
=== RUN   TestImage_EmbedBackgroundRGBA_Alpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
s cache+: cast in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x135d7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x135d7d0) out=((VipsImage*) 0x135dc80) -
vips cache+: cast in=((VipsImage*) 0x135dc80) out=((VipsImage*) 0x135de10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x134b660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x135d640) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f0554008e20) buffer=VIPS_TYPE_BLOB, data = 0x7f0570094f00, length = 29794 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00082a000, length = 29794 out=((VipsImage*) 0x12b8660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x12b8660) out=((VipsImage*) 0x1369010) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1369010) out=((VipsImage*) 0x12b87f0) -
vips cache : copy in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x7f0554008650) -
vips cache+: cast in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x12b8b10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f0554008b00) out=((VipsImage*) 0x7f0554008330) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008b00) out=((VipsImage*) 0x7f05540087e0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x12b8660) out-array=255 255 255 255  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00026d500, length = 12858 out=((VipsImage*) 0x12734c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1273010) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1273330) a=1  b=238 238 238 50  -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f05540084c0) -
vips cache+: cast in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x12731a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x12737e0) -
vips cache+: embed in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f0554008010) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 50  -
vips cache+: cast in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x1369650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x137c4b0) -
vips cache+: cast in=((VipsImage*) 0x137c4b0) out=((VipsImage*) 0x135d4b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x135d960) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x1369970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f0554008010) buffer=VIPS_TYPE_BLOB, data = 0x7f0550096e50, length = 29986 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000840000, length = 29986 out=((VipsImage*) 0x137c320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x137c320) out=((VipsImage*) 0x137c640) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x137c640) out=((VipsImage*) 0x135d320) -
vips cache : copy in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x134b1b0) -
vips cache+: cast in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x137c190) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x1369c90) tile-he2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackgroundRGBA_Alpha (0.04s)
=== RUN   TestImage_EmbedBackground_Alpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_Alpha (0.04s)
=== RUN   TestImage_EmbedBackground_NoAlpha
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
ight=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x1332e30) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x137c320) out-array=238 238 238 50  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f2000, length = 12858 out=((VipsImage*) 0x13697e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x12b8020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1369e20) -
vips cache+: linear in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x1332ca0) a=1  b=238 238 238 255  -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x12c6340) -
vips cache+: cast in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x7f05540081a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x12737e0) -
vips cache+: embed in=((VipsImage*) 0x13697e0) out=((VipsImage*) 0x131ce30) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 255  -
vips cache+: cast in=((VipsImage*) 0x131ce30) out=((VipsImage*) 0x12b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12b8e30) out=((VipsImage*) 0x12c6ca0) -
vips cache+: cast in=((VipsImage*) 0x12c6ca0) out=((VipsImage*) 0x12c6b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x12c67f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x12c6980) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x131ce30) buffer=VIPS_TYPE_BLOB, data = 0x7f0550036f10, length = 29987 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000850000, length = 29987 out=((VipsImage*) 0x12c6020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x12c6020) out=((VipsImage*) 0x12737e0) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x12b81b0) -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12c61b0) -
vips cache+: cast in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x137caf0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x1392b10) out=((VipsImage*) 0x12c64d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1392b10) out=((VipsImage*) 0x12c6660) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x12c6020) out-array=238 238 238 255  x=999 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fc000, length = 1259 out=((VipsImage*) 0x1392e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x1466960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x1392980) -
vips cache+: linear in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x137cc80) a=1  b=238  -
vips cache : copy in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x13927f0) -
vips cache+: cast in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x12fd000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12fd000) out=((VipsImage*) 0x131c980) -
vips cache+: embed in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x1392020) x=0 y=0 width=500 height=300 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238  -
vips cache+: cast in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x131c7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131c7f0) out=((VipsImage*) 0x13a5e20) -
vips cache+: linecache in=((VipsImage*) 0x13a5010) out=((VipsImage*) 0x1273650) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_NoAlpha (0.03s)
=== RUN   TestImage_TransformICCProfile_RGB_No_Profile
2023/10/14 12:59:23 [govips.info] warning libvips already started
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_No_Profile (0.03s)
=== RUN   TestImage_TransformICCProfile_RGB_Embedded
2023/10/14 12:59:23 [govips.info] warning libvips already started
3a5010) out=((VipsImage*) 0x1392340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1392340) out=((VipsImage*) 0x13a5330) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1392020) buffer=VIPS_TYPE_BLOB, data = 0x7f055004f910, length = 2267 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000126900, length = 2267 out=((VipsImage*) 0x12b8340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x13a5650) left=499 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x13a5650) out=((VipsImage*) 0x12b84d0) -
vips cache : copy in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x13d1340) -
vips cache+: cast in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x13a5e20) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x1309960) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x13a5b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x13a5b00) out=((VipsImage*) 0x13d14d0) left=0 top=0 width=500 height=300 -
vips cache+: getpoint in=((VipsImage*) 0x12b8340) out-array=238 238 238  x=499 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fcf00, length = 1259 out=((VipsImage*) 0x1422b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f055008f8f0, length = 3048 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f055008f8f0, length = 3048 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f055008f8f0, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x1422b00) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x1422330) output-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" embedded=FALSE input-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x1422330) out=((VipsImage*) 0x14497f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x14494d0) -
vips cache+: linecache in=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13d17f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13a51a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x13a51a0) out=((VipsImage*) 0x13d1e30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1422330) buffer=VIPS_TYPE_BLOB, data = 0x7f055005aeb0, length = 4306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00053c000, length = 4306 out=((VipsImage*) 0x14227e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000580000, length = 1297581 out=((VipsImage*) 0x1466e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f055008f8f0, length = 3048 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f055008f8f0, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x1466e10) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x14494d0) output-profile="/tmp/govips-1670867498/srgb_iec62023/10/14 12:59:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_Embedded (0.13s)
=== RUN   TestImage_OptimizeICCProfile_CMYK
2023/10/14 12:59:24 [govips.info] warning libvips already started
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_CMYK (0.13s)
=== RUN   TestImage_OptimizeICCProfile_RGB_No_Profile
2023/10/14 12:59:24 [govips.info] warning libvips already started
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
1966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x14491b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x146f4d0) -
vips cache+: linecache in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x1449b10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x1449020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1449020) out=((VipsImage*) 0x146f660) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14494d0) buffer=VIPS_TYPE_BLOB, data = 0x7f05507cee10, length = 303700 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 303700 out=((VipsImage*) 0x1466640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000880000, length = 792059 out=((VipsImage*) 0x14664b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="cmyk" profile=VIPS_TYPE_BLOB, data = 0x7f05502046c0, length = 961644 -
vips cache+: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x14664b0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x1466190) output-profile="/tmp/govips-1670867498/srgb_v2_micro.icc" embedded=FALSE input-profile="cmyk" depth=8 -
vips cache+: cast in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x146f7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146f7f0) out=((VipsImage*) 0x146f4d0) -
vips cache+: linecache in=((VipsImage*) 0x1449e30) out=((VipsImage*) 0x1449ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1449e30) out=((VipsImage*) 0x146f980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x146f980) out=((VipsImage*) 0x146fb10) left=0 top=0 width=1080 height=1080 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1466190) buffer=VIPS_TYPE_BLOB, data = 0x7f055017c640, length = 36376 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000868000, length = 36376 out=((VipsImage*) 0x1466000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fc500, length = 1259 out=((VipsImage*) 0x12b8980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x146f020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x1332660) -
vips cache+: linecache in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1487320) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1487af0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1487af0) out=((VipsImage*) 0x14a04c0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12b8980) buffer=VIPS_TYPE_BLOB, data = 0x7f057002a780, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload--- PASS: TestImage_OptimizeICCProfile_RGB_No_Profile (0.03s)
=== RUN   TestImage_OptimizeICCProfile_RGB_Embedded
2023/10/14 12:59:24 [govips.info] warning libvips already started
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_RGB_Embedded (0.13s)
=== RUN   TestImageRef_PngToWebp_OptimizeICCProfile_Lossless
2023/10/14 12:59:24 [govips.info] warning libvips already started
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:24 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PngToWebp_OptimizeICCProfile_Lossless (1.99s)
=== RUN   TestImage_OptimizeICCProfile_Grey
2023/10/14 12:59:26 [govips.info] warning libvips already started
_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fca00, length = 1240 out=((VipsImage*) 0x1487e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000942000, length = 1297581 out=((VipsImage*) 0x14877d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x14877d0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x1487640) output-profile="/tmp/govips-1670867498/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x1487640) out=((VipsImage*) 0x14874b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1487190) -
vips cache+: linecache in=((VipsImage*) 0x14a0330) out=((VipsImage*) 0x146f1b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14a0330) out=((VipsImage*) 0x1332020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1332020) out=((VipsImage*) 0x1466af0) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1487640) buffer=VIPS_TYPE_BLOB, data = 0x7f0568762340, length = 301063 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002cc000, length = 301063 out=((VipsImage*) 0x1487190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a80000, length = 1688166 out=((VipsImage*) 0x146f340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x146f340) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x146fca0) output-profile="/tmp/govips-1670867498/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x146fca0) out=((VipsImage*) 0x13324d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13324d0) out=((VipsImage*) 0x1340340) -
vips cache+: linecache in=((VipsImage*) 0x1422650) out=((VipsImage*) 0x131c1b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1422650) out=((VipsImage*) 0x1309000) tile-height=16 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05502f3360, length = 456 -
vips cache : webpsave_buffer in=((VipsImage*) 0x146fca0) buffer=VIPS_TYPE_BLOB, data = 0x7f05686615d0, length = 1154020 Q=90 lossless=TRUE profile="/tmp/govips-1670867498/srgb_v2_micro.icc" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c1e000, length = 1154020 out=((VipsImage*) 0x134b340) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000566000, length = 73046 out=((VipsImage*) 0x1466320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-1670867498/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05501852b0, length = 336 -
vips cache*: profile_load name="/tmp/govips-1670867498/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f05501852b0, length = 336 -
vips cache+: icc_transform in=((VipsImage*) 0x1466320) intent=((V2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_Grey (0.04s)
=== RUN   TestImage_RemoveICCProfile
2023/10/14 12:59:26 [govips.info] warning libvips already started
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_RemoveICCProfile (0.03s)
=== RUN   TestImage_RemoveMetadata_Removes_Exif
2023/10/14 12:59:26 [govips.info] warning libvips already started
2023/10/14 12:59:26 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:197
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_RemoveMetadata_Removes_Exif
--- FAIL: TestImage_RemoveMetadata_Removes_Exif (0.00s)
=== RUN   TestImage_SetExifField
2023/10/14 12:59:26 [govips.info] warning libvips already started
2023/10/14 12:59:26 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:213
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_SetExifField
--- FAIL: TestImage_SetExifField (0.00s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Orientation
2023/10/14 12:59:26 [govips.info] warning libvips already started
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Orientation (0.03s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Copyright
2023/10/14 12:59:26 [govips.info] warning libvips already started
ipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x146f4d0) output-profile="/tmp/govips-1670867498/sgray_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x146f4d0) out=((VipsImage*) 0x14a0970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14a0970) out=((VipsImage*) 0x135d7d0) -
vips cache+: linecache in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x1273e20) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x14a07e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x134b660) left=0 top=0 width=640 height=416 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x146f4d0) buffer=VIPS_TYPE_BLOB, data = 0x7f055019a0f0, length = 56581 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a8000, length = 56581 out=((VipsImage*) 0x12fd320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000160000, length = 1617 out=((VipsImage*) 0x131c340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x134bb10) -
vips cache+: cast in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x1340340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1340340) out=((VipsImage*) 0x134b4d0) -
vips cache+: linecache in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x12b8ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x7f0554008e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x1369010) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x134bb10) buffer=VIPS_TYPE_BLOB, data = 0x7f0568560920, length = 1076 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000122480, length = 1076 out=((VipsImage*) 0x134bca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000210000, length = 34855 out=((VipsImage*) 0x7f0554008c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f0554008c90) out=((VipsImage*) 0x7f05540087e0) -
vips cache+: cast in=((VipsImage*) 0x7f05540087e0) out=((VipsImage*) 0x7f0554008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0554008330) out=((VipsImage*) 0x7f0554008b00) -
vips cache+: linecache in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x7f0554008970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x135de10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x135de10) out=((VipsImage*) 0x1369650) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f05540087e0) buffer=VIPS_TYPE_BLOB, data = 0x7f0580058cf0, length = 28255 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 28255 out=((VipsImage*) 0x7f05540084c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00028e000, length = 62222 out=((VipsImage*) 0x1273330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=T2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Copyright (0.04s)
=== RUN   TestImageRef_Orientation_Issue
2023/10/14 12:59:26 [govips.info] warning libvips already started
2023/10/14 12:59:26 [VIPS.info] residual reducev by 0.9
2023/10/14 12:59:26 [VIPS.info] reducev: 7 point mask
2023/10/14 12:59:26 [VIPS.info] reducev: using vector path
2023/10/14 12:59:26 [VIPS.info] residual reduceh by 0.9
2023/10/14 12:59:26 [VIPS.info] reduceh: 7 point mask
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:26 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Orientation_Issue (1.19s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Profile
2023/10/14 12:59:27 [govips.info] warning libvips already started
RUE -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x1273010) -
vips cache+: cast in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x12731a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x135d960) -
vips cache+: linecache in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x137c4b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x12b87f0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x7f0554008010) left=0 top=0 width=1000 height=667 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273010) buffer=VIPS_TYPE_BLOB, data = 0x7f0580022680, length = 19235 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00026a000, length = 19235 out=((VipsImage*) 0x134be30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00100c000, length = 3103940 out=((VipsImage*) 0x137c190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x135d320) -
vips cache : copy in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x137c000) -
vips cache+: embed in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x137c320) x=0 y=3 width=4032 height=3031 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x137c640) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x137c640) out=((VipsImage*) 0x7f0554008b00) -
vips cache+: embed in=((VipsImage*) 0x7f0554008b00) out=((VipsImage*) 0x1332e30) x=3 y=0 width=4039 height=2722 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x137c640) out=((VipsImage*) 0x1369970) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x134b1b0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x134b1b0) out=((VipsImage*) 0x1332ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x12b8e30) -
vips cache+: linecache in=((VipsImage*) 0x135d000) out=((VipsImage*) 0x12c6b10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x135d000) out=((VipsImage*) 0x135d4b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x135d4b0) out=((VipsImage*) 0x1369e20) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x134b1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f05801aa1b0, length = 412220 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00029e000, length = 412220 out=((VipsImage*) 0x14877d0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00036a000, length = 187806 out=((VipsImage*) 0x137c4b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x137c4b0) out=((VipsImage*) 0x7f0554008650) -
vips cache+: cast in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x7f0554008010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x1273010) -
vips cache+: linecache in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x13691a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x12c67f0) tile-height=8 -
vips cache2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Profile (0.04s)
=== RUN   TestImage_AutoRotate_0
2023/10/14 12:59:27 [govips.info] warning libvips already started
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:279: 
        	Error Trace:	image_golden_test.go:279
        	            				image_golden_test.go:966
        	            				image_golden_test.go:274
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 1
        	Test:       	TestImage_AutoRotate_0
--- FAIL: TestImage_AutoRotate_0 (0.10s)
=== RUN   TestImage_AutoRotate_1
2023/10/14 12:59:27 [govips.info] warning libvips already started
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_1 (0.11s)
=== RUN   TestImage_AutoRotate_5
2023/10/14 12:59:27 [govips.info] warning libvips already started
+: extract_area input=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x12c6980) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f0554008650) buffer=VIPS_TYPE_BLOB, data = 0x7f058017d110, length = 65299 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007c6000, length = 65299 out=((VipsImage*) 0x7f0554008010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a0000, length = 135059 out=((VipsImage*) 0x134be30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x1332ca0) -
vips cache+: autorot in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x12b87f0) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x1273010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x1273330) -
vips cache+: cast in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x12b8b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f0554008970) out=((VipsImage*) 0x1369650) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008970) out=((VipsImage*) 0x1273970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12b87f0) buffer=VIPS_TYPE_BLOB, data = 0x7f05801a5800, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003c2000, length = 223227 out=((VipsImage*) 0x7f05540084c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005b0000, length = 459699 out=((VipsImage*) 0x12731a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x1273010) -
vips cache+: autorot in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x1273330) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x12b8b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12b8b10) out=((VipsImage*) 0x7f05540087e0) -
vips cache+: linecache in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x135d640) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x12b8ca0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x1369010) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273330) buffer=VIPS_TYPE_BLOB, data = 0x7f0580cbe2b0, length = 534950 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000622000, length = 534950 out=((VipsImage*) 0x7f0554008c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a8000, length = 34855 out=((VipsImage*) 0x14a0010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x1332660) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: flip in=((VipsImage*) 0x1332660) out=((VipsImage*) 0x1332340) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x1332340) out=((VipsImage*) 0x13321b0) -
vips cache+: autorot in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x1487000) angle=((VipsAngle) VIPS_ANGLE_D90) flip=TRUE -
vips c2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_5 (0.03s)
=== RUN   TestImage_AutoRotate_6
2023/10/14 12:59:27 [govips.info] warning libvips already started
2023/10/14 12:59:28 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:28 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_6 (0.25s)
=== RUN   TestImage_AutoRotate_6__jpeg_to_webp
2023/10/14 12:59:28 [govips.info] warning libvips already started
2023/10/14 12:59:28 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:28 [VIPS.info] threadpool completed with 1 workers
ache+: cast in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x14a01a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1332ca0) -
vips cache+: linecache in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x137c4b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x1273b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x12b8020) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1487000) buffer=VIPS_TYPE_BLOB, data = 0x7f05700351a0, length = 28411 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 28411 out=((VipsImage*) 0x134be30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 2980637 out=((VipsImage*) 0x135de10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x1332ca0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x14a01a0) -
vips cache+: autorot in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x1273970) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x137c320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137c320) out=((VipsImage*) 0x137c000) -
vips cache+: linecache in=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x1369e20) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x12734c0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x135d4b0) left=0 top=0 width=4032 height=3024 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273970) buffer=VIPS_TYPE_BLOB, data = 0x7f057234c240, length = 782608 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000ae6000, length = 782608 out=((VipsImage*) 0x135d320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c66000, length = 2980637 out=((VipsImage*) 0x137c190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x135d000) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x135d000) out=((VipsImage*) 0x14877d0) -
vips cache+: autorot in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x137c000) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x146fe30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x7f0554008650) -
vips cache+: linecache in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x7f0554008010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x7f05540081a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x12b87f0) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x137c000) buffer=VIPS_TYPE_BLOB, data = 0x7f0572397d90, length = 192026 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 192026 --- PASS: TestImage_AutoRotate_6__jpeg_to_webp (1.09s)
=== RUN   TestImage_AutoRotate_6__heic_to_jpg
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [govips.info] failed to understand image format size=1003078
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:329
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_AutoRotate_6__heic_to_jpg
--- FAIL: TestImage_AutoRotate_6__heic_to_jpg (0.00s)
=== RUN   TestImage_Export_AVIF_8_Bit
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [govips.info] failed to understand image format size=503442
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:341
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Export_AVIF_8_Bit
--- FAIL: TestImage_Export_AVIF_8_Bit (0.00s)
=== RUN   TestImage_TIF_16_Bit_To_AVIF_12_Bit
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:29 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:29 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:29 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
    image_golden_test.go:961: 
        	Error Trace:	image_golden_test.go:961
        	            				image_golden_test.go:353
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "heifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 165 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc0001e0ba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x12c67f0, 0x0, 0xb, 0x0, 0x0, 0x50, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveAVIFToBuffer(0x12c67f0, {0x0, 0x50, 0xc, 0x5, 0x0, 0x0})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:432 +0x198
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportAvif(0xc0001b6000, 0x97a120?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:980 +0xba
        	            	github.com/davidbyttow/govips/v2/vips.exportAvif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:917 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenTest(0xc0000b4180?, {0x6a2dfe, 0x1a}, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:960 +0x105
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_TIF_16_Bit_To_AVIF_12_Bit(0xc0001c2d00)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:353 +0x89
        	            	testing.tRunner(0xc0001c2d00, 0x6cb728)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_TIF_16_Bit_To_AVIF_12_Bit
--- FAIL: TestImage_TIF_16_Bit_To_AVIF_12_Bit (0.00s)
=== RUN   TestImage_Sharpen_24bit_Alpha
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] convi: using C path
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
out=((VipsImage*) 0x135de10) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000f3e000, length = 4232628 out=((VipsImage*) 0x12c67f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020e000, length = 47948 out=((VipsImage*) 0x146fe30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x135d320) -
vips cache+: cast in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x12734c0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x1369e20) -
vips cache : copy in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x137c320) -
vips cache+: extract_band in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x135d4b0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x7f0554008650) -
vips cache+: extract_band in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x134be30) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x134be30) out=((VipsImage*) 0x14a01a0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1273b00) -
vips cache : copy in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x137c4b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700064e0) out=((VipsImage*) 0x1332ca0) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x1332ca0) -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x12b8020) -
vips cache+: extract_band in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x131c340) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x7f0554008970) -
vips cache+: extract_band in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x1369650) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x1273010) -
vips cache+: cast in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x1273330) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x7f05540084c0) out=((VipsImage*) 0x134bca0) -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x1369010) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f0570039ab0) out=((VipsImage*) 0x12731a0) -
vips cache+: Lab2LabS in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x12731a0) -
vips cache+: colourspace in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x12b8ca0) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x135d640) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x7f0554008c90) -
vips cache+: extract_band in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x7f0554008e20) band=0 -
vips cache : copy in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x12fd320) -
vips cache+: extract_band in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x1340340) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x1273e20) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x134b660) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x134b660) out=((VipsImage*) 0x146f4d0) -
vips cache+: cast in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x1466320) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x12fdc80) -
vips cache+: cast in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x14a0970) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x12fdc80) out=((VipsImage*) 0x1340b10) x=2 y=0 width=516 height=512 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x134b340) out=((VipsImage*) 0x14a0970) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x12fdc80) out=((VipsImage*) 0x1309000) mask=((VipsImage*) 0x1273e20) -
vips cache+: conv in=((VipsImage*) 0x7f0554008e20) o2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] convi: using C path
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
ut=((VipsImage*) 0x1466320) mask=((VipsImage*) 0x1273c90) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x146f4d0) out=((VipsImage*) 0x146fca0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x146fca0) -
vips cache+: cast in=((VipsImage*) 0x131c1b0) out=((VipsImage*) 0x146f340) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x146fca0) out=((VipsImage*) 0x13324d0) x=0 y=2 width=512 height=516 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x1487190) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x146fca0) out=((VipsImage*) 0x146f340) mask=((VipsImage*) 0x131c1b0) -
vips cache+: conv in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x14a0970) mask=((VipsImage*) 0x146f4d0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x7f0554008e20) out=((VipsImage*) 0x14a07e0) mask=((VipsImage*) 0x135d640) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x1332020) out=((VipsImage*) 0x1487e10) -
vips cache : copy in=((VipsImage*) 0x1340340) out=((VipsImage*) 0x14a0330) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700abc40) out=((VipsImage*) 0x14874b0) -
vips cache : copy in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x12b8e30) -
vips cache+: extract_band in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1466af0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1487af0) -
vips cache+: extract_band in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1487640) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x1487640) out=((VipsImage*) 0x14a04c0) -
vips cache+: cast in=((VipsImage*) 0x1487640) out=((VipsImage*) 0x1487c80) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x1487960) -
vips cache : copy in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x146f020) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700b65e0) out=((VipsImage*) 0x12b8980) -
vips cache+: LabS2Lab in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x12b8980) -
vips cache : copy in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x146f980) -
vips cache+: extract_band in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x1466000) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x1449e30) -
vips cache+: extract_band in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x1449ca0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x1466190) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x146fb10) out=((VipsImage*) 0x1449660) -
vips cache : copy in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x146f7f0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700bf090) out=((VipsImage*) 0x14664b0) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x14664b0) -
vips cache+: cast in=((VipsImage*) 0x14664b0) out=((VipsImage*) 0x1466640) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x14664b0) out=((VipsImage*) 0x1449020) -
vips cache+: cast in=((VipsImage*) 0x1449020) out=((VipsImage*) 0x1449b10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x1449020) out=((VipsImage*) 0x13d1ca0) -
vips cache+: colourspace in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x146f660) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x146f1b0) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x14494d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x1466e10) -
vips cache+: cast in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x13d1b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImag2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_24bit_Alpha (0.08s)
=== RUN   TestImage_Sharpen_8bit_Alpha
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
e*) 0x14227e0) out=((VipsImage*) 0x13d17f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14227e0) out=((VipsImage*) 0x13a51a0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x146f1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f0570113640, length = 37244 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003c6000, length = 37244 out=((VipsImage*) 0x14494d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e2000, length = 12858 out=((VipsImage*) 0x13d1b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x1466e10) -
vips cache+: cast in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x137c960) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x13d1e30) -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x1422b00) -
vips cache+: extract_band in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x1422330) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x14497f0) -
vips cache+: extract_band in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x1392660) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1392660) out=((VipsImage*) 0x13a5e20) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x13d1980) out=((VipsImage*) 0x12b84d0) -
vips cache : copy in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x13a5650) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700dbc60) out=((VipsImage*) 0x13d1340) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x13d1340) -
vips cache : copy in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x13a5c90) -
vips cache+: extract_band in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x12b8340) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x13a5b00) -
vips cache+: extract_band in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x13d14d0) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x13d14d0) out=((VipsImage*) 0x1392340) -
vips cache+: cast in=((VipsImage*) 0x13d14d0) out=((VipsImage*) 0x13d1020) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x1309960) out=((VipsImage*) 0x13a5010) -
vips cache : copy in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x13a5330) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700e59a0) out=((VipsImage*) 0x1273650) -
vips cache+: Lab2LabS in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x1273650) -
vips cache+: colourspace in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x1392020) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x1392e30) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x131c7f0) -
vips cache+: extract_band in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x13924d0) band=0 -
vips cache : copy in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x137cc80) -
vips cache+: extract_band in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x13927f0) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x12fd000) out=((VipsImage*) 0x13921b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x13921b0) out=((VipsImage*) 0x137caf0) -
vips cache+: cast in=((VipsImage*) 0x12fd000) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x12737e0) -
vips cache+: cast in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x12c6020) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x12c6020) x=2 y=0 wid2023/10/14 12:59:29 [VIPS.info] convi: using C path
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] convi: using C path
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
th=832 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x137ce10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x1369330) mask=((VipsImage*) 0x12c61b0) -
vips cache+: conv in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x12b81b0) mask=((VipsImage*) 0x12fd000) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x131ce30) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12c6660) -
vips cache+: cast in=((VipsImage*) 0x137ce10) out=((VipsImage*) 0x12c64d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x12c6660) out=((VipsImage*) 0x12c6ca0) x=0 y=2 width=828 height=326 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x1392b10) out=((VipsImage*) 0x12c64d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x12c6660) out=((VipsImage*) 0x1369b00) mask=((VipsImage*) 0x137ce10) -
vips cache+: conv in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x131ce30) mask=((VipsImage*) 0x137caf0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x1392980) mask=((VipsImage*) 0x1392e30) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x135d960) out=((VipsImage*) 0x137c7d0) -
vips cache : copy in=((VipsImage*) 0x13927f0) out=((VipsImage*) 0x1309c80) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700ffcb0) out=((VipsImage*) 0x12c64d0) -
vips cache : copy in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x14a0e20) -
vips cache+: extract_band in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x14a0c90) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x14a0650) -
vips cache+: extract_band in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x14a0b00) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x1449980) -
vips cache+: cast in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x14667d0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x1422970) -
vips cache : copy in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x1422c90) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f057010a160) out=((VipsImage*) 0x1422010) -
vips cache+: LabS2Lab in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x1422010) -
vips cache : copy in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x13a57e0) -
vips cache+: extract_band in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x14224c0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x13d11b0) -
vips cache+: extract_band in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x13a5970) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13a5970) out=((VipsImage*) 0x13d1660) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14221a0) out=((VipsImage*) 0x1422e20) -
vips cache : copy in=((VipsImage*) 0x13d1660) out=((VipsImage*) 0x131c660) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f0570153860) out=((VipsImage*) 0x1449340) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x1449340) -
vips cache+: cast in=((VipsImage*) 0x1449340) out=((VipsImage*) 0x1309640) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x1449340) out=((VipsImage*) 0x131c4d0) -
vips cache+: cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x1309320) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x131c020) -
vips cache+: colourspace in=((VipsImage*) 0x12c64d0) out=((VipsImage*) 0x12fd960) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x12c6340) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((V2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_8bit_Alpha (0.08s)
=== RUN   TestImage_Modulate
2023/10/14 12:59:29 [govips.info] warning libvips already started
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Modulate (0.52s)
=== RUN   TestImage_Modulate_Alpha
2023/10/14 12:59:29 [govips.info] warning libvips already started
ipsImage*) 0x12c6340) out=((VipsImage*) 0x1309e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1309e10) out=((VipsImage*) 0x12fd640) -
vips cache+: cast in=((VipsImage*) 0x12fd640) out=((VipsImage*) 0x7f0570168010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x7f0570168b00) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x7f0570168970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12c6340) buffer=VIPS_TYPE_BLOB, data = 0x7f05701d1f70, length = 36847 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003f4000, length = 36847 out=((VipsImage*) 0x7f0570168330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000298000, length = 459699 out=((VipsImage*) 0x7f05701684c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x7f05701684c0) out=((VipsImage*) 0x7f05701681a0) -
vips cache+: cast in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x12fd640) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x1309e10) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x1309e10) out=((VipsImage*) 0x7f0570168010) -
vips cache+: Lab2LCh in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x1466640) -
vips cache+: colourspace in=((VipsImage*) 0x7f05701684c0) out=((VipsImage*) 0x14664b0) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x14664b0) out=((VipsImage*) 0x146f980) -
vips cache+: linear in=((VipsImage*) 0x14664b0) out=((VipsImage*) 0x1466000) a=0.7 0.5 1  b=0 0 180  -
vips cache+: LCh2Lab in=((VipsImage*) 0x1466000) out=((VipsImage*) 0x12b8980) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x1466af0) -
vips cache+: cast in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x12b8e30) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x14874b0) -
vips cache+: cast in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x14a0330) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x14874b0) out=((VipsImage*) 0x1340340) -
vips cache+: colourspace in=((VipsImage*) 0x1466000) out=((VipsImage*) 0x12fd320) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x12fd320) out=((VipsImage*) 0x12b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x12731a0) -
vips cache+: linecache in=((VipsImage*) 0x137c320) out=((VipsImage*) 0x12734c0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137c320) out=((VipsImage*) 0x1369e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x135d320) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12fd320) buffer=VIPS_TYPE_BLOB, data = 0x7f0570d89f50, length = 498641 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00030a000, length = 498641 out=((VipsImage*) 0x131c340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001c4000, length = 47948 out=((VipsImage*) 0x1332ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x12b8020) -
vips cache+: cast in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x12731a0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x13d17f0) -
vips cache : copy in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x134be30) -
vips cache+: extract_band in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x14227e0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x137c4b0) -
vips cache+: extract_band in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x7f0554008650) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x1273b00) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1369650) -
vips cache : copy in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x7f0554008970) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f0570036a50) out=((VipsImage*) 0x1273970) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x1273970) -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1273330) -
vips cache+: extract_band in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1369010) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x134bca0) -
vips cache+: extract_band in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1273010) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x1487e10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f05540084c0) out=((VipsImage*) 0x1487640) -
vips cache : copy in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x1487af0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700add20) out=((VipsImage*) 0x1332020) -
vips cache+: Lab2LCh in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1332020) -
vips cache+: colourspace in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x146f020) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x14a04c0) -
vips cache+: linear in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x1487c80) a=1.1 1.2 1 1  b=0  -
vips cache : copy in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1487320) -
vips cache+: extract_band in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1487960) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1449e30) -
vips cache+: extract_band in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1449ca0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x1466190) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x146f7f0) out=((VipsImage*) 0x146fb10) -
vips cache : copy in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x14a07e0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05700fb650) out=((VipsImage*) 0x1449660) -
vips cache+: LCh2Lab in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x1449660) -
vips cache : copy in=((VipsImage*) 0x1449660) out=((VipsImage*) 0x146f340) -
vips cache+: extract_band in=((VipsImage*) 0x1449660) out=((VipsImage*) 0x14a0970) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1449660) out=((VipsImage*) 0x1487190) -
vips cache+: extract_band in=((VipsImage*) 0x1449660) out=((VipsImage*) 0x1466c80) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x146fca0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x13324d0) out=((VipsImage*) 0x1309000) -
vips cache : copy in=((VipsImage*) 0x146fca0) out=((VipsImage*) 0x134b340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05701625a0) out=((VipsImage*) 0x1466320) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x1449660) out=((VipsImage*) 0x1466320) -
vips cache+: cast in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x1422650) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x1340b10) -
vips cache+: cast in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x12fdc80) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x7f0554008e20) -
vips cache+: colourspace in=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x7f055402023/10/14 12:59:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Modulate_Alpha (0.08s)
=== RUN   TestImage_ModulateHSV
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV (0.19s)
=== RUN   TestImage_ModulateHSV_Alpha
2023/10/14 12:59:30 [govips.info] warning libvips already started
08c90) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x7f0554008c90) out=((VipsImage*) 0x1273e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x1273c90) -
vips cache+: cast in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x131c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x146f4d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x13a51a0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f0554008c90) buffer=VIPS_TYPE_BLOB, data = 0x7f057014e010, length = 30309 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152000, length = 30309 out=((VipsImage*) 0x131c020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005dc000, length = 459699 out=((VipsImage*) 0x1309320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2HSV in=((VipsImage*) 0x1309320) out=((VipsImage*) 0x131c4d0) -
vips cache+: colourspace in=((VipsImage*) 0x1309320) out=((VipsImage*) 0x12fd960) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x1449340) -
vips cache+: linear in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x1309640) a=1 0.5 0.7  b=180 0 0  -
vips cache : copy in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x13a57e0) -
vips cache+: cast in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x14224c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x1422010) -
vips cache+: colourspace in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x14a0c90) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x14a0e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14a0e20) out=((VipsImage*) 0x12c64d0) -
vips cache+: linecache in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x1309c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x12c6340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x12c6340) out=((VipsImage*) 0x13927f0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14a0c90) buffer=VIPS_TYPE_BLOB, data = 0x7f0570d89f50, length = 487713 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00064e000, length = 487713 out=((VipsImage*) 0x12c64d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000394000, length = 47948 out=((VipsImage*) 0x12b8340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x13d1340) -
vips cache+: extract_band in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x13a5c90) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x1422330) -
vips cache+: extract_band in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x1273650) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1273650) out=((VipsImage*) 0x13d1e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1422b00) out=((VipsImage*) 0x1466e10) -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x13d1b10) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f05701214d0) out=((VipsImage*) 0x137c960) -
vips cache+: sRGB2HSV in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x137c960) -
vips cache+: col2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV_Alpha (0.04s)
=== RUN   TestImage_ExtractArea
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ExtractArea (0.05s)
=== RUN   TestImage_Rotate
2023/10/14 12:59:30 [govips.info] warning libvips already started
ourspace in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x7f0570168650) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x7f0570168650) out=((VipsImage*) 0x7f0570168b00) -
vips cache+: linear in=((VipsImage*) 0x7f0570168650) out=((VipsImage*) 0x7f0570168970) a=1 1.2 1.1 1  b=120 0 0 0  -
vips cache : copy in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x1392660) -
vips cache+: cast in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x7f05701687e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x13a5650) -
vips cache+: extract_band in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x14497f0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x12b84d0) -
vips cache+: extract_band in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x13a5e20) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x13d14d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1980) out=((VipsImage*) 0x13a5330) -
vips cache : copy in=((VipsImage*) 0x13d14d0) out=((VipsImage*) 0x13d1020) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f057012f3b0) out=((VipsImage*) 0x13a5b00) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x13a5b00) -
vips cache+: colourspace in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x1392340) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x1392340) out=((VipsImage*) 0x13a5010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13a5010) out=((VipsImage*) 0x1309960) -
vips cache+: cast in=((VipsImage*) 0x1309960) out=((VipsImage*) 0x137c7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x14a0b00) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x135d960) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1392340) buffer=VIPS_TYPE_BLOB, data = 0x7f05700955b0, length = 29034 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a0000, length = 29034 out=((VipsImage*) 0x1449980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006c6000, length = 459699 out=((VipsImage*) 0x1422970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1422970) out=((VipsImage*) 0x134b980) left=10 top=20 width=200 height=100 -
vips cache+: cast in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x14667d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x13a5970) -
vips cache+: linecache in=((VipsImage*) 0x1422c90) out=((VipsImage*) 0x14221a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1422c90) out=((VipsImage*) 0x1422e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1422e20) out=((VipsImage*) 0x1392980) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x134b980) buffer=VIPS_TYPE_BLOB, data = 0x7f057006e580, length = 24521 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003b2000, length = 24521 out=((VipsImage*) 0x13d11b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000886000, length = 459699 out=((VipsImage*) 0x146f660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x146f660) out=((VipsImage*) 0x13d12023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rotate (0.14s)
=== RUN   TestImageRef_Linear1
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Linear1 (0.08s)
=== RUN   TestImageRef_Linear_Alpha
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Linear_Alpha (0.04s)
=== RUN   TestImage_Zoom
2023/10/14 12:59:30 [govips.info] warning libvips already started
ca0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: cast in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x1449b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1449b10) out=((VipsImage*) 0x1449020) -
vips cache+: linecache in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x1369c90) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x1392b10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1392b10) out=((VipsImage*) 0x12c6ca0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13d1ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f056cbf8100, length = 540705 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0008f8000, length = 540705 out=((VipsImage*) 0x1449020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00078e000, length = 135059 out=((VipsImage*) 0x146f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x12c6660) -
vips cache+: linear in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x12c67f0) a=3  b=4  -
vips cache : copy in=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x1369330) -
vips cache+: cast in=((VipsImage*) 0x12c67f0) out=((VipsImage*) 0x12b81b0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x1466960) -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x12c6020) -
vips cache+: cast in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x13697e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x137ce10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x12fd000) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12c67f0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c051250, length = 100896 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b6000, length = 100896 out=((VipsImage*) 0x1369330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000534000, length = 47948 out=((VipsImage*) 0x12b81b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12737e0) -
vips cache+: linear in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x1466960) a=1.1 1.2 1.3 1.4  b=1 2 3 4  -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x13697e0) -
vips cache+: cast in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x13924d0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x12c6020) -
vips cache : copy in=((VipsImage*) 0x12c6020) out=((VipsImage*) 0x1273e20) -
vips cache+: cast in=((VipsImage*) 0x12c6020) out=((VipsImage*) 0x1273c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13a5010) out=((VipsImage*) 0x14a0e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13a5010) out=((VipsImage*) 0x137c7d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1466960) buffer=VIPS_TYPE_BLOB, data = 0x7f056c05f1e0, length = 27690 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000540000, length = 27690 out=((VipsImage*) 0x13697e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegl2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Zoom (0.03s)
=== RUN   TestImage_Thumbnail_NoCrop
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] selected loader is image source
2023/10/14 12:59:30 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:30 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:30 [VIPS.info] residual reducev by 0.0503497
2023/10/14 12:59:30 [VIPS.info] shrinkv by 10
2023/10/14 12:59:30 [VIPS.info] reducev: 13 point mask
2023/10/14 12:59:30 [VIPS.info] reducev: using vector path
2023/10/14 12:59:30 [VIPS.info] residual reduceh by 0.0503497
2023/10/14 12:59:30 [VIPS.info] shrinkh by 9
2023/10/14 12:59:30 [VIPS.info] reduceh: 15 point mask
oad_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000778000, length = 1259 out=((VipsImage*) 0x1273c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: zoom input=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x1273e20) xfac=2 yfac=3 -
vips cache+: cast in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x13924d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13924d0) out=((VipsImage*) 0x12c6020) -
vips cache+: linecache in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x13921b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x137caf0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x1392e30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273e20) buffer=VIPS_TYPE_BLOB, data = 0x7f056c065210, length = 2460 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000774a80, length = 2460 out=((VipsImage*) 0x131c1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a04000, length = 187806 out=((VipsImage*) 0x12b8ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x13924d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x12c6020) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x12c6020) out=((VipsImage*) 0x14877d0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x14877d0) out=((VipsImage*) 0x137c190) -
vips cache+: embed in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f05540081a0) x=0 y=0 width=715 height=490 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x12b87f0) vshrink=10 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x13691a0) -
vips cache+: embed in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x135de10) x=0 y=6 width=715 height=62 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x12c6b10) vshrink=1.986111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f0570168c90) x=0 y=0 width=724 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f0570168330) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f0570168330) out=((VipsImage*) 0x7f0570168e20) -
vips cache+: embed in=((VipsImage*) 0x7f0570168e20) out=((VipsImage*) 0x7f056c0a2000) x=7 y=0 width=95 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x14494d0) hshrink=2.206790 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x14877d0) out=((VipsImage*) 0x135d000) vscale=0.050350 scale=0.050350 -
vips cache : thumbnail_image in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x7f056c0a2190) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2190) out=((VipsImage*) 0x7f056c0a2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c0a2320) out=((VipsImage*) 0x7f056c0a24b0) -
vips cache+: linecache in=((VipsImage*) 0x7f056c0a2960) out=((VipsImage*) 0x7f056c0a2c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c0a2960) out=((VipsImage*) 0x7f056c0a2af0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x7f056c0a2e12023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoCrop (0.03s)
=== RUN   TestImage_Thumbnail_NoUpscale
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] selected loader is image source
2023/10/14 12:59:30 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:30 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoUpscale (0.04s)
=== RUN   TestImage_Thumbnail_CropCentered
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] selected loader is image source
2023/10/14 12:59:30 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:30 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:59:30 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:30 [VIPS.info] residual reducev by 0.0517598
2023/10/14 12:59:30 [VIPS.info] shrinkv by 9
2023/10/14 12:59:30 [VIPS.info] reducev: 13 point mask
2023/10/14 12:59:30 [VIPS.info] reducev: using vector path
2023/10/14 12:59:30 [VIPS.info] residual reduceh by 0.0517598
2023/10/14 12:59:30 [VIPS.info] shrinkh by 9
0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c0a2190) buffer=VIPS_TYPE_BLOB, data = 0x7f056c0e2a80, length = 22541 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007e6000, length = 22541 out=((VipsImage*) 0x7f056c0a2640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a3a000, length = 187806 out=((VipsImage*) 0x7f056c0a27d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f056c0a27d0) out=((VipsImage*) 0x7f056c0a2320) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c0a27d0) out=((VipsImage*) 0x7f056c0a24b0) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x7f056c0a24b0) out=((VipsImage*) 0x7f056c100020) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x7f056c100340) -
vips cache+: resize in=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x7f056c1001b0) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_image in=((VipsImage*) 0x7f056c0a27d0) out=((VipsImage*) 0x7f056c1004d0) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f056c1004d0) out=((VipsImage*) 0x7f056c100660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c100660) out=((VipsImage*) 0x7f056c1007f0) -
vips cache+: linecache in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f0555953190) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f0555953000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0555953000) out=((VipsImage*) 0x7f0555953320) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c1004d0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c1d8a80, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a68000, length = 86168 out=((VipsImage*) 0x7f056c100980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a9c000, length = 187806 out=((VipsImage*) 0x7f056c100b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x7f056c100660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x7f056c1007f0) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x7f056c1007f0) out=((VipsImage*) 0x7f0555953960) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f0555953960) out=((VipsImage*) 0x7f0555953c80) -
vips cache+: embed in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x7f056c1441a0) x=0 y=0 width=715 height=486 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x7f056c144010) vshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c1444c0) -
vips cache+: embed in=((VipsImage*) 0x7f056c1444c0) out=((VipsImage*) 0x7f056c144650) x=0 y=6 width=715 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x7f0555953e10) vshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7f0555953e10) out=((VipsImage*) 02023/10/14 12:59:30 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:59:30 [VIPS.info] cropping to 25x25
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_CropCentered (0.03s)
=== RUN   TestImage_ResizeWithVScale
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] residual scale 1.1 x 1.2
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
x7f056c144c90) x=0 y=0 width=724 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7f0555953e10) out=((VipsImage*) 0x7f056c144b00) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c144b00) out=((VipsImage*) 0x7f056c144e20) -
vips cache+: embed in=((VipsImage*) 0x7f056c144e20) out=((VipsImage*) 0x7f056c177020) x=6 y=0 width=93 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f0555953e10) out=((VipsImage*) 0x7f056c144970) hshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f0555953960) out=((VipsImage*) 0x7f0555953af0) vscale=0.051760 scale=0.051760 -
vips cache+: linecache in=((VipsImage*) 0x1309af0) out=((VipsImage*) 0x7f056c177340) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1309af0) out=((VipsImage*) 0x131c980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x131c980) out=((VipsImage*) 0x7f056c1774d0) left=0 top=0 width=715 height=483 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c1771b0) out=((VipsImage*) 0x7f056c177b10) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7f056c1771b0) attention-x=0 out=((VipsImage*) 0x7f056c177980) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_image in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x7f056c177ca0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7f056c177ca0) out=((VipsImage*) 0x7f056c177e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c177e30) out=((VipsImage*) 0x7f056c199020) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c177ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c1ad960, length = 22544 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000aca000, length = 22544 out=((VipsImage*) 0x7f056c1991b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000778500, length = 1259 out=((VipsImage*) 0x7f056c199340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x7f056c199020) -
vips cache : copy in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x14a0970) -
vips cache+: embed in=((VipsImage*) 0x14a0970) out=((VipsImage*) 0x146f340) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x1487960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x1487c80) -
vips cache+: linear in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x1487320) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x146f020) -
vips cache+: cast in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x14a04c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14a04c0) out=((VipsImage*) 0x1332020) -
vips cache+: affine in=((VipsImage*) 0x7f056c199020) interpolate=((VipsInterpolateBicubic*) 0x7f0584010d40) out=((VipsImage*) 0x7f056c177e30) matrix=1.1 0 0 1.2  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x7f056c1994d0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) vscale=1.200000 scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x7f056c1994d0) out=((VipsImage*) 0x1273970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x1449660) -
vips cache+: linecache in=((VipsImage*) 0x7f0555953640) out=((VipsImage*) 0x14227e0) tile-height=8 access=(2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ResizeWithVScale (0.03s)
=== RUN   TestImage_Add
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [govips.info] failed to understand image format size=293608
    image_golden_test.go:506: 
        	Error Trace:	image_golden_test.go:506
        	            				image_golden_test.go:957
        	            				image_golden_test.go:503
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Add
--- FAIL: TestImage_Add (0.00s)
=== RUN   TestImage_Multiply
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [govips.info] failed to understand image format size=293608
    image_golden_test.go:520: 
        	Error Trace:	image_golden_test.go:520
        	            				image_golden_test.go:957
        	            				image_golden_test.go:517
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Multiply
--- FAIL: TestImage_Multiply (0.00s)
=== RUN   TestImageRef_Divide
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [govips.info] failed to understand image format size=293608
    image_golden_test.go:534: 
        	Error Trace:	image_golden_test.go:534
        	            				image_golden_test.go:957
        	            				image_golden_test.go:531
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide
--- FAIL: TestImageRef_Divide (0.00s)
=== RUN   TestImage_GaussianBlur
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] gaussblur mask width 37
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] convi: using vector path
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] convi: using vector path
(VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0555953640) out=((VipsImage*) 0x7f05559537d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f05559537d0) out=((VipsImage*) 0x134be30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c1994d0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c075800, length = 1306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b0000, length = 1306 out=((VipsImage*) 0x1369010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ac000, length = 1259 out=((VipsImage*) 0x1332020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ac500, length = 1259 out=((VipsImage*) 0x1449660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001aca00, length = 1259 out=((VipsImage*) 0x12b8020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001acf00, length = 1259 out=((VipsImage*) 0x1332ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gaussmat out=((VipsImage*) 0x146fe30) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: cast in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x146f4d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x7f0554008650) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x137c4b0) -
vips cache+: cast in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x7f0554008970) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x14a01a0) -
vips cache+: cast in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x1273010) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1487af0) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x134bca0) out=((VipsImage*) 0x1487e10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x7f05540084c0) mask=((VipsImage*) 0x1273b00) -
vips cache+: conv in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x1369650) mask=((VipsImage*) 0x14491b0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x137c4b0) out=((VipsImage*) 0x1449ca0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x14a07e0) -
vips cache+: cast in=((VipsImage*) 0x1449e30) out=((VipsImage*) 0x1466190) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x146f7f0) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x146fb10) out=((VipsImage*) 0x1466c80) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x134b340) mask=((VipsImage*) 0x1449e30) -
vips cache+: conv in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x1487640) mask=((VipsImage*) 0x137c4b0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x13a51a0) mask=((VipsImage*) 0x146fe30) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: gaussblur in=((VipsImage*) 0x1332ca0) out=((VipsImage*) 0x146fca0) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x146fca0) out=((VipsImage*) 0x1487190) format=((VipsBan2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] gaussblur mask width 37
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] convi: using vector path
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] convi: using vector path
dFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1487190) out=((VipsImage*) 0x1309000) -
vips cache+: linecache in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x12c6ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x131ce30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x131ce30) out=((VipsImage*) 0x1392b10) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x146fca0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c0440d0, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000206000, length = 865 out=((VipsImage*) 0x13324d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000778a00, length = 1259 out=((VipsImage*) 0x13d1ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: gaussmat out=((VipsImage*) 0x146fe30) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache*: cast in=((VipsImage*) 0x146fe30) out=((VipsImage*) 0x146f4d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x1309000) out=((VipsImage*) 0x1369b00) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x1449020) -
vips cache+: cast in=((VipsImage*) 0x1309000) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x1309960) -
vips cache+: cast in=((VipsImage*) 0x12737e0) out=((VipsImage*) 0x137c7d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x1309960) out=((VipsImage*) 0x13a5010) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x14a0e20) out=((VipsImage*) 0x13697e0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1309960) out=((VipsImage*) 0x1340340) mask=((VipsImage*) 0x12737e0) -
vips cache+: conv in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x12b81b0) mask=((VipsImage*) 0x1309000) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x1449020) out=((VipsImage*) 0x12fd320) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12b8e30) -
vips cache+: cast in=((VipsImage*) 0x14a0330) out=((VipsImage*) 0x1466af0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x12b8e30) out=((VipsImage*) 0x1466000) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x12b8980) out=((VipsImage*) 0x146f980) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x12b8e30) out=((VipsImage*) 0x14664b0) mask=((VipsImage*) 0x14a0330) -
vips cache+: conv in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x14874b0) mask=((VipsImage*) 0x1449020) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x146f660) mask=((VipsImage*) 0x146fe30) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: gaussblur in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x1466640) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x1466640) out=((VipsImage*) 0x7f0570168010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x1309e10) -
vips cache+: linecache in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x135d4b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x7f05701684c0) tile-height=8 -
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GaussianBlur (0.06s)
=== RUN   TestImage_BandJoinConst
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_BandJoinConst (0.03s)
=== RUN   TestImage_SmartCrop
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
vips cache+: extract_area input=((VipsImage*) 0x7f05701684c0) out=((VipsImage*) 0x135d320) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1466640) buffer=VIPS_TYPE_BLOB, data = 0x7f056c217c60, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b6380, length = 865 out=((VipsImage*) 0x12fd640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000778f00, length = 1259 out=((VipsImage*) 0x1309e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x12734c0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x131c340) -
vips cache+: linear in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x137c320) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x137c320) out=((VipsImage*) 0x13a5b00) -
vips cache+: cast in=((VipsImage*) 0x137c320) out=((VipsImage*) 0x1392340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1392340) out=((VipsImage*) 0x14497f0) -
vips cache : copy in=((VipsImage*) 0x1309e10) out=((VipsImage*) 0x13a5650) -
vips cache+: bandjoin_const in=((VipsImage*) 0x1309e10) out=((VipsImage*) 0x1369e20) c=255  -
vips cache : copy in=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x7f05701687e0) -
vips cache+: flatten in=((VipsImage*) 0x1369e20) background=0  out=((VipsImage*) 0x14497f0) -
vips cache+: cast in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x7f0570168970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x7f0570168b00) -
vips cache+: linecache in=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13d1340) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137c960) out=((VipsImage*) 0x13a5c90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x13a5c90) out=((VipsImage*) 0x12b8340) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1369e20) buffer=VIPS_TYPE_BLOB, data = 0x7f056c22edd0, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000779400, length = 1240 out=((VipsImage*) 0x7f0570168b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f6000, length = 1259 out=((VipsImage*) 0x1392020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1392020) out=((VipsImage*) 0x1422330) left=20 top=10 width=60 height=80 -
vips cache+: smartcrop input=((VipsImage*) 0x1392020) attention-x=0 out=((VipsImage*) 0x1273650) attention-y=0 width=60 height=80 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x1273650) out=((VipsImage*) 0x13d1b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x13d1e30) -
vips cache+: linecache in=((VipsImage*) 0x135d960) out=((VipsImage*) 0x12b84d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x135d960) out=((VipsImage*) 0x14a0b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x13d1020) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273650) buffer=VIPS_TYPE_BLOB, data = 0x7f056c241630, length = 1195 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPL--- PASS: TestImage_SmartCrop (0.03s)
=== RUN   TestImage_Replicate
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Replicate (0.03s)
=== RUN   TestImage_DrawRect
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_DrawRect (0.03s)
=== RUN   TestImage_DrawRectRGBA
2023/10/14 12:59:30 [govips.info] warning libvips already started
E_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f6500, length = 1195 out=((VipsImage*) 0x1466e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ad900, length = 1259 out=((VipsImage*) 0x1422b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: replicate in=((VipsImage*) 0x1422b00) out=((VipsImage*) 0x13a5e20) across=3 down=2 -
vips cache+: cast in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x13d1e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x13d1980) -
vips cache+: linecache in=((VipsImage*) 0x13a5330) out=((VipsImage*) 0x1392980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13a5330) out=((VipsImage*) 0x14a0650) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14a0650) out=((VipsImage*) 0x1422e20) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13a5e20) buffer=VIPS_TYPE_BLOB, data = 0x7f056c252c40, length = 3426 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000212000, length = 3426 out=((VipsImage*) 0x1449980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038a000, length = 1259 out=((VipsImage*) 0x134b980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x13d11b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x1422c90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1422c90) out=((VipsImage*) 0x7f056c177ca0) left=0 top=0 width=100 height=100 -
vips cache*: black out=((VipsImage*) 0x1487960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c177b10) -
vips cache+: linear in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x13d1980) a=1  b=255 255 0  -
vips cache : copy in=((VipsImage*) 0x13d1980) out=((VipsImage*) 0x7f056c1007f0) -
vips cache+: cast in=((VipsImage*) 0x13d1980) out=((VipsImage*) 0x7f056c1771b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1771b0) out=((VipsImage*) 0x7f056c100660) -
vips cache+: draw_rect image=((VipsImage*) 0x134b980) ink=255 255 0  left=20 top=20 width=60 height=60 fill=TRUE -
vips cache+: cast in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x1392ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1392ca0) out=((VipsImage*) 0x7f056c1774d0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x134b980) buffer=VIPS_TYPE_BLOB, data = 0x7f056c26e760, length = 1049 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000122480, length = 1049 out=((VipsImage*) 0x131c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050c000, length = 1259 out=((VipsImage*) 0x7f056c1774d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x12734c0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f056c100660) -
vips cache+: linear in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f056c100b10) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x1309af0) -
vips cache+: cast in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x7f056c177340) format=((VipsBandFormat) VIPS_FOR2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
MAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c177340) out=((VipsImage*) 0x7f0555953af0) -
vips cache : copy in=((VipsImage*) 0x7f056c1774d0) out=((VipsImage*) 0x7f056c144970) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f056c1774d0) out=((VipsImage*) 0x1422970) c=255  -
vips cache+: linecache in=((VipsImage*) 0x7f056c144e20) out=((VipsImage*) 0x7f056c144c90) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c144e20) out=((VipsImage*) 0x7f056c144b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c144b00) out=((VipsImage*) 0x7f0555953e10) left=0 top=0 width=100 height=100 -
vips cache+: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c1441a0) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c144330) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x7f056c144330) out=((VipsImage*) 0x7f0555953960) -
vips cache+: cast in=((VipsImage*) 0x7f056c144330) out=((VipsImage*) 0x7f0555953c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x7f056c1991b0) -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x1487c80) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x1487320) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x7f0555953af0) -
vips cache+: cast in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x14a04c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14a04c0) out=((VipsImage*) 0x12c67f0) -
vips cache+: draw_rect image=((VipsImage*) 0x1422970) ink=255 255 0 255  left=20 top=20 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x146f020) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x1273970) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x12c67f0) -
vips cache+: cast in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x7f056c1991b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1991b0) out=((VipsImage*) 0x146f1b0) -
vips cache+: draw_rect image=((VipsImage*) 0x1422970) ink=255 255 0 255  left=79 top=20 width=1 height=60 -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x12c6660) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x137ce10) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x137ce10) out=((VipsImage*) 0x146f1b0) -
vips cache+: cast in=((VipsImage*) 0x137ce10) out=((VipsImage*) 0x131c7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131c7f0) out=((VipsImage*) 0x12c61b0) -
vips cache+: draw_rect image=((VipsImage*) 0x1422970) ink=255 255 0 255  left=20 top=79 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x12fd000) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x1273c90) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x12c61b0) -
vips cache+: cast in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x1369330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1369330) out=((VipsImage*) 0x1449b10) -
vips cache+: draw_rect image=((VipsImage*) 0x1422970) ink=255 255 0 255  left=20 top=20 width=1 height=60 -
vips cache+: draw_rect image=((VipsImage*) 0x1422970) ink=255 255 0 255  left=20 top=20 width=60 height=60 fill=FALSE -
vips cache : copy in=((VipsImage*) 0x1422970) out=((VipsImage*) 0x13921b0) -
vips cache+: flatten 2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_DrawRectRGBA (0.03s)
=== RUN   TestImage_Rank
2023/10/14 12:59:30 [govips.info] warning libvips already started
2023/10/14 12:59:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rank (0.81s)
=== RUN   TestImage_GetPointWhite
2023/10/14 12:59:31 [govips.info] warning libvips already started
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointWhite (0.10s)
=== RUN   TestImage_GetPointYellow
2023/10/14 12:59:31 [govips.info] warning libvips already started
in=((VipsImage*) 0x1422970) background=0  out=((VipsImage*) 0x137caf0) -
vips cache+: cast in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x1273e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1273e20) out=((VipsImage*) 0x1392e30) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1422970) buffer=VIPS_TYPE_BLOB, data = 0x7f056c2a04c0, length = 1708 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000160000, length = 1708 out=((VipsImage*) 0x1449b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005aa000, length = 135059 out=((VipsImage*) 0x1392e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x1273010) -
vips cache+: embed in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x1487e10) x=7 y=7 width=1934 height=1094 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x14667d0) width=15 height=15 index=224 -
vips cache+: cast in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x131c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131c1b0) out=((VipsImage*) 0x7f056c0a2190) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2190) out=((VipsImage*) 0x135d000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x7f0570168e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x7f056c0a2000) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14667d0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c2b7020, length = 18213 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 18213 out=((VipsImage*) 0x1449ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000856000, length = 135059 out=((VipsImage*) 0x1466190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1466190) out=((VipsImage*) 0x7f0570168c90) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f0570168c90) out=((VipsImage*) 0x12c6b10) -
vips cache : copy in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x135de10) -
vips cache+: cast in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x12c6980) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f056c144650) out=((VipsImage*) 0x13691a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c144650) out=((VipsImage*) 0x7f056c1444c0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x1466190) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x137c190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x14877d0) -
vips cache+: cast in=((VipsImage*) 0x14877d0) out=((VipsImage*) 0x12c6020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1466190) buffer=VIPS_TYPE_BLOB, data = 0x7f056c2e2150, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009c6000, length = 223227 out=((VipsImage*) 0x13924d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b08000, length = 135059 out=((VipsImage*) 0x137c000) flags=((VipsForeignFlags) VIPS_FOREIGN_S2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointYellow (0.10s)
=== RUN   TestImage_GetPointWhiteR
2023/10/14 12:59:31 [govips.info] warning libvips already started
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointWhiteR (0.10s)
=== RUN   TestImage_GetPoint_WithAlpha
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
EQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c0a2e10) left=400 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f056c0a2e10) out=((VipsImage*) 0x7f056c0a2af0) -
vips cache : copy in=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x12b8ca0) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x146f4d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x7f056c0a2640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x7f056c0a2960) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x137c000) out-array=255 255 0  x=400 y=10 -
vips cache+: cast in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x13697e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13697e0) out=((VipsImage*) 0x7f056c1001b0) -
vips cache+: cast in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x7f056c100340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x137c000) buffer=VIPS_TYPE_BLOB, data = 0x7f056c314c80, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b2a000, length = 223227 out=((VipsImage*) 0x7f056c0a24b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b9a000, length = 135059 out=((VipsImage*) 0x7f056c100020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x1466af0) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x12fd320) -
vips cache : copy in=((VipsImage*) 0x12fd320) out=((VipsImage*) 0x7f056c0a27d0) -
vips cache+: cast in=((VipsImage*) 0x12fd320) out=((VipsImage*) 0x7f056c0a2320) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x7f0555953000) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x7f05540081a0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f056c100020) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x7f0555953320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0555953320) out=((VipsImage*) 0x146f980) -
vips cache+: cast in=((VipsImage*) 0x146f980) out=((VipsImage*) 0x131c020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f056c100020) buffer=VIPS_TYPE_BLOB, data = 0x7f056c314c60, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000bbc000, length = 223227 out=((VipsImage*) 0x1422010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c6a00, length = 335 out=((VipsImage*) 0x14224c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x14a0c90) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x7f0570168010) -
vips cache : copy in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x1309640) -
vips cache+: cast in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x13a57e0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x137c7d0) out=((VipsImage*) 0x1309320) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137c7d0) out=((VipsImage*) 0x131c4d0) tile-height=16 -
vips cache+: getpoint2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha (0.03s)
=== RUN   TestImage_GetPoint_WithAlpha2
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha2 (0.03s)
=== RUN   TestImage_SimilarityRGB
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
 in=((VipsImage*) 0x14224c0) out-array=0 0 0 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x12fd960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x13a5b00) -
vips cache+: cast in=((VipsImage*) 0x13a5b00) out=((VipsImage*) 0x137c320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x14224c0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c30fc80, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007f4000, length = 675 out=((VipsImage*) 0x1392340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c6c00, length = 335 out=((VipsImage*) 0x7f05701687e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x7f0570168970) left=0 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x131c340) -
vips cache : copy in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x14497f0) -
vips cache+: cast in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x1392660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x135d640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f056c100980) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f05701687e0) out-array=0 0 0 0  x=0 y=0 -
vips cache+: cast in=((VipsImage*) 0x7f05701687e0) out=((VipsImage*) 0x1309c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x1340ca0) -
vips cache+: cast in=((VipsImage*) 0x1340ca0) out=((VipsImage*) 0x13a54c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f05701687e0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c3192f0, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007f4580, length = 675 out=((VipsImage*) 0x13d1b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050c500, length = 1259 out=((VipsImage*) 0x7f056c199660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c199660) out=((VipsImage*) 0x7f056c199b10) -
vips cache*: black out=((VipsImage*) 0x1487960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c32a1b0) -
vips cache+: linear in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c32a020) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f056c32a020) out=((VipsImage*) 0x7f056c32a4d0) -
vips cache+: cast in=((VipsImage*) 0x7f056c32a020) out=((VipsImage*) 0x7f056c32a340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a340) out=((VipsImage*) 0x7f056c32a660) -
vips cache+: embed in=((VipsImage*) 0x7f056c199b10) out=((VipsImage*) 0x7f056c199ca0) x=1 y=1 width=103 height=103 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127  -
vips cache*: black out=((VipsImage*) 0x1487960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c32a660) -
vips cache+: linear in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c32a7f0) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f056c32ab10) -
vips cache+: cast in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f056c32a980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a980) out=((VipsImage*) 0x7f056c32aca0) -
vips cache+: affine in=((VipsImage*) 0x7f056c199660) interpol2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGB (0.03s)
=== RUN   TestImage_SimilarityRGBA
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
ate=((VipsInterpolateBilinear*) 0x7f0584010d90) out=((VipsImage*) 0x7f056c199980) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x7f056c199660) out=((VipsImage*) 0x7f056c1997f0) scale=0.500000 angle=5.000000 background=127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache+: cast in=((VipsImage*) 0x7f056c1997f0) out=((VipsImage*) 0x7f056c32ae30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32ae30) out=((VipsImage*) 0x7f056c32aca0) -
vips cache+: linecache in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x7f055436c1a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x7f055436c010) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f055436c010) out=((VipsImage*) 0x7f055436c330) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c1997f0) buffer=VIPS_TYPE_BLOB, data = 0x7f056c33ca60, length = 977 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000528400, length = 977 out=((VipsImage*) 0x13d1e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a00000, length = 1259 out=((VipsImage*) 0x7f056c32aca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x12734c0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f055436c970) -
vips cache+: linear in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f055436c7e0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f055436c7e0) out=((VipsImage*) 0x7f055436cc90) -
vips cache+: cast in=((VipsImage*) 0x7f055436c7e0) out=((VipsImage*) 0x7f055436cb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f055436cb00) out=((VipsImage*) 0x7f055436ce20) -
vips cache : copy in=((VipsImage*) 0x7f056c32aca0) out=((VipsImage*) 0x13d1980) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f056c32aca0) out=((VipsImage*) 0x7f056c1007f0) c=255  -
vips cache : copy in=((VipsImage*) 0x7f056c1007f0) out=((VipsImage*) 0x7f055436c650) -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c34c340) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c34c1b0) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f056c34c1b0) out=((VipsImage*) 0x7f056c34c660) -
vips cache+: cast in=((VipsImage*) 0x7f056c34c1b0) out=((VipsImage*) 0x7f056c34c4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c34c4d0) out=((VipsImage*) 0x7f056c34c7f0) -
vips cache+: embed in=((VipsImage*) 0x7f055436c650) out=((VipsImage*) 0x7f056c34c020) x=1 y=1 width=103 height=103 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127 127  -
vips cache : copy in=((VipsImage*) 0x7f056c34c020) out=((VipsImage*) 0x1392ca0) -
vips cache+: premultiply in=((VipsImage*) 0x7f056c34c020) out=((VipsImage*) 0x7f055436ce20) -
vips cache*: black out=((VipsImage*) 0x7f056c144010) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c34cb10) -
vips cache+: linear in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c34c980) a=1  b=127  -
vips cache+: cast in=((VipsImage*) 0x7f056c34c980) out=((VipsImage*) 0x7f056c34cca0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f056c34cca0) out=((VipsImage*) 0x7f056c34ce30) -
vips cache : copy in=((VipsImage*) 0x7f056c100b10) out=((VipsImage*) 0x7f056c177340) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f056c12023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGBA (0.03s)
=== RUN   TestImage_Decode_JPG
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_JPG (0.03s)
=== RUN   TestImage_Decode_BMP
2023/10/14 12:59:32 [govips.info] warning libvips already started
00b10) out=((VipsImage*) 0x7f056c100660) -
vips cache : copy in=((VipsImage*) 0x7f056c100660) out=((VipsImage*) 0x1309af0) -
vips cache+: cast in=((VipsImage*) 0x7f056c100660) out=((VipsImage*) 0x7f056c34c7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: affine in=((VipsImage*) 0x7f056c1007f0) interpolate=((VipsInterpolateBilinear*) 0x7f0584010de0) out=((VipsImage*) 0x7f056c1771b0) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x7f056c1007f0) out=((VipsImage*) 0x7f056c177b10) scale=0.500000 angle=5.000000 background=127 127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache : copy in=((VipsImage*) 0x7f056c177b10) out=((VipsImage*) 0x7f056c359000) -
vips cache+: flatten in=((VipsImage*) 0x7f056c177b10) background=0  out=((VipsImage*) 0x7f056c34ce30) -
vips cache+: cast in=((VipsImage*) 0x7f056c34ce30) out=((VipsImage*) 0x7f056c359320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c359320) out=((VipsImage*) 0x7f056c3594b0) -
vips cache+: linecache in=((VipsImage*) 0x7f056c359640) out=((VipsImage*) 0x7f056c359960) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c359640) out=((VipsImage*) 0x7f056c3597d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c3597d0) out=((VipsImage*) 0x7f056c359af0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c177b10) buffer=VIPS_TYPE_BLOB, data = 0x7f056c35dce0, length = 1000 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a02000, length = 1000 out=((VipsImage*) 0x7f0555953960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050ca00, length = 1259 out=((VipsImage*) 0x1273970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x146f020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x7f056c1991b0) -
vips cache+: linecache in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x14a04c0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1487320) out=((VipsImage*) 0x1487c80) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1487c80) out=((VipsImage*) 0x146f1b0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273970) buffer=VIPS_TYPE_BLOB, data = 0x7f056c3691e0, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x146f020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x12b8660) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1273970) buffer=VIPS_TYPE_BLOB, data = 0x7f0580003c90, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038aa00, length = 1240 out=((VipsImage*) 0x7f0554008330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ea000, length = 35680 out=((VipsImage*) 0x12b8660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x12b8660) out=((VipsImage*) 0x7f05540087e0) format=((VipsBandFor2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_BMP (0.04s)
=== RUN   TestImage_Decode_PNG
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_PNG (0.04s)
=== RUN   TestImage_Invert
2023/10/14 12:59:32 [govips.info] warning libvips already started
mat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05540087e0) out=((VipsImage*) 0x12b8b10) -
vips cache+: cast in=((VipsImage*) 0x12b8b10) out=((VipsImage*) 0x1369330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x12c6660) out=((VipsImage*) 0x7f056c1777f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12c6660) out=((VipsImage*) 0x131c7f0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x12b8660) buffer=VIPS_TYPE_BLOB, data = 0x7f0580073270, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x12b8660) out=((VipsImage*) 0x7f05540087e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05540087e0) out=((VipsImage*) 0x12c61b0) -
vips cache+: cast in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x1273c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x12b8660) buffer=VIPS_TYPE_BLOB, data = 0x7f0580073270, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000328a80, length = 26176 out=((VipsImage*) 0x12fd000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ac000, length = 15391 out=((VipsImage*) 0x131c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x131c980) out=((VipsImage*) 0x7f056c1994d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1994d0) out=((VipsImage*) 0x7f056c177e30) -
vips cache+: cast in=((VipsImage*) 0x7f056c177e30) out=((VipsImage*) 0x7f0555953e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f056c144970) out=((VipsImage*) 0x7f056c177020) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c144970) out=((VipsImage*) 0x7f056c1774d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x131c980) buffer=VIPS_TYPE_BLOB, data = 0x7f05800c3000, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x131c980) out=((VipsImage*) 0x7f056c1994d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1994d0) out=((VipsImage*) 0x1273010) -
vips cache+: cast in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x1392e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x131c980) buffer=VIPS_TYPE_BLOB, data = 0x7f05800c3000, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c9500, length = 21518 out=((VipsImage*) 0x131c1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038a000, length = 1259 out=((VipsImage*) 0x14667d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x7f056c0a2190) -
vips cache+: invert in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x1487e10) -
vips cache+: cast in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x1449ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x14221a0) -
vips cache+: linecache in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x13921b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x7f0554008970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0554008970) out=((VipsImage*) 0x7f0570168c90) le2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Invert (0.03s)
=== RUN   TestImage_Flip
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flip (0.03s)
=== RUN   TestImage_Embed
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed (0.03s)
=== RUN   TestImage_ExtractBand
2023/10/14 12:59:32 [govips.info] warning libvips already started
ft=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1487e10) buffer=VIPS_TYPE_BLOB, data = 0x7f058006a2c0, length = 1238 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038a500, length = 1238 out=((VipsImage*) 0x135d000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050c500, length = 1259 out=((VipsImage*) 0x137c190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: flip in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x1466190) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache+: cast in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x7f056c1447e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1447e0) out=((VipsImage*) 0x7f056c1444c0) -
vips cache+: linecache in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x1487190) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x7f056c0a2000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c0a2000) out=((VipsImage*) 0x12c6980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1466190) buffer=VIPS_TYPE_BLOB, data = 0x7f0580065bc0, length = 1165 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050cf00, length = 1165 out=((VipsImage*) 0x7f056c1444c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050d900, length = 1259 out=((VipsImage*) 0x146f4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x146f4d0) out=((VipsImage*) 0x12b8ca0) x=10 y=10 width=20 height=20 extend=((VipsExtend) VIPS_EXTEND_BLACK) -
vips cache+: cast in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x13697e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13697e0) out=((VipsImage*) 0x137c000) -
vips cache+: linecache in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f056c0a2c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f056c0a2640) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c0a2640) out=((VipsImage*) 0x7f056c0a2af0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12b8ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f05800c3000, length = 778 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c72000, length = 778 out=((VipsImage*) 0x7f056c177980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c74000, length = 335 out=((VipsImage*) 0x7f056c0a2960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c0a2960) out=((VipsImage*) 0x7f056c0a24b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c0a2960) out=((VipsImage*) 0x137c000) band=2 n=1 -
vips cache+: cast in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c0a2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c0a2320) out=((VipsImage*) 0x7f056c0a27d0) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a27d0) out=((VipsImage*) 0x12fd320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f0552023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ExtractBand (0.03s)
=== RUN   TestImage_Flatten
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flatten (0.03s)
=== RUN   TestImage_Tiff
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 12:59:32 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
4008010) out=((VipsImage*) 0x7f056c100ca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x131c020) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x137c000) buffer=VIPS_TYPE_BLOB, data = 0x7f05800cec90, length = 533 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000026240, length = 533 out=((VipsImage*) 0x7f05540081a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001aa200, length = 335 out=((VipsImage*) 0x12b87f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x7f0555953320) -
vips cache*: black out=((VipsImage*) 0x1487960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c100340) -
vips cache+: linear in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x1466af0) a=1  b=32 64 128  -
vips cache : copy in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x13924d0) -
vips cache+: cast in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x14877d0) -
vips cache+: flatten in=((VipsImage*) 0x12b87f0) background=32 64 128  out=((VipsImage*) 0x146f980) max-alpha=255.000000 -
vips cache+: cast in=((VipsImage*) 0x146f980) out=((VipsImage*) 0x7f0570168010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x7f056c144650) -
vips cache+: cast in=((VipsImage*) 0x7f056c144650) out=((VipsImage*) 0x12c6020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x1449340) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x137c320) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x146f980) buffer=VIPS_TYPE_BLOB, data = 0x7f058007c7d0, length = 706 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001de000, length = 706 out=((VipsImage*) 0x13a5b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c80000, length = 2901844 out=((VipsImage*) 0x12fd960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f0580087800, length = 456 -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x7f056c1004d0) -
vips cache+: extract_band in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x14224c0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x1309320) -
vips cache+: extract_band in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x131c4d0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f0580087800, length = 456 -
vips cache+: cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x14497f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1392660) out=((VipsImage*) 0x7f0570168970) -
vips cache : copy in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x12c6340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f056c31df90) out=((VipsImage*) 0x131c340) -
vips cache+: icc_transform in=((VipsImage*) 0x12fd960) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x131c340) output-profile="/tmp/govips-1670867498/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache : copy in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x7f05701687e0) -
vips cache+: linecache in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x7f056c100980) tile-h2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Tiff (0.13s)
=== RUN   TestImage_Black
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Black (0.03s)
=== RUN   TestImage_OptimizeCoding
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeCoding (0.11s)
=== RUN   TestImage_SubsampleMode
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
eight=32 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1309640) out=((VipsImage*) 0x1392340) tile-height=32 -
vips cache : copy in=((VipsImage*) 0x1392340) out=((VipsImage*) 0x7f056c100e30) -
vips cache+: unpremultiply in=((VipsImage*) 0x1392340) out=((VipsImage*) 0x135d640) alpha-band=3 -
vips cache : copy in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x7f056c32a4d0) -
vips cache+: cast in=((VipsImage*) 0x135d640) out=((VipsImage*) 0x13a54c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : tiffsave_buffer in=((VipsImage*) 0x131c340) buffer=VIPS_TYPE_BLOB, data = 0x7f0580164100, length = 3068590 compression=((VipsForeignTiffCompression) VIPS_FOREIGN_TIFF_COMPRESSION_LZW) Q=80 predictor=((VipsForeignTiffPredictor) VIPS_FOREIGN_TIFF_PREDICTOR_HORIZONTAL) tile=FALSE tile-width=256 tile-height=256 pyramid=FALSE strip=FALSE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000f46000, length = 3068590 out=((VipsImage*) 0x12c64d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: black out=((VipsImage*) 0x13d1b10) width=10 height=20 -
vips cache+: cast in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x7f056c32a660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a660) out=((VipsImage*) 0x7f056c32a980) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13d1b10) buffer=VIPS_TYPE_BLOB, data = 0x7f058003ada0, length = 455 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 459699 out=((VipsImage*) 0x1340ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1340ca0) out=((VipsImage*) 0x1309c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x7f056c199ca0) -
vips cache+: linecache in=((VipsImage*) 0x7f056c32a1b0) out=((VipsImage*) 0x7f056c32ae30) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c32a1b0) out=((VipsImage*) 0x7f056c32a340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c32a340) out=((VipsImage*) 0x7f056c32a980) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1340ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f0580cca9a0, length = 486809 Q=75 optimize-coding=TRUE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002da000, length = 486809 out=((VipsImage*) 0x7f056c199b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000562000, length = 459699 out=((VipsImage*) 0x7f056c199ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f056c199ca0) out=((VipsImage*) 0x7f056c1997f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1997f0) out=((VipsImage*) 0x7f056c199980) -
vips cache+: linecache in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f055436c1a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f055436c010) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f055436c010) out=((VipsImage*) 0x7f055436c7e0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c199ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f05801e2980, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_ON) strip=TRUE -
vips cache+: jpegload_buff--- PASS: TestImage_SubsampleMode (0.06s)
=== RUN   TestImage_TrellisQuant
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.warning] ignoring trellis_quant
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TrellisQuant (0.07s)
=== RUN   TestImage_OvershootDeringing
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.warning] ignoring overshoot_deringing
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OvershootDeringing (0.07s)
=== RUN   TestImage_OptimizeScans
2023/10/14 12:59:32 [govips.info] warning libvips already started
2023/10/14 12:59:32 [VIPS.warning] ignoring optimize_scans
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeScans (0.11s)
=== RUN   TestImage_QuantTable
2023/10/14 12:59:33 [govips.info] warning libvips already started
er buffer=VIPS_TYPE_BLOB, data = 0xc0005da000, length = 542772 out=((VipsImage*) 0x7f056c199e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 459699 out=((VipsImage*) 0x7f056c199980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f056c199980) out=((VipsImage*) 0x13d1e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x7f056c199660) -
vips cache+: linecache in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f055436cc90) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12734c0) out=((VipsImage*) 0x7f055436cb00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f055436cb00) out=((VipsImage*) 0x1466c80) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c199980) buffer=VIPS_TYPE_BLOB, data = 0x7f05801e2980, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=TRUE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000880000, length = 542772 out=((VipsImage*) 0x7f056c34c660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00098c000, length = 459699 out=((VipsImage*) 0x7f056c34cb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f056c34cb10) out=((VipsImage*) 0x7f056c34c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c34c1b0) out=((VipsImage*) 0x7f056c34c340) -
vips cache+: linecache in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c199660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x7f056c34cca0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c34cca0) out=((VipsImage*) 0x7f0570168330) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c34cb10) buffer=VIPS_TYPE_BLOB, data = 0x7f05801e2980, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=TRUE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009fe000, length = 542772 out=((VipsImage*) 0x13a57e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b22000, length = 459699 out=((VipsImage*) 0x131c4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x1309320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1309320) out=((VipsImage*) 0x131c340) -
vips cache+: linecache in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x1392660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x7f0570168970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x13a5b00) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x131c4d0) buffer=VIPS_TYPE_BLOB, data = 0x7f0580dbaaa0, length = 486809 Q=75 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=TRUE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b94000, length = 486809 out=((VipsImage*) 0x13d1e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00159a000, length = 459699 out2023/10/14 12:59:33 [VIPS.warning] ignoring quant_table
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_QuantTable (0.07s)
=== RUN   TestImage_Pixelate
2023/10/14 12:59:33 [govips.info] warning libvips already started
2023/10/14 12:59:33 [VIPS.info] residual reducev by 0.0416667
2023/10/14 12:59:33 [VIPS.info] shrinkv by 11
2023/10/14 12:59:33 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:33 [VIPS.info] reducev: using vector path
2023/10/14 12:59:33 [VIPS.info] residual reduceh by 0.0416667
2023/10/14 12:59:33 [VIPS.info] shrinkh by 11
2023/10/14 12:59:33 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:33 [VIPS.info] residual scale 23.9252 x 23.8806
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
=((VipsImage*) 0x7f056c1997f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f056c1997f0) out=((VipsImage*) 0x1309c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x7f056c32a660) -
vips cache+: linecache in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x12c64d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1422010) out=((VipsImage*) 0x137c320) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x137c320) out=((VipsImage*) 0x7f056c32a4d0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c1997f0) buffer=VIPS_TYPE_BLOB, data = 0x7f05801e2980, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=3 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00160c000, length = 542772 out=((VipsImage*) 0x1332660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000660000, length = 459699 out=((VipsImage*) 0x14a0010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x134b4d0) -
vips cache+: embed in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x1332340) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x13321b0) vshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x13321b0) out=((VipsImage*) 0x7f056c34c660) -
vips cache+: embed in=((VipsImage*) 0x7f056c34c660) out=((VipsImage*) 0x7f056c34cb10) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x1487000) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f056c199660) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f056c34cca0) hshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c34cca0) out=((VipsImage*) 0x7f056c144010) -
vips cache+: embed in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x13a57e0) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f0570168330) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x134bb10) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
vips cache : copy in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x12c6340) -
vips cache : copy in=((VipsImage*) 0x12c6340) out=((VipsImage*) 0x7f0570168970) -
vips cache+: embed in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x1392660) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x13d1e30) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x1340ca0) -
vips cache+: linear in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x13d1b10) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x7f056c32a980) -
vips cache+: cast in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x7f056c32a020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a020) out=((VipsImage*) 0x7f056c32a340) -
vips cache+: affine in=((VipsImage*) 0x12c6340) interpolate=((VipsInterpolateNearest*) 0x12eda80) out=((VipsImage*) 0x13a5b00) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x131c4d0) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Pixelate (0.21s)
=== RUN   TestImageRef_WebP
2023/10/14 12:59:33 [govips.info] warning libvips already started
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP (0.09s)
=== RUN   TestImageRef_WebP__ReducedEffort
2023/10/14 12:59:33 [govips.info] warning libvips already started
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__ReducedEffort (0.06s)
=== RUN   TestImageRef_WebP__NearLossless
2023/10/14 12:59:33 [govips.info] warning libvips already started
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__NearLossless (0.49s)
=== RUN   TestImageRef_PNG
2023/10/14 12:59:33 [govips.info] warning libvips already started
880597 scale=23.925234 -
vips cache+: cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x7f056c199b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c199b10) out=((VipsImage*) 0x14497f0) -
vips cache+: linecache in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f056c32ab10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f056c199ca0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c199ca0) out=((VipsImage*) 0x7f055436c7e0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x131c4d0) buffer=VIPS_TYPE_BLOB, data = 0x7f056847df90, length = 253196 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006d2000, length = 253196 out=((VipsImage*) 0x7f056c32ae30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000944000, length = 152642 out=((VipsImage*) 0x7f056c32a340) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f056c32a340) out=((VipsImage*) 0x7f055436c1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f055436c1a0) out=((VipsImage*) 0x7f056c32a7f0) -
vips cache+: linecache in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x7f056c34c1b0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x1309320) -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f056c32a340) buffer=VIPS_TYPE_BLOB, data = 0x7f05684502e0, length = 44652 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000abc000, length = 152642 out=((VipsImage*) 0x7f056c199e30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f056c199e30) out=((VipsImage*) 0x7f056c32a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f056c34c340) -
vips cache+: linecache in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x7f0555953320) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x7f056c100020) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f056c199e30) buffer=VIPS_TYPE_BLOB, data = 0x7f0568453dc0, length = 48004 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=2 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c54000, length = 152642 out=((VipsImage*) 0x14224c0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x12fd960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x7f056c34c340) -
vips cache+: linecache in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x1466af0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x13924d0) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x14224c0) buffer=VIPS_TYPE_BLOB, data = 0x7f0568475340, length = 110140 Q=75 lossless=FALSE profile="none" near-lossless=TRUE reduction-effort=4 strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000d14000, length = 135059 out=((VipsImage*) 0x7f056c34c340) flags=((VipsForeignFlags) VIPS_FOREI2023/10/14 12:59:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PNG (0.13s)
=== RUN   TestImageRef_HEIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=1805222
    image_test.go:97: 
        	Error Trace:	image_test.go:97
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF
--- FAIL: TestImageRef_HEIF (0.00s)
=== RUN   TestImageRef_HEIF_MIF1
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=293608
    image_test.go:112: 
        	Error Trace:	image_test.go:112
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_MIF1
--- FAIL: TestImageRef_HEIF_MIF1 (0.00s)
=== RUN   TestImageRef_HEIF_ftypmsf1
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=893729
    image_test.go:127: 
        	Error Trace:	image_test.go:127
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_ftypmsf1
--- FAIL: TestImageRef_HEIF_ftypmsf1 (0.00s)
=== RUN   TestImageRef_BMP__ImplicitConversionToPNG
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_BMP__ImplicitConversionToPNG (0.01s)
=== RUN   TestImageRef_SVG
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG (0.01s)
=== RUN   TestImageRef_SVG_1
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_1 (0.00s)
=== RUN   TestImageRef_SVG_2
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_2 (0.00s)
=== RUN   TestImageRef_OverSizedMetadata
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_OverSizedMetadata (0.04s)
=== RUN   TestImageRef_Resize__Error
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [GLib-GObject.warning] value "-1.000000" of type 'gdouble' is invalid or out of range for property 'scale' of type 'gdouble'
--- PASS: TestImageRef_Resize__Error (0.00s)
=== RUN   TestImageRef_ExtractArea__Error
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_ExtractArea__Error (0.00s)
=== RUN   TestImageRef_HasAlpha__True
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__True (0.00s)
=== RUN   TestImageRef_HasAlpha__False
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__False (0.00s)
=== RUN   TestImageRef_AddAlpha
2023/10/14 12:59:34 [govips.info] warning libvips already started
GN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f056c34c340) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x7f05540081a0) -
vips cache+: cast in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x7f056c100ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c0a27d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x131c020) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f056c34c340) buffer=VIPS_TYPE_BLOB, data = 0x7f056873f8c0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x7f056c34c340) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x7f0554008010) -
vips cache+: cast in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x7f056c0a24b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f056c34c340) buffer=VIPS_TYPE_BLOB, data = 0x7f056873f8c0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000210000, length = 35680 out=((VipsImage*) 0x1466c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x7f055436cb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f055436cb00) out=((VipsImage*) 0x7f055436cc90) -
vips cache+: cast in=((VipsImage*) 0x7f055436cc90) out=((VipsImage*) 0x7f055436c970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c0a2640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c177980) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1466c80) buffer=VIPS_TYPE_BLOB, data = 0x7f05600233a0, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038c000, length = 44261 out=((VipsImage*) 0x7f056c0a2af0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8000, length = 5058 out=((VipsImage*) 0x12b8ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ae000, length = 3008 out=((VipsImage*) 0x146f4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc003134000, length = 9763062 out=((VipsImage*) 0x135de10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a8000, length = 135059 out=((VipsImage*) 0x7f056c1444c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 135059 out=((VipsImage*) 0x1487190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001c4000, length = 47948 out=((VipsImage*) 0x13697e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 135059 out=((VipsImage*) 0x7f056c0a2000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00028a000, length = 135059 out=((VipsImage*) 0x12c6980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x137c190) width=1 height2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha (0.08s)
=== RUN   TestImageRef_AddAlpha__Idempotent
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha__Idempotent (0.01s)
=== RUN   TestImageRef_HasProfile__True
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__True (0.00s)
=== RUN   TestImageRef_HasIPTC__True
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__True (0.00s)
=== RUN   TestImageRef_HasIPTC__False
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__False (0.00s)
=== RUN   TestImageRef_HasProfile__False
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__False (0.00s)
=== RUN   TestImageRef_GetOrientation__HasEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_GetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_GetOrientation__NoEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_GetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__HasEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__NoEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__HasEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f0570168e20) -
vips cache+: linear in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x14494d0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x135d000) -
vips cache+: cast in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x7f056c1447e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1447e0) out=((VipsImage*) 0x7f0554008970) -
vips cache : copy in=((VipsImage*) 0x12c6980) out=((VipsImage*) 0x7f0570168c90) -
vips cache+: bandjoin_const in=((VipsImage*) 0x12c6980) out=((VipsImage*) 0x137caf0) c=255  -
vips cache+: cast in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x1487e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x1466190) -
vips cache+: cast in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x13921b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x14667d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f056c0a2190) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x137caf0) buffer=VIPS_TYPE_BLOB, data = 0x7f05614a8020, length = 281418 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000228000, length = 47948 out=((VipsImage*) 0x7f0554008970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f0554008970) out=((VipsImage*) 0x131c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131c1b0) out=((VipsImage*) 0x1273010) -
vips cache+: cast in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x7f056c1994d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x7f056c1774d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x1422970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f0554008970) buffer=VIPS_TYPE_BLOB, data = 0x7f05613980a0, length = 30266 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005da000, length = 1297581 out=((VipsImage*) 0x131c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 1297581 out=((VipsImage*) 0x1392e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eaa00, length = 1259 out=((VipsImage*) 0x7f056c177e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eaf00, length = 1259 out=((VipsImage*) 0x7f0555953e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a9c000, length = 2980637 out=((VipsImage*) 0x12fd000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f2000, length = 135059 out=((VipsImage*) 0x7f05540087e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000d74000, length = 2980637 out=((VipsImage*) 0x12b8660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12b8660) out=((VipsImage*) 0x137ce10) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000314000, length = 135059 out=((VipsImage*) 0x12c61b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x131c7f0) -
vips cache+: jpegload_buffer --- PASS: TestImageRef_RemoveOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__NoEXIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsProfile
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsProfile (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsNPages
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsNPages (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsPageHeight
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsPageHeight (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation__WebP
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation__WebP (0.00s)
=== RUN   TestImageRef_RemoveICCProfile
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveICCProfile (0.00s)
=== RUN   TestImageRef_TransformICCProfile
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_TransformICCProfile (0.01s)
=== RUN   TestImageRef_Close
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] 
=======================================
vips live objects: Final...
319 objects alive:
0) VipsImage (0x7f056c1777f0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
1) VipsLinear (0x7f0568001d80) 48 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x13d1b10) a=1  b=0  -
2) VipsSource (0x7f05700024a0), count=3
VipsSource (source), input source, 
3) VipsProfileLoad (0x7f0550092b20), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
4) VipsInterpolateNearest (0x12eda80), count=2
VipsInterpolateNearest (nearest), nearest-neighbour interpolation, 
5) VipsImage (0x135d000), count=1
VipsImage (image), image class, 1x1 float, 1 band, multiband
6) VipsImage (0x12fde10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
7) VipsImage (0x7f0554008010), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
8) VipsImage (0x12c61b0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
9) VipsImage (0x7f056c32a1b0), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
10) VipsSource (0x7f056c331a40), count=3
VipsSource (source), input source, 
11) VipsSequential (0x7f05640012a0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x7f056c0a2190) tile-height=16 -
12) VipsImage (0x14494d0), count=3
VipsImage (image), image class, 1x1 float, 1 band, multiband
13) VipsReduceh (0x7f0568561a50) 9750 bytes, count=2
VipsReduceh (reduceh), shrink an image horizontally, reduceh in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f0570168330) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
14) VipsExtractArea (0x12bccc0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd190) left=0 top=0 width=121 height=128 -
15) VipsForeignLoadWebpBuffer (0x7f055009ca60), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000abc000, length = 152642 out=((VipsImage*) 0x7f056c199e30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
16) VipsImage (0x7f056c100020), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
17) VipsImage (0x13321b0), count=3
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
18) VipsForeignLoadJpegBuffer (0x7f056c11a600), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005da000, length = 1297581 out=((VipsImage*) 0x131c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
19) VipsForeignLoadWebpBuffer (0x7f056c29b100), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000c54000, length = 152642 out=((VipsImage*) 0x14224c0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
20) VipsSource (0x7f0580001a40), count=2
VipsSource (source), input source, 
21) VipsImage (0x7f056c359000) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
22) VipsImage (0x12fd960), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
23) VipsImage (0x1309190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
24) VipsImage (0x7f055436c970), count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
25) VipsImage (0x137c000), count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
26) VipsCast (0x7f0568033b00), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x7f056c199b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
27) VipsImage (0x1466190), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
28) VipsSource (0x7f056c29b640), count=2
VipsSource (source), input source, 
29) VipsExtractArea (0x12bcec0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fde10) left=0 top=512 width=121 height=128 -
30) VipsForeignLoadPngBuffer (0x7f054c10c430), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a8000, length = 135059 out=((VipsImage*) 0x7f056c1444c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
31) VipsImage (0x7f056c0a2af0), count=1
VipsImage (image), image class, 159x202 uchar, 4 bands, srgb, svgload_buffer
32) VipsImage (0x13924d0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
33) VipsSource (0x141aa80), count=2
VipsSource (source), input source, 
34) VipsExtractArea (0x1307db0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x134b7f0) left=0 top=512 width=121 height=128 -
35) VipsLineCache (0x7f054c022980), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x1466af0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
36) VipsSource (0x7f0568001e40), count=2
VipsSource (source), input source, 
37) VipsImage (0x131cca0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
38) VipsSource (0x7f0570002560), count=2
VipsSource (source), input source, 
39) VipsSequential (0x7f0564001330), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x131c020) tile-height=16 -
40) VipsImage (0x12fd4b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
41) VipsImage (0x1273c90) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
42) VipsForeignLoadPngBuffer (0x7f054c1fac40), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003b8000, length = 135059 out=((VipsImage*) 0x7f056c359000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
43) VipsCast (0x7f0568033d00), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f056c34c340) out=((VipsImage*) 0x1466960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
44) VipsShrinkv (0x7f055400bb60), count=2
VipsShrinkv (shrinkv), shrink an image vertically, shrinkv in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x13321b0) vshrink=11 ceil=TRUE -
45) VipsCopy (0x7f054c16d2e0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x12b8660) out=((VipsImage*) 0x137ce10) -
46) VipsImage (0x7f056c34cca0), count=3
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
47) VipsImage (0x7f056c0a2640), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
48) VipsImage (0x12c6e30), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
49) VipsForeignLoadJpegBuffer (0x7f056c331b00), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000234000, length = 34855 out=((VipsImage*) 0x1273970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
50) VipsForeignLoadJpegBuffer (0x7f056c11a6c0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 1297581 out=((VipsImage*) 0x1392e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
51) VipsImage (0x7f056c32ae30) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
52) VipsImage (0x7f056c1447e0), count=1
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
53) VipsForeignLoadNsgifBuffer (0x1270740), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020d800, length = 18146 out=((VipsImage*) 0x12c6e30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
54) VipsImage (0x7f056c199e30), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
55) VipsImage (0x7f056c100ca0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
56) VipsSource (0x7f056c29b1c0), count=3
VipsSource (source), input source, 
57) VipsImage (0x13a5b00), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
58) VipsImage (0x1487190) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
59) VipsImage (0x12fd000) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
60) VipsImage (0x7f055436c010), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
61) VipsImage (0x131c7f0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
62) VipsExtractArea (0x1307930), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x131cca0) left=0 top=0 width=121 height=128 -
63) VipsImage (0x7f0570168e20), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
64) VipsImage (0x7f05540087e0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
65) VipsImage (0x7f056c0a2190), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
66) VipsImage (0x12c6980) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
67) VipsSource (0x7f05700020e0), count=2
VipsSource (source), input source, 
68) VipsImage (0x7f056c32a980), count=1
VipsImage (image), image class, 1x1 float, 3 bands, multiband
69) VipsSource (0x7f056c29b700), count=2
VipsSource (source), input source, 
70) VipsImage (0x1449ca0), count=3
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
71) VipsEmbed (0x134d2d0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7f056c34c660) out=((VipsImage*) 0x7f056c34cb10) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
72) VipsSequential (0x7f055400bbf0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x1422970) tile-height=16 -
73) VipsImage (0x131c340), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
74) VipsImage (0x12b8ca0), count=1
VipsImage (image), image class, 842x595 uchar, 4 bands, srgb, svgload_buffer
75) VipsSource (0x7f056c11a240), count=2
VipsSource (source), input source, 
76) VipsForeignLoadJpegBuffer (0x7f0568001f00), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006d2000, length = 253196 out=((VipsImage*) 0x7f056c32ae30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
77) VipsImage (0x7f056c3597d0), count=1
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb
78) VipsExtractArea (0x1307b30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x1340e30) left=0 top=384 width=121 height=128 -
79) VipsImage (0x134b4d0), count=4
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
80) VipsImage (0x7f0570168970), count=2
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
81) VipsForeignLoadJpegBuffer (0x7f056c0756e0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a9c000, length = 2980637 out=((VipsImage*) 0x12fd000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
82) VipsImage (0x7f0554008330), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb
83) VipsImage (0x7f056c34c340) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
84) VipsImage (0x7f0555953320), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
85) VipsCopy (0x7f054c003420), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x7f056c3597d0) -
86) VipsImage (0x1466960), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
87) VipsImage (0x14497f0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
88) VipsCast (0x7f0568033a80), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x7f056c32a020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
89) VipsSource (0x7f056c331bc0), count=2
VipsSource (source), input source, 
90) VipsImage (0x7f056c100340) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
91) VipsImage (0x7f056c1994d0), count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
92) VipsExtractArea (0x12bce40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fdaf0) left=0 top=384 width=121 height=128 -
93) VipsImage (0x12b87f0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
94) VipsCast (0x7f0564023cb0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1466c80) out=((VipsImage*) 0x7f055436cb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
95) VipsEmbed (0x134d190), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7f056c144010) out=((VipsImage*) 0x13a57e0) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
96) VipsCopy (0x7f054c16d230), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x131c1b0) out=((VipsImage*) 0x1273010) -
97) VipsForeignLoadPngBuffer (0x7f054c231240), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001c4000, length = 47948 out=((VipsImage*) 0x13697e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
98) VipsSource (0x7f0580001bc0), count=2
VipsSource (source), input source, 
99) VipsForeignLoadPngBuffer (0x7f054c152c50), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000210000, length = 35680 out=((VipsImage*) 0x1466c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
100) VipsImage (0x1487e10), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
101) VipsImage (0x13094b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
102) VipsImage (0x13d1b10), count=3
VipsImage (image), image class, 1x1 float, 3 bands, multiband
103) VipsImage (0x7f055436cc90), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
104) VipsCopy (0x7f054c2315b0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x135d000) -
105) VipsCopy (0x7f054c0050e0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f056c34cca0) out=((VipsImage*) 0x7f056c144010) -
106) VipsImage (0x12c6020), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
107) VipsSequential (0x7f055400bc80), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c177980) tile-height=16 -
108) VipsImage (0x7f056c32a020), count=1
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
109) VipsCast (0x7f0570015ab0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f055436cc90) out=((VipsImage*) 0x7f055436c970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
110) VipsLineCache (0x136e2d0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x7f056c0a2640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
111) VipsForeignLoadJpegBuffer (0x1356d60), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00094c000, length = 1297581 out=((VipsImage*) 0x1369330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
112) VipsForeignLoadPngBuffer (0x7f054c21fad0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00028a000, length = 135059 out=((VipsImage*) 0x12c6980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
113) VipsForeignLoadWebpBuffer (0x7f05700021a0), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000944000, length = 152642 out=((VipsImage*) 0x7f056c32a340) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
114) VipsCast (0x7f0568033c80), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x12fd960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
115) VipsForeignLoadNsgifBuffer (0x1270d40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00035c800, length = 18146 out=((VipsImage*) 0x14a04c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
116) VipsImage (0x1422970), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
117) VipsForeignLoadPngBuffer (0x7f054c138ef0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000268000, length = 135059 out=((VipsImage*) 0x7f056c0a2000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
118) VipsCopy (0x7f054c1a2500), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x12c6660) -
119) VipsLineCache (0x7f055801ccf0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x7f0555953320) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
120) VipsCast (0x126d620), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f0554008970) out=((VipsImage*) 0x131c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
121) VipsForeignLoadSvgBuffer (0x7f056843f5f0), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ae000, length = 3008 out=((VipsImage*) 0x146f4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
122) VipsSource (0x7f05840028d0), count=1
VipsSource (source), input source, 
123) VipsExtractArea (0x1307f30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x135d190) left=0 top=640 width=121 height=128 -
124) VipsEmbed (0x12b6030), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x1392660) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
125) VipsEmbed (0x13196d0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f056c199660) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
126) VipsForeignLoadSvgBuffer (0x7f056843f450), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00038c000, length = 44261 out=((VipsImage*) 0x7f056c0a2af0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
127) VipsImage (0x7f0570168010), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
128) VipsImage (0x1487960), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
129) VipsImage (0x12fd7d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
130) VipsSource (0x7f056c11a300), count=3
VipsSource (source), input source, 
131) VipsImage (0x7f055436c7e0), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
132) VipsBlack (0x12bc9c0), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x137c190) width=1 height=1 bands=1 -
133) VipsSource (0x141ac00), count=2
VipsSource (source), input source, 
134) VipsImage (0x1340e30), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
135) VipsImage (0x146f1b0), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
136) VipsImage (0x14224c0), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
137) VipsExtractArea (0x13078b0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x13097d0) left=0 top=896 width=121 height=128 -
138) VipsForeignLoadWebpBuffer (0x1272010), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00036a000, length = 311364 out=((VipsImage*) 0x146f020) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
139) VipsExtractArea (0x13949c0), count=2
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x7f056c199ca0) out=((VipsImage*) 0x7f055436c7e0) left=0 top=0 width=2560 height=1600 -
140) VipsForeignLoadJpegBuffer (0x13568e0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eaf00, length = 1259 out=((VipsImage*) 0x7f0555953e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
141) VipsAffine (0x12ee540), count=2
VipsAffine (affine), affine transform of an image, affine in=((VipsImage*) 0x12c6340) interpolate=((VipsInterpolateNearest*) 0x12eda80) out=((VipsImage*) 0x13a5b00) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
142) VipsSequential (0x7f055400bd10), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x13924d0) -
143) VipsCopy (0x1349960), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x134b4d0) -
144) VipsImage (0x131cb10), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
145) VipsEmbed (0x12b6df0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x1332340) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
146) VipsSource (0x7f056c29b340), count=3
VipsSource (source), input source, 
147) VipsImage (0x7f055436c330) 32 bytes, count=2
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
148) VipsImage (0x13694c0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
149) VipsSource (0x7f0580001c80), count=2
VipsSource (source), input source, 
150) VipsImage (0x135daf0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
151) VipsCopy (0x7f054c015d80), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x12c6340) out=((VipsImage*) 0x7f0570168970) -
152) VipsSource (0x1356e20), count=2
VipsSource (source), input source, 
153) VipsExtractArea (0x1307ab0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x1332b10) left=0 top=128 width=121 height=128 -
154) VipsImage (0x7f056c34cb10), count=2
VipsImage (image), image class, 2560x161 uchar, 3 bands, srgb, jpegload_buffer
155) VipsImage (0x7f056c0a24b0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
156) VipsLineCache (0x7f054c0f0c50), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x14667d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
157) VipsExtractArea (0x134f900), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x135daf0) left=0 top=768 width=121 height=128 -
158) VipsCopy (0x7f054c022b90), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13321b0) out=((VipsImage*) 0x7f056c34c660) -
159) VipsImage (0x7f056c144650), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
160) VipsImage (0x7f0555953af0), count=1
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb
161) VipsForeignLoadPngBuffer (0x7f054c036160), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000336000, length = 135059 out=((VipsImage*) 0x1273c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
162) VipsCopy (0x7f054c02db70), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x7f0554008010) -
163) VipsImage (0x7f056c199ca0), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
164) VipsBlack (0x7f0568033a00), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x13d1e30) width=1 height=1 bands=3 -
165) VipsCast (0x7f0570015830), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f0554008010) out=((VipsImage*) 0x7f056c0a24b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
166) VipsImage (0x7f056c177e30) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
167) VipsImage (0x1487000), count=5
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
168) VipsExtractArea (0x12bcdc0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd7d0) left=0 top=256 width=121 height=128 -
169) VipsForeignLoadPngBuffer (0x7f054c02dee0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc003134000, length = 9763062 out=((VipsImage*) 0x135de10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
170) VipsForeignLoadJpegBuffer (0x141acc0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001462000, length = 1297581 out=((VipsImage*) 0x7f056c359af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
171) VipsImage (0x7f056c359af0) 1080 bytes, count=3
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
172) VipsImage (0x135d640) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
173) VipsImage (0x134b7f0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
174) VipsImage (0x7f0570168c90), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
175) VipsImage (0x13404d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
176) VipsImage (0x1309c80), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
177) VipsSource (0x7f056c331800), count=2
VipsSource (source), input source, 
178) VipsImage (0x7f056c34c660), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
179) VipsImage (0x7f056c0a2000) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
180) VipsImage (0x137caf0), count=4
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
181) VipsCopy (0x7f054c06c190), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x1466190) -
182) VipsImage (0x1466c80) 4176 bytes, count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
183) VipsImage (0x7f056c32a7f0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
184) VipsImage (0x1449b10) 4176 bytes, count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
185) VipsForeignLoadJpegBuffer (0x7f0580001800), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eaa00, length = 1259 out=((VipsImage*) 0x7f056c177e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
186) VipsCast (0x7f0568033c00), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f056c199e30) out=((VipsImage*) 0x7f056c32a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
187) VipsSequential (0x1263320), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f056c199ca0) tile-height=8 -
188) VipsImage (0x131c1b0), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
189) VipsImage (0x7f056c177980), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
190) VipsImage (0x12b8b10), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
191) VipsSource (0x7f056c331d40), count=1
VipsSource (source), input source, 
192) VipsImage (0x7f056c359640), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
193) VipsImage (0x135d190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
194) VipsForeignLoadPngBuffer (0x7f054c1b38e0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000228000, length = 47948 out=((VipsImage*) 0x7f0554008970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
195) VipsImage (0x13097d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
196) VipsImage (0x13d1e30), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
197) VipsImage (0x7f056c34c1b0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
198) VipsForeignLoadJpegBuffer (0x7f0580001d40), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000d74000, length = 2980637 out=((VipsImage*) 0x12b8660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
199) VipsImage (0x12c6340), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
200) VipsSource (0x1356ee0), count=2
VipsSource (source), input source, 
201) VipsForeignLoadJpegBuffer (0x1272610), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001324000, length = 1297581 out=((VipsImage*) 0x7f056c359960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
202) VipsImage (0x7f056c32a340), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
203) VipsSource (0x12c8820), count=1
VipsSource (source), input source, 
204) VipsImage (0x146f980), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
205) VipsImage (0x14667d0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
206) VipsImage (0x7f05540081a0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
207) VipsImage (0x1332340), count=2
VipsImage (image), image class, 2560x1606 uchar, 3 bands, srgb, jpegload_buffer
208) VipsLineCache (0x7f054c028000), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f056c100e30) out=((VipsImage*) 0x7f056c32ab10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
209) VipsCast (0x12bc940), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x13921b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
210) VipsImage (0x7f056c1001b0), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
211) VipsForeignLoadJpegBuffer (0x7f0568001c00), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000660000, length = 459699 out=((VipsImage*) 0x14a0010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
212) VipsCopy (0x7f054c1ce5a0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1369330) out=((VipsImage*) 0x7f0554008330) -
213) VipsCast (0x7f0568033e00), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1273010) out=((VipsImage*) 0x7f056c1994d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
214) VipsExtractArea (0x1307830), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x13094b0) left=0 top=768 width=121 height=128 -
215) VipsImage (0x7f056c1774d0), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
216) VipsImage (0x12b8660) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
217) VipsLineCache (0x7f055413f700), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x7f056c34c1b0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
218) VipsProfileLoad (0x7f0572368ab0), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f0561574b80, length = 3048 -
219) VipsCopy (0x7f055413f020), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x1487c80) -
220) VipsCopy (0x7f054c10c590), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x12c61b0) out=((VipsImage*) 0x131c7f0) -
221) VipsImage (0x7f0570168330), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
222) VipsResize (0x7f0554003190), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x131c4d0) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.880597 scale=23.925234 -
223) VipsImage (0x12fdaf0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
224) VipsSource (0x141ad80), count=2
VipsSource (source), input source, 
225) VipsImage (0x7f055436cb00), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
226) VipsForeignLoadNsgifBuffer (0x1270840), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000212000, length = 18146 out=((VipsImage*) 0x131cb10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
227) VipsImage (0x1309320), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
228) VipsImage (0x137c190), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
229) VipsForeignLoadPngBuffer (0x7f054c06b180), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000314000, length = 135059 out=((VipsImage*) 0x12c61b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
230) VipsSource (0x7f056c3318c0), count=2
VipsSource (source), input source, 
231) VipsCopy (0x7f0554003500), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x7f05540081a0) -
232) VipsCast (0x12bcb40), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x7f056c1447e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
233) VipsImage (0x146f4d0), count=1
VipsImage (image), image class, 31x29 uchar, 4 bands, srgb, svgload_buffer
234) VipsForeignLoadPngBuffer (0x7f054c141180), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f2000, length = 135059 out=((VipsImage*) 0x7f05540087e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
235) VipsImage (0x1487c80), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
236) VipsImage (0x7f056c0a2c80) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
237) VipsCopy (0x14154f0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x7f056c32a980) -
238) VipsCopy (0x7f054c1d7e60), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f055436cb00) out=((VipsImage*) 0x7f055436cc90) -
239) VipsCopy (0x7f054c152af0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f0570168e20) -
240) VipsCopy (0x7f054c1fada0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x12c6980) out=((VipsImage*) 0x7f0570168c90) -
241) VipsImage (0x1392660), count=2
VipsImage (image), image class, 109x69 uchar, 3 bands, srgb, jpegload_buffer
242) VipsCopy (0x7f054c02de30), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x12c6340) -
243) VipsLinear (0x1356a60) 16 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x14494d0) a=1  b=255  -
244) VipsShrinkh (0x7f0568033980), count=2
VipsShrinkh (shrinkh), shrink an image horizontally, shrinkh in=((VipsImage*) 0x1487000) out=((VipsImage*) 0x7f056c34cca0) hshrink=11 ceil=TRUE -
245) VipsImage (0x13697e0) 4176 bytes, count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
246) VipsSource (0x7f056c29b4c0), count=2
VipsSource (source), input source, 
247) VipsExtractArea (0x12bcd40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x12fd4b0) left=0 top=128 width=121 height=128 -
248) VipsImage (0x135de10) 4176 bytes, count=2
VipsImage (image), image class, 850x315 uchar, 3 bands, srgb, pngload_buffer
249) VipsSequential (0x7f0564001180), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x1309c80) out=((VipsImage*) 0x1309320) -
250) VipsCopy (0x7f054c037010), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13d1e30) out=((VipsImage*) 0x1340ca0) -
251) VipsImage (0x14a04c0), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
252) VipsImage (0x1340ca0), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
253) VipsImage (0x7f056c34ce30), count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
254) VipsImage (0x7f056c0a27d0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
255) VipsImage (0x7f0555953e10) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
256) VipsSource (0x12c88e0), count=1
VipsSource (source), input source, 
257) VipsExtractArea (0x1307c30), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x13404d0) left=0 top=256 width=121 height=128 -
258) VipsSequential (0x7f055400b9b0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f0570168010) out=((VipsImage*) 0x7f056c100020) -
259) VipsImage (0x13921b0), count=1
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
260) VipsExtractArea (0x134fa80), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x131cb10) out=((VipsImage*) 0x13694c0) left=0 top=896 width=121 height=128 -
261) VipsSource (0x7f056c11a000), count=2
VipsSource (source), input source, 
262) VipsSource (0x7f0568001cc0), count=3
VipsSource (source), input source, 
263) VipsSource (0x7f05700023e0), count=3
VipsSource (source), input source, 
264) VipsReducev (0x7f0568016d50) 13650 bytes, count=2
VipsReducev (reducev), shrink an image vertically, reducev in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x1487000) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
265) VipsCopy (0x7f054c199c40), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x7f0555953af0) -
266) VipsImage (0x7f056c100e30), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
267) VipsImage (0x131c980) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
268) VipsCast (0x7f05700159b0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x1487e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
269) VipsImage (0x1273970) 1080 bytes, count=2
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb, jpegload_buffer
270) VipsCast (0x7f0568033b80), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f056c32a340) out=((VipsImage*) 0x7f055436c1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
271) VipsImage (0x12fd190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
272) VipsImage (0x7f055436c1a0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
273) VipsImage (0x1369330) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
274) VipsForeignLoadNsgifBuffer (0x1270c40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000358000, length = 18146 out=((VipsImage*) 0x146f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
275) VipsImage (0x1487320), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
276) VipsExtractArea (0x12bcf40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x12c6e30) out=((VipsImage*) 0x1309190) left=0 top=640 width=121 height=128 -
277) VipsImage (0x134bb10), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
278) VipsSource (0x141ae40), count=2
VipsSource (source), input source, 
279) VipsImage (0x14a0010) 1080 bytes, count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
280) VipsSource (0x7f056c331980), count=2
VipsSource (source), input source, 
281) VipsImage (0x7f0554008970) 4176 bytes, count=4
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
282) VipsSource (0x7f056c11a540), count=2
VipsSource (source), input source, 
283) VipsImage (0x7f056c0a2320) 4176 bytes, count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
284) VipsImage (0x12c6b10), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
285) VipsImage (0x7f0555953960), count=1
VipsImage (image), image class, 521x391 uchar, 4 bands, srgb
286) VipsImage (0x7f056c32ab10), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
287) VipsImage (0x146f020), count=2
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb, webpload_buffer
288) VipsImage (0x7f056c1444c0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
289) VipsLineCache (0x7f054c03b380), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x1449ca0) out=((VipsImage*) 0x7f056c1774d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
290) VipsImage (0x1332b10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
291) VipsResize (0x1349b70), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x14a0010) out=((VipsImage*) 0x134bb10) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
292) VipsImage (0x7f056c199b10), count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
293) VipsLineCache (0x7f054c015c20), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x1487960) out=((VipsImage*) 0x7f056c0a27d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
294) VipsBandjoinConst (0x7f056c21ee80), count=2
VipsBandjoinConst (bandjoin_const), append a constant band to an image, bandjoin_const in=((VipsImage*) 0x12c6980) out=((VipsImage*) 0x137caf0) c=255  -
295) VipsImage (0x12734c0), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
296) VipsImage (0x131c4d0), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
297) VipsCast (0x7f0568033d80), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x7f056c100ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
298) VipsForeignLoadSvgBuffer (0x7f056843f520), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8000, length = 5058 out=((VipsImage*) 0x12b8ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
299) VipsCopy (0x7f054c164010), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x12b8b10) -
300) VipsImage (0x13a57e0), count=2
VipsImage (image), image class, 248x67 uchar, 3 bands, srgb, jpegload_buffer
301) VipsImage (0x137ce10), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
302) VipsImage (0x7f056c359960) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
303) VipsIccTransform (0x7f0568023510) 16 bytes, count=2
VipsIccTransform (icc_transform), transform between devices with ICC profiles, icc_transform in=((VipsImage*) 0x7f056c359af0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x7f056c34ce30) output-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" depth=8 -
304) VipsForeignLoadPngBuffer (0x7f054c02da10), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000d14000, length = 135059 out=((VipsImage*) 0x7f056c34c340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
305) VipsCopy (0x7f054c06b440), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f056c359960) out=((VipsImage*) 0x7f056c359640) -
306) VipsSource (0x7f056c29b580), count=3
VipsSource (source), input source, 
307) VipsImage (0x12c6660), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
308) VipsImage (0x7f056c32a660), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
309) VipsImage (0x1466af0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
310) VipsImage (0x7f056c144010), count=2
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
311) VipsCopy (0x7f054c01f170), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14a04c0) out=((VipsImage*) 0x1487320) -
312) VipsForeignLoadJpegBuffer (0x141a9c0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00104c000, length = 2980637 out=((VipsImage*) 0x7f056c1777f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
313) VipsImage (0x7f056c1004d0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
314) VipsImage (0x7f056c199660), count=2
VipsImage (image), image class, 2571x67 uchar, 3 bands, srgb, jpegload_buffer
315) VipsForeignLoadPngBuffer (0x7f054c231710), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 135059 out=((VipsImage*) 0x1487190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
316) VipsImage (0x131c020), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
317) VipsImage (0x1273010), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
318) VipsImage (0x1392e30) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
2023/10/14 12:59:34 [govips.info] =======================================

--- PASS: TestImageRef_Close (0.00s)
=== RUN   TestImageRef_Close__AlreadyClosed
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_Close__AlreadyClosed (0.00s)
=== RUN   TestImageRef_NotImage
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=4928
--- PASS: TestImageRef_NotImage (0.00s)
=== RUN   TestImageRef_Label
2023/10/14 12:59:34 [govips.info] warning libvips already started
buffer=VIPS_TYPE_BLOB, data = 0xc00104c000, length = 2980637 out=((VipsImage*) 0x7f056c1777f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x12c6660) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000336000, length = 135059 out=((VipsImage*) 0x1273c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1273c90) out=((VipsImage*) 0x12b8b10) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00094c000, length = 1297581 out=((VipsImage*) 0x1369330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1369330) out=((VipsImage*) 0x7f0554008330) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000234000, length = 34855 out=((VipsImage*) 0x1273970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1273970) out=((VipsImage*) 0x7f0555953af0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000358000, length = 18146 out=((VipsImage*) 0x146f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x146f1b0) out=((VipsImage*) 0x1487c80) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00035c800, length = 18146 out=((VipsImage*) 0x14a04c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x14a04c0) out=((VipsImage*) 0x1487320) -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00036a000, length = 311364 out=((VipsImage*) 0x146f020) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache : copy in=((VipsImage*) 0x146f020) out=((VipsImage*) 0x7f056c3597d0) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001324000, length = 1297581 out=((VipsImage*) 0x7f056c359960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c359960) out=((VipsImage*) 0x7f056c359640) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001462000, length = 1297581 out=((VipsImage*) 0x7f056c359af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f0561574b80, length = 3048 -
vips cache*: profile_load name="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f0561574b80, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x7f056c359af0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x7f056c34ce30) output-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-1670867498/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003b8000, length = 135059 out=((VipsImage*) 0x7f056c359000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003f4000, length = 135059 out=((VipsImage*) 0x7f056c1771b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ea500, length = 1259 out=((VipsImage*) 0x12fdc80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x7f0554008e20) -
vips cache+: extract_band in=((VipsImage*) 0x1466320) out=((VipsImage*) 0x7f0554008c90) band=3 -
vips cache : copy in=((VipsImage*) 0x7f0554008c90) out=((VipsImage*) 0x7f056c3597d0) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_MULTIBAND) -
vips cache+: text out=((VipsImage*) 0x1422650) text="Text label" font="" width=0 height=0 align=((VipsAlign) VIPS_ALIGN_LOW) autofit-dpi=2 -
vips cache : copy in=((VipsImage*) 0x1422650) out=((VipsImage*) 0x7f056c1991b0) -
vips cache+: linear in=((VipsImage*) 0x1422650) out=((VipsImage*) 0x7f056c359640) a=0  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c359640) out=((VipsImage*) 0x12c67f0) -
vips cache+: cast in=((--- PASS: TestImageRef_Label (0.05s)
=== RUN   TestImageRef_Composite
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Composite (0.00s)
=== RUN   TestImageRef_Insert
2023/10/14 12:59:34 [govips.info] warning libvips already started
VipsImage*) 0x7f056c359640) out=((VipsImage*) 0x7f056c3594b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: embed in=((VipsImage*) 0x7f056c3594b0) out=((VipsImage*) 0x7f056c144330) x=0 y=0 width=1 height=1 -
vips cache+: black out=((VipsImage*) 0x7f056c1441a0) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f056c1441a0) out=((VipsImage*) 0x7f056c34c7f0) -
vips cache : copy in=((VipsImage*) 0x7f056c34c7f0) out=((VipsImage*) 0x7f056c100660) -
vips cache : copy in=((VipsImage*) 0x7f056c34c7f0) out=((VipsImage*) 0x7f056c177340) -
vips cache : copy in=((VipsImage*) 0x7f056c34c7f0) out=((VipsImage*) 0x7f056c100b10) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f0550076260) out=((VipsImage*) 0x1309af0) -
vips cache+: linear in=((VipsImage*) 0x7f056c1441a0) out=((VipsImage*) 0x7f0555953c80) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x1392ca0) -
vips cache+: cast in=((VipsImage*) 0x7f0555953c80) out=((VipsImage*) 0x7f055436ce20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f055436ce20) out=((VipsImage*) 0x7f056c34c020) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: embed in=((VipsImage*) 0x7f056c34c020) out=((VipsImage*) 0x7f055436c650) x=0 y=0 width=100 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache : copy in=((VipsImage*) 0x7f056c144330) out=((VipsImage*) 0x7f056c34c4d0) -
vips cache : copy in=((VipsImage*) 0x7f056c144330) out=((VipsImage*) 0x7f056c32aca0) -
vips cache : copy in=((VipsImage*) 0x7f056c144330) out=((VipsImage*) 0x7f055436c4c0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f055007e800) out=((VipsImage*) 0x13d1980) -
vips cache+: embed in=((VipsImage*) 0x13d1980) out=((VipsImage*) 0x7f056c359320) x=0 y=0 width=100 height=100 -
vips cache+: ifthenelse cond=((VipsImage*) 0x7f056c144330) in1=((VipsImage*) 0x7f055436c650) in2=((VipsImage*) 0x12fdc80) out=((VipsImage*) 0x7f056c1007f0) blend=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ac000, length = 135059 out=((VipsImage*) 0x7f056c34c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f4000, length = 12858 out=((VipsImage*) 0x1340b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c34c980) out=((VipsImage*) 0x7f0555953190) -
vips cache : copy in=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x137c7d0) -
vips cache*: black out=((VipsImage*) 0x137c190) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f0555953000) -
vips cache+: linear in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x14a0c90) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x14877d0) -
vips cache+: cast in=((VipsImage*) 0x14a0c90) out=((VipsImage*) 0x13691a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x7f056c144b00) -
vips cache : copy in=((VipsImage*) 0x7f0555953190) out=((VipsImage*) 0x1273e20) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f0555953190) out=((VipsImage*) 0x7f056c144e20) c=255  -
vips cache+: colourspace in=((VipsImage*) 0x7f056c144e20) out=((VipsImage*) 0x14221a0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x137c7d0) out=((VipsImage*) 0x7f056c144c90) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: composite2 base=((VipsImage*) 0x7f056c34c980) overlay=((VipsImage*) 0x1340b10) out=((VipsImage*) 0x7f05701687e0) mode=((VipsBlendMode) VIPS_BLEND_MODE_XOR) x=10 y=20 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ce000, length = 135059 out=((VipsImage*) 0x7f056c144b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003b8000, length = 135059 out=((VipsImage*) 0x146f340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Insert (0.00s)
=== RUN   TestImageRef_Join
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Join (0.00s)
=== RUN   TestImageRef_ArrayJoin
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f05559534b0) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c199340) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x1340ca0) -
vips cache+: cast in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x13d1b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x13d1e30) -
vips cache+: insert main=((VipsImage*) 0x7f056c144b00) sub=((VipsImage*) 0x146f340) out=((VipsImage*) 0x14a0970) x=100 y=200 expand=FALSE background=0 0 0  -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003f4000, length = 135059 out=((VipsImage*) 0x7f056c32a980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eb400, length = 1259 out=((VipsImage*) 0x7f0570168970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x13a5b00) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x131c4d0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x1392660) -
vips cache+: cast in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x7f056c32a1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a1b0) out=((VipsImage*) 0x7f056c199ca0) -
vips cache+: insert main=((VipsImage*) 0x7f056c32a980) sub=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x134bb10) x=1920 y=0 expand=TRUE background=0  -
vips cache+: extract_area input=((VipsImage*) 0x134bb10) out=((VipsImage*) 0x7f056c100e30) left=0 top=0 width=2020 height=100 -
vips cache+: join in1=((VipsImage*) 0x7f056c32a980) in2=((VipsImage*) 0x7f0570168970) out=((VipsImage*) 0x12c6340) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000500000, length = 135059 out=((VipsImage*) 0x131c340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001eb900, length = 1259 out=((VipsImage*) 0x7f055436c1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f0000, length = 1259 out=((VipsImage*) 0x1309320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f0500, length = 1259 out=((VipsImage*) 0x7f055436c010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f0a00, length = 1259 out=((VipsImage*) 0x7f056c144650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x7f056c32a340) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: embed in=((VipsImage*) 0x131c340) out=((VipsImage*) 0x7f056c32a340) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c32a660) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c199e30) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c199e30) out=((VipsImage*) 0x14497f0) -
vips cache+: cast in=((VipsImage*) 0x7f056c199e30) out=((VipsImage*) 0x7f0555953320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0555953320) out=((VipsImage*) 0x7f056c1004d0) -
vips cache+: embed in=((VipsImage*) 0x7f055436c1a0) out=((VipsImage*) 0x7f0570168010) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((V2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_ArrayJoin (0.00s)
=== RUN   TestImageRef_Mapim
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
ipsImage*) 0x1273330) out=((VipsImage*) 0x12b87f0) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c100020) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x14224c0) -
vips cache+: cast in=((VipsImage*) 0x7f056c100020) out=((VipsImage*) 0x7f056c1004d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c1004d0) out=((VipsImage*) 0x1466af0) -
vips cache+: embed in=((VipsImage*) 0x1309320) out=((VipsImage*) 0x12c6020) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x1466af0) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c1001b0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x7f056c100ca0) -
vips cache+: cast in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x7f05540081a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x7f056c32a7f0) -
vips cache+: embed in=((VipsImage*) 0x7f055436c010) out=((VipsImage*) 0x13924d0) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c34c1b0) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x12fd960) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x7f056c32ae30) -
vips cache+: cast in=((VipsImage*) 0x12fd960) out=((VipsImage*) 0x7f056c32a7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c32a7f0) out=((VipsImage*) 0x7f056c100340) -
vips cache+: embed in=((VipsImage*) 0x7f056c144650) out=((VipsImage*) 0x1309c80) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x7f0554363e80) out=((VipsImage*) 0x146f980) across=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000534000, length = 135059 out=((VipsImage*) 0x7f055436c7e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000f7500, length = 12858 out=((VipsImage*) 0x7f055436cc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f055436cc90) out=((VipsImage*) 0x1466c80) -
vips cache+: extract_band in=((VipsImage*) 0x7f055436cc90) out=((VipsImage*) 0x7f055436cb00) band=0 n=2 -
vips cache : copy in=((VipsImage*) 0x7f055436c7e0) out=((VipsImage*) 0x7f0570168330) -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x137c000) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c0a2640) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c0a2640) out=((VipsImage*) 0x7f056c0a2320) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2640) out=((VipsImage*) 0x7f056c177980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c177980) out=((VipsImage*) 0x12b8ca0) -
vips cache+: embed in=((VipsImage*) 0x7f0570168330) out=((VipsImage*) 0x7f056c32ab10) x=1 y=1 width=1923 height=1083 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1273330) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c0a2af0) -
vips cache+: linear in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x7f056c199ca0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f056c199ca0) out=((VipsImage*) 0x135de10) -
vips cache+: cast in=((VipsImage*) 0x7f056c199ca0) out=((VipsImage*) 0x12b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x7f056c1444c0) -
vips cache+: mapim in=((VipsImage*) 0x--- PASS: TestImageRef_Mapim (0.00s)
=== RUN   TestImageRef_Mapim__Error
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_Mapim__Error (0.00s)
=== RUN   TestImageRef_Maplut
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Maplut (0.00s)
=== RUN   TestImageRef_Maplut_Error
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestImageRef_Maplut_Error (0.00s)
=== RUN   TestImageRef_CompositeMulti
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
7f055436c7e0) out=((VipsImage*) 0x7f055436c970) index=((VipsImage*) 0x7f055436cb00) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000562000, length = 135059 out=((VipsImage*) 0x1487190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000faa00, length = 12858 out=((VipsImage*) 0x7f056c100340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000584000, length = 135059 out=((VipsImage*) 0x1466960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: xyz out=((VipsImage*) 0x7f056c34c340) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x146f4d0) -
vips cache+: extract_band in=((VipsImage*) 0x1466960) out=((VipsImage*) 0x13697e0) band=0 n=2 -
vips cache+: cast in=((VipsImage*) 0x13697e0) out=((VipsImage*) 0x7f056c1444c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: maplut in=((VipsImage*) 0x13697e0) out=((VipsImage*) 0x7f056c0a2000) lut=((VipsImage*) 0x7f056c34c340) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005a6000, length = 135059 out=((VipsImage*) 0x7f0570168e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: xyz out=((VipsImage*) 0x7f056c34c340) width=1 height=1 -
vips cache+: cast in=((VipsImage*) 0x7f0570168e20) out=((VipsImage*) 0x137caf0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000718000, length = 135059 out=((VipsImage*) 0x7f056c1447e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003da000, length = 12858 out=((VipsImage*) 0x7f0570168c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e4000, length = 47948 out=((VipsImage*) 0x1466190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c1447e0) out=((VipsImage*) 0x7f056c0a2190) -
vips cache : copy in=((VipsImage*) 0x7f0570168c90) out=((VipsImage*) 0x14667d0) -
vips cache : copy in=((VipsImage*) 0x1466190) out=((VipsImage*) 0x12c6b10) -
vips cache*: black out=((VipsImage*) 0x137c190) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x13921b0) -
vips cache+: linear in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f056c0a2c80) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x7f0554008970) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x131c1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x131c1b0) out=((VipsImage*) 0x1449b10) -
vips cache : copy in=((VipsImage*) 0x7f056c0a2190) out=((VipsImage*) 0x1449b10) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f056c0a2190) out=((VipsImage*) 0x7f056c1994d0) c=255  -
vips cache+: colourspace in=((VipsImage*) 0x7f056c1994d0) out=((VipsImage*) 0x1273010) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x14667d0) out=((VipsImage*) 0x7f056c1774d0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x12c6b10) out=((VipsImage*) 0x1449ca0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: composite in=((VipsArrayImage*) 0x7f056138a3c0) out=((VipsImage*) 0x1487e10) mode=2 2  x=20 40  y=40 60  -
vips cache+: cast in=((VipsImage*) 0x1487e10) out=((VipsImage*) 0x7f056c177e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f056c177e30) out=((VipsImage*) 0x1392e30) -
vips cache+: cast in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x131c980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f056c144970) out=((VipsImage*) 0x7f056c0a27d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c1449702023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_CompositeMulti (0.09s)
=== RUN   TestCopy
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestCopy (0.00s)
=== RUN   TestMemstats
2023/10/14 12:59:34 [govips.info] MemoryStats: allocs: 6, files: 0, mem: 9150792, memhigh: 100721017
--- PASS: TestMemstats (0.00s)
=== RUN   TestBands
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestBands (0.00s)
=== RUN   TestCoding
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestCoding (0.00s)
=== RUN   TestGetRotation
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestGetRotation (0.00s)
=== RUN   TestResOffset
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestResOffset (0.00s)
=== RUN   TestToBytes
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestToBytes (0.01s)
=== RUN   TestBandJoin
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestBandJoin (0.00s)
=== RUN   TestExtractBandToImage
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestExtractBandToImage (0.00s)
=== RUN   TestBandSplit
2023/10/14 12:59:34 [govips.info] warning libvips already started
) out=((VipsImage*) 0x131c020) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x7f056c0a24b0) out=((VipsImage*) 0x12b8660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c0a24b0) out=((VipsImage*) 0x12c61b0) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x7f056c144010) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c1777f0) out=((VipsImage*) 0x13a57e0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1487e10) buffer=VIPS_TYPE_BLOB, data = 0x7f0550353260, length = 334230 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000740000, length = 135059 out=((VipsImage*) 0x7f0555953e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f0555953e10) out=((VipsImage*) 0x1422970) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00078e000, length = 135059 out=((VipsImage*) 0x146f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b6000, length = 135059 out=((VipsImage*) 0x7f05540087e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0015f2000, length = 135059 out=((VipsImage*) 0x12fd000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001614000, length = 135059 out=((VipsImage*) 0x7f056c359960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x135dc80) out=((VipsImage*) 0x7f055436c330) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x135dc80) out=((VipsImage*) 0x1487000) tile-height=16 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c26000, length = 135059 out=((VipsImage*) 0x14494d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8000, length = 15391 out=((VipsImage*) 0x7f0555953960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14494d0) out=((VipsImage*) 0x12c6980) -
vips cache : copy in=((VipsImage*) 0x7f0555953960) out=((VipsImage*) 0x7f056c1771b0) -
vips cache+: embed in=((VipsImage*) 0x7f056c1771b0) out=((VipsImage*) 0x146f020) x=0 y=0 width=1920 height=1080 -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f0561593e80) out=((VipsImage*) 0x14a04c0) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c48000, length = 135059 out=((VipsImage*) 0x7f056c359000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c359000) out=((VipsImage*) 0x12734c0) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c359000) out=((VipsImage*) 0x13321b0) band=0 n=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c6a000, length = 135059 out=((VipsImage*) 0x134b4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x14a0010) -
vips cache+: extract_band in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x1332340) band=0 n=1 -
vips cache : copy in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x134be30) -
vips cache+: extract_band in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x135d640) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x7f056c199b10) -
vips cache+: extract_band in=((VipsImage*) 0x134b4d0) out=((VipsImage*) 0x7f05559537d0) band=2 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001da000, length = 335 out=((VipsImage*) 0x7f056c199020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x1--- PASS: TestBandSplit (0.00s)
=== RUN   TestIsColorSpaceSupport
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestIsColorSpaceSupport (0.00s)
=== RUN   TestPages_webp
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestPages_webp (0.00s)
=== RUN   TestImageRef_Divide__Error
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=293608
    image_test.go:881: 
        	Error Trace:	image_test.go:881
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide__Error
--- FAIL: TestImageRef_Divide__Error (0.00s)
=== RUN   TestXYZ
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestXYZ (0.00s)
=== RUN   TestIdentity
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestIdentity (0.00s)
=== RUN   TestDeprecatedExportParams
2023/10/14 12:59:34 [govips.info] warning libvips already started
--- PASS: TestDeprecatedExportParams (0.00s)
=== RUN   TestNewImageFromReaderFail
2023/10/14 12:59:34 [govips.info] failed to understand image format size=0
--- PASS: TestNewImageFromReaderFail (0.00s)
=== RUN   TestNewImageFromFileFail
--- PASS: TestNewImageFromFileFail (0.00s)
=== RUN   TestImageRef_Cast
2023/10/14 12:59:34 [GLib-GObject.warning] value "((VipsBandFormat) 127)" of type 'VipsBandFormat' is invalid or out of range for property 'format' of type 'VipsBandFormat'
--- PASS: TestImageRef_Cast (0.00s)
=== RUN   TestImageRef_Average
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Average (0.02s)
=== RUN   TestImageRef_FindTrim_White
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
3d1e30) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x7f056c32a020) band=0 n=1 -
vips cache : copy in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x7f0555953640) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x14227e0) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x1466640) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x1369010) band=2 n=1 -
vips cache : copy in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x14874b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f056c199020) out=((VipsImage*) 0x146f660) band=3 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001c8c000, length = 135059 out=((VipsImage*) 0x12b8980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f0000, length = 4764 out=((VipsImage*) 0x14664b0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001cae000, length = 135059 out=((VipsImage*) 0x12b81b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x12b8e30) -
vips cache+: extract_band in=((VipsImage*) 0x12b81b0) out=((VipsImage*) 0x1340340) band=0 n=2 -
vips cache+: xyz out=((VipsImage*) 0x14a0e20) width=100 height=100 -
vips cache+: identity out=((VipsImage*) 0x13a5010) -
vips cache+: identity out=((VipsImage*) 0x1309960) ushort=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d18000, length = 135059 out=((VipsImage*) 0x14877d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x14877d0) out=((VipsImage*) 0x14a0c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d3a000, length = 135059 out=((VipsImage*) 0x13691a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13691a0) out=((VipsImage*) 0x7f0555953000) -
vips cache+: linecache in=((VipsImage*) 0x7f056c34c660) out=((VipsImage*) 0x7f056c34ce30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c34c660) out=((VipsImage*) 0x7f056c359af0) tile-height=16 -
vips cache+: avg in=((VipsImage*) 0x13691a0) out=133.265109 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001da400, length = 367 out=((VipsImage*) 0x7f05559534b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f05559534b0) out=((VipsImage*) 0x13d1b10) -
vips cache+: embed in=((VipsImage*) 0x13d1b10) out=((VipsImage*) 0x13d1ca0) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x7f05559534b0) out=((VipsImage*) 0x7f056c199340) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x1369c90) -
vips cache+: linear in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x1340ca0) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x1340ca0) out=((VipsImage*) 0x7f05701684c0) -
vips cache+: abs in=((VipsImage*) 0x1340ca0) out=((VipsImage*) 0x135d320) -
vips cache : copy in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x1392660) -
vips cache+: relational_const in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x135d4b0) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x135d4b0) out=((VipsImage*) 0x13a5b00) -
vips cache+: bandbool in=((VipsImage*) 0x135d4b0) out=((VipsImage*) 0x131c4d0) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x12737e0) -
vips cache+: linecache in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x12fd640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1369b00) out=((VipsImage*) 0x146fe30) tile-height=16 -
vips cache+: project in=2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_White (0.01s)
=== RUN   TestImageRef_FindTrim_Gray
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
((VipsImage*) 0x131c4d0) columns=((VipsImage*) 0x7f05701681a0) rows=((VipsImage*) 0x7f056c32a1b0) -
vips cache : copy in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x1369e20) -
vips cache+: profile in=((VipsImage*) 0x7f05701681a0) columns=((VipsImage*) 0x1309000) rows=((VipsImage*) 0x14a0330) -
vips cache : copy in=((VipsImage*) 0x14a0330) out=((VipsImage*) 0x1309e10) -
vips cache+: avg in=((VipsImage*) 0x14a0330) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7f05701681a0) out=((VipsImage*) 0x7f0570168650) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x7f0570168650) out=((VipsImage*) 0x13a5c90) -
vips cache+: profile in=((VipsImage*) 0x7f0570168650) columns=((VipsImage*) 0x12b8340) rows=((VipsImage*) 0x13a5650) -
vips cache : copy in=((VipsImage*) 0x13a5650) out=((VipsImage*) 0x137c960) -
vips cache+: avg in=((VipsImage*) 0x13a5650) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x7f056c32a1b0) out=((VipsImage*) 0x1273650) -
vips cache+: profile in=((VipsImage*) 0x7f056c32a1b0) columns=((VipsImage*) 0x7f0570168b00) rows=((VipsImage*) 0x13d1340) -
vips cache : copy in=((VipsImage*) 0x7f0570168b00) out=((VipsImage*) 0x7f056c199e30) -
vips cache+: avg in=((VipsImage*) 0x7f0570168b00) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7f056c32a1b0) out=((VipsImage*) 0x7f0555953320) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x7f0555953320) out=((VipsImage*) 0x14497f0) -
vips cache+: profile in=((VipsImage*) 0x7f0555953320) columns=((VipsImage*) 0x7f056c32a660) rows=((VipsImage*) 0x1422330) -
vips cache : copy in=((VipsImage*) 0x7f056c32a660) out=((VipsImage*) 0x7f056c100020) -
vips cache+: avg in=((VipsImage*) 0x7f056c32a660) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x7f05559534b0) threshold=0.000000 background=255 255 255  left=0 top=0 width=432 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001da600, length = 367 out=((VipsImage*) 0x1392020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x7f05540081a0) -
vips cache+: embed in=((VipsImage*) 0x7f05540081a0) out=((VipsImage*) 0x7f056c1004d0) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x1392020) out=((VipsImage*) 0x12b87f0) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x7f056c100ca0) -
vips cache+: linear in=((VipsImage*) 0x12b87f0) out=((VipsImage*) 0x14224c0) a=1  b=-238  -
vips cache : copy in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x1466af0) -
vips cache+: abs in=((VipsImage*) 0x14224c0) out=((VipsImage*) 0x7f056c1001b0) -
vips cache : copy in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x12fd960) -
vips cache+: relational_const in=((VipsImage*) 0x7f056c1001b0) out=((VipsImage*) 0x7f056c32ae30) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x7f056c32ae30) out=((VipsImage*) 0x7f056c32a7f0) -
vips cache+: bandbool in=((VipsImage*) 0x7f056c32ae30) out=((VipsImage*) 0x7f056c34c1b0) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x7f056c34c1b0) out=((VipsImage*) 0x14a0b00) -
vips cache+: linecache in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x1449660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1466e10) out=((VipsImage*) 0x1332020) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x7f056c34c1b0) columns=((VipsImage*) 0x13d1020) rows=((VipsImage*) 0x137cc80) -
vips cache : copy in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x146fca0) -
vips cache+: profile in=((VipsImage*) 0x13d1020) columns=((VipsImage*) 0x12b8020) rows=((VipsImage*) 0x12b84d0) -
vips cache : copy in=((VipsImage*) 0x12b84d0) out=((VipsImage*) 0x7f056c0a2640) -
vips cache+: avg in=((VipsImage*) 0x12b84d0) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x7f0562023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Gray (0.01s)
=== RUN   TestImageRef_FindTrim_Threshold
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
c177980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x7f056c177980) out=((VipsImage*) 0x7f056c0a2320) -
vips cache+: profile in=((VipsImage*) 0x7f056c177980) columns=((VipsImage*) 0x137c000) rows=((VipsImage*) 0x13a51a0) -
vips cache : copy in=((VipsImage*) 0x13a51a0) out=((VipsImage*) 0x1487640) -
vips cache+: avg in=((VipsImage*) 0x13a51a0) out=0.000000 -
vips cache : copy in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x146f7f0) -
vips cache+: profile in=((VipsImage*) 0x137cc80) columns=((VipsImage*) 0x146fb10) rows=((VipsImage*) 0x7f056c199ca0) -
vips cache : copy in=((VipsImage*) 0x146fb10) out=((VipsImage*) 0x14a07e0) -
vips cache+: avg in=((VipsImage*) 0x146fb10) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x135de10) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x12b8ca0) -
vips cache+: profile in=((VipsImage*) 0x135de10) columns=((VipsImage*) 0x1273330) rows=((VipsImage*) 0x7f056c0a2af0) -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x134b340) -
vips cache+: avg in=((VipsImage*) 0x1273330) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x1392020) threshold=0.000000 background=238 238 238  left=32 top=0 width=480 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001da800, length = 367 out=((VipsImage*) 0x134bca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x134bca0) out=((VipsImage*) 0x1487af0) -
vips cache+: embed in=((VipsImage*) 0x1487af0) out=((VipsImage*) 0x7f05540084c0) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x134bca0) out=((VipsImage*) 0x1369650) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x1332ca0) -
vips cache+: linear in=((VipsImage*) 0x1369650) out=((VipsImage*) 0x14a01a0) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1392b10) -
vips cache+: abs in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x13d17f0) -
vips cache : copy in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x131ce30) -
vips cache+: relational_const in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x137caf0) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=17  -
vips cache : copy in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x12731a0) -
vips cache+: bandbool in=((VipsImage*) 0x137caf0) out=((VipsImage*) 0x12c6ca0) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x12c6ca0) out=((VipsImage*) 0x1449e30) -
vips cache+: linecache in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x13d14d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13a5e20) out=((VipsImage*) 0x1422b00) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x12c6ca0) columns=((VipsImage*) 0x14491b0) rows=((VipsImage*) 0x1273b00) -
vips cache : copy in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x131c1b0) -
vips cache+: profile in=((VipsImage*) 0x14491b0) columns=((VipsImage*) 0x137c190) rows=((VipsImage*) 0x13921b0) -
vips cache : copy in=((VipsImage*) 0x13921b0) out=((VipsImage*) 0x137c4b0) -
vips cache+: avg in=((VipsImage*) 0x13921b0) out=80.000000 -
vips cache+: flip in=((VipsImage*) 0x14491b0) out=((VipsImage*) 0x7f056c0a2c80) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x1422e20) -
vips cache+: profile in=((VipsImage*) 0x7f056c0a2c80) columns=((VipsImage*) 0x7f0554008970) rows=((VipsImage*) 0x7f0554008650) -
vips cache : copy in=((VipsImage*) 0x7f0554008650) out=((VipsImage*) 0x1392980) -
vips cache+: avg in=((VipsImage*) 0x7f0554008650) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x1449980) -
vips cache+: profile in=((VipsImage*) 0x1273b00) columns=((VipsImage*) 0x14a0650) rows=((VipsImage*) 0x13a5330) -
vips cache : copy in=((VipsI2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Threshold (0.01s)
=== RUN   TestImageRef_Height
--- PASS: TestImageRef_Height (0.00s)
=== RUN   TestImageRef_Linear_Fails
--- PASS: TestImageRef_Linear_Fails (0.00s)
=== RUN   TestImageRef_AVIF
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [govips.info] failed to understand image format size=503442
    image_test.go:1002: 
        	Error Trace:	image_test.go:1002
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_AVIF
--- FAIL: TestImageRef_AVIF (0.00s)
=== RUN   TestImageRef_JP2K
2023/10/14 12:59:34 [govips.info] warning libvips already started
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 1 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 2 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 3 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 4 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 5 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 6 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 7 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 8 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 9 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 10 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 11 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 12 / 48
2023/10/14 12:59:34 [VIPS.info] jp2ksave: tile number 13 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 14 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 15 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 16 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 17 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 18 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 19 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 20 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 21 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 22 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 23 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 24 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 25 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 26 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 27 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 28 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 29 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 30 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 31 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 32 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 33 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 34 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 35 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 36 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 37 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 38 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 39 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 40 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 41 / 48
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 42 / 48
2023/10/14 12:59:35 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:35 [VIPS.info] jp2ksave: tile number 43 / 48
2023/10/14 12:59:36 [VIPS.info] jp2ksave: tile number 44 / 48
2023/10/14 12:59:36 [VIPS.info] jp2ksave: tile number 45 / 48
2023/10/14 12:59:36 [VIPS.info] jp2ksave: tile number 46 / 48
2023/10/14 12:59:36 [VIPS.info] jp2ksave: tile number 47 / 48
2023/10/14 12:59:36 [VIPS.info] jp2ksave: tile number 48 / 48
--- PASS: TestImageRef_JP2K (1.58s)
=== RUN   TestThumbnail_NoCrop
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.404494
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.404494
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
mage*) 0x14a0650) out=((VipsImage*) 0x1332980) -
vips cache+: avg in=((VipsImage*) 0x14a0650) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x7f056c177e30) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x7f056c177e30) out=((VipsImage*) 0x1340980) -
vips cache+: profile in=((VipsImage*) 0x7f056c177e30) columns=((VipsImage*) 0x13327f0) rows=((VipsImage*) 0x131c980) -
vips cache : copy in=((VipsImage*) 0x13327f0) out=((VipsImage*) 0x1392e30) -
vips cache+: avg in=((VipsImage*) 0x13327f0) out=32.000000 -
vips cache+: find_trim in=((VipsImage*) 0x134bca0) threshold=17.000000 background=255 255 255  left=80 top=32 width=352 height=256 -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00041a000, length = 33297 out=((VipsImage*) 0x1340660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001d5c000, length = 135059 out=((VipsImage*) 0x1340020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jp2kload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001dfa000, length = 2444355 out=((VipsImage*) 0x13407f0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : copy in=((VipsImage*) 0x13407f0) out=((VipsImage*) 0x13401b0) -
vips cache+: tilecache in=((VipsImage*) 0x7f056c199660) out=((VipsImage*) 0x1273970) tile-width=512 tile-height=512 max-tiles=18 -
vips cache : jp2ksave_buffer in=((VipsImage*) 0x13407f0) buffer=VIPS_TYPE_BLOB, data = 0x7f05513c7b50, length = 2609513 tile-width=512 tile-height=512 lossless=FALSE Q=80 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) -
vips cache+: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x13401b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f056c359c80) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f056c359c80) out=((VipsImage*) 0x7f056c359e10) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f056c359e10) out=((VipsImage*) 0x7f05503d31b0) -
vips cache : copy in=((VipsImage*) 0x7f05503d31b0) out=((VipsImage*) 0x7f05503d34d0) -
vips cache+: embed in=((VipsImage*) 0x7f05503d34d0) out=((VipsImage*) 0x7f05503d3660) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f05503d37f0) out=((VipsImage*) 0x7f05503d3b10) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05503d37f0) out=((VipsImage*) 0x7f05503d3980) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f05503d31b0) out=((VipsImage*) 0x7f05503d3340) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f05503d3340) out=((VipsImage*) 0x7f05503d3e30) -
vips cache+: embed in=((VipsImage*) 0x7f05503d3e30) out=((VipsImage*) 0x7f05501ed020) x=7 y=0 width=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f05503d3340) out=((VipsImage*) 0x7f05503d3ca0) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f056c359e10) out=((VipsImage*) 0x7f05503d3020) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f05501ed1b0) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f05501ed1b0) out=((VipsImage*) 0x7f05501ed340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05501ed340) out=((VipsImage*) 0x7f05501ed4d0) -
vips cache+: linecache in=((VipsImage*) 0x7f05501ed660) out=((VipsImage*) 0x7f05501ed980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQU2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.404494
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.404494
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_NoCrop (0.06s)
=== RUN   TestThumbnail_NoUpscale
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
ENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05501ed660) out=((VipsImage*) 0x7f05501ed7f0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f05501ed7f0) out=((VipsImage*) 0x7f05501edb10) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f05501ed1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f05501fb740, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000480000, length = 22543 out=((VipsImage*) 0x7f05501ed4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0022ce000, length = 187806 out=((VipsImage*) 0x7f05501edca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0022ce000, length = 187806 out=((VipsImage*) 0x7f05501ede30) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f05501ede30) out=((VipsImage*) 0x7f0550200000) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f0550200000) out=((VipsImage*) 0x7f0550200320) -
vips cache : copy in=((VipsImage*) 0x7f0550200320) out=((VipsImage*) 0x7f0550200640) -
vips cache+: embed in=((VipsImage*) 0x7f0550200640) out=((VipsImage*) 0x7f05502007d0) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f0550200960) out=((VipsImage*) 0x7f0550200c80) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0550200960) out=((VipsImage*) 0x7f0550200af0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f0550200320) out=((VipsImage*) 0x7f05502004b0) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f05502004b0) out=((VipsImage*) 0x7f0550273000) -
vips cache+: embed in=((VipsImage*) 0x7f0550273000) out=((VipsImage*) 0x7f0550273190) x=7 y=0 width=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f05502004b0) out=((VipsImage*) 0x7f0550200e10) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f0550200000) out=((VipsImage*) 0x7f0550200190) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0022ce000, length = 187806 out=((VipsImage*) 0x7f0550273320) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f0550273320) out=((VipsImage*) 0x7f05502734b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05502734b0) out=((VipsImage*) 0x7f0550273640) -
vips cache+: linecache in=((VipsImage*) 0x7f0550273e10) out=((VipsImage*) 0x7f05559431a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0550273e10) out=((VipsImage*) 0x7f0555943010) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0555943010) out=((VipsImage*) 0x7f0555943330) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f0550273320) buffer=VIPS_TYPE_BLOB, data = 0x7f0550909610, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005c8000, length = 22543 out=((VipsImage*) 0x7f05502737d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x13401b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_NoUpscale (0.07s)
=== RUN   TestThumbnail_CropCentered
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
 cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f0550273960) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f0550273960) out=((VipsImage*) 0x7f0550273af0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f0550273af0) out=((VipsImage*) 0x7f0555943970) -
vips cache+: resize in=((VipsImage*) 0x7f0550273af0) out=((VipsImage*) 0x7f0550273640) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f0555943b00) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f0555943b00) out=((VipsImage*) 0x7f0555943c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0555943c90) out=((VipsImage*) 0x7f0555943e20) -
vips cache+: linecache in=((VipsImage*) 0x7f0555943650) out=((VipsImage*) 0x7f05550b2020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f0555943650) out=((VipsImage*) 0x7f05559437e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f05559437e0) out=((VipsImage*) 0x7f05550b21b0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f0555943b00) buffer=VIPS_TYPE_BLOB, data = 0x7f05509f1030, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000762000, length = 86168 out=((VipsImage*) 0x7f0555943e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002312000, length = 187806 out=((VipsImage*) 0x7f05550b2660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002312000, length = 187806 out=((VipsImage*) 0x7f05550b27f0) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f05550b27f0) out=((VipsImage*) 0x7f05550b2980) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f05550b2980) out=((VipsImage*) 0x7f05550b2ca0) -
vips cache+: resize in=((VipsImage*) 0x7f05550b2980) out=((VipsImage*) 0x7f05550b2b10) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002312000, length = 187806 out=((VipsImage*) 0x7f05550b2e30) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f05550b2e30) out=((VipsImage*) 0x7f055097b000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f055097b000) out=((VipsImage*) 0x7f055097b190) -
vips cache+: linecache in=((VipsImage*) 0x7f05550b24d0) out=((VipsImage*) 0x7f055097b320) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05550b24d0) out=((VipsImage*) 0x7f0555953000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0555953000) out=((VipsImage*) 0x7f055097b4b0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f05550b2e30) buffer=VIPS_TYPE_BLOB, data = 0x7f0550a438b0, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002340000, length = 86168 out=((VipsImage*) 0x7f055097b190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../reso2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.416667
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.416667
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] cropping to 25x25
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 715 x 483
2023/10/14 12:59:36 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 12:59:36 [VIPS.info] converting to processing space b-w
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.416667
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
urces/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x13401b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f055097b960) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f055097b960) out=((VipsImage*) 0x7f055097baf0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f055097baf0) out=((VipsImage*) 0x7f055097be10) -
vips cache : copy in=((VipsImage*) 0x7f055097be10) out=((VipsImage*) 0x7f05509b8190) -
vips cache+: embed in=((VipsImage*) 0x7f05509b8190) out=((VipsImage*) 0x7f05509b8320) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f05509b84b0) out=((VipsImage*) 0x7f05509b8640) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05509b84b0) out=((VipsImage*) 0x1309e10) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f055097be10) out=((VipsImage*) 0x7f05509b8000) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f05509b8000) out=((VipsImage*) 0x7f05509b8960) -
vips cache+: embed in=((VipsImage*) 0x7f05509b8960) out=((VipsImage*) 0x7f05509b8af0) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f05509b8000) out=((VipsImage*) 0x7f05509b87d0) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f055097baf0) out=((VipsImage*) 0x7f055097bc80) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x7f05509b8e10) out=((VipsImage*) 0x7f05640141b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f05509b8e10) out=((VipsImage*) 0x7f0564014020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0564014020) out=((VipsImage*) 0x7f056c100020) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x7f056c199e30) out=((VipsImage*) 0x1392660) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7f056c199e30) attention-x=0 out=((VipsImage*) 0x137c960) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x135d320) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x135d320) out=((VipsImage*) 0x7f05701684c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f05701684c0) out=((VipsImage*) 0x1340ca0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x135d320) buffer=VIPS_TYPE_BLOB, data = 0x7f0550a0b8c0, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007e8000, length = 22539 out=((VipsImage*) 0x1340ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002380000, length = 187806 out=((VipsImage*) 0x1369c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002380000, length = 187806 out=((VipsImage*) 0x7f056c199340) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f056c199340) out=((VipsImage*) 0x13d1ca0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x7f056c32a660) -
vips cache : copy in=((VipsImage*) 0x7f056c32a62023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.416667
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] cropping to 25x25
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_CropCentered (0.06s)
=== RUN   TestThumbnail_PNG_CropCentered
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/png-24bit.png
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadPngFile
2023/10/14 12:59:36 [VIPS.info] input size is 1920 x 1080
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.0231481
2023/10/14 12:59:36 [VIPS.info] shrinkv by 21
2023/10/14 12:59:36 [VIPS.info] shrinkv sequential line cache
2023/10/14 12:59:36 [VIPS.info] reducev: 13 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
60) out=((VipsImage*) 0x1273650) -
vips cache+: embed in=((VipsImage*) 0x1273650) out=((VipsImage*) 0x7f0570168b00) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x13a5650) out=((VipsImage*) 0x7f0570168650) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13a5650) out=((VipsImage*) 0x13a5c90) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f056c32a660) out=((VipsImage*) 0x13d1340) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x12b8340) -
vips cache+: embed in=((VipsImage*) 0x12b8340) out=((VipsImage*) 0x14a0330) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x13d1340) out=((VipsImage*) 0x7f05701681a0) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13d1ca0) out=((VipsImage*) 0x13d1b10) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x13927f0) out=((VipsImage*) 0x7f05640144d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13927f0) out=((VipsImage*) 0x7f0564014340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f0564014340) out=((VipsImage*) 0x7f0564014660) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x1369e20) out=((VipsImage*) 0x7f056c0a2640) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x1369e20) attention-x=0 out=((VipsImage*) 0x1309000) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002380000, length = 187806 out=((VipsImage*) 0x14a07e0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x14a07e0) out=((VipsImage*) 0x7f0564014980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0564014980) out=((VipsImage*) 0x7f0564014b10) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14a07e0) buffer=VIPS_TYPE_BLOB, data = 0x7f0550a903e0, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0023ae000, length = 22539 out=((VipsImage*) 0x7f0564014ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x7f0564014e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x137cc80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x137cc80) out=((VipsImage*) 0x14a0b00) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x135de10) -
vips cache+: embed in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x7f056c32a7f0) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f056c32ae30) out=((VipsImage*) 0x7f056c1001b0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c32ae30) out=((VipsImage*) 0x12fd960) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x12b8ca0) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x12b8ca0) out=((VipsImage*) 0x1466af0) -
vips cache+: embed in=((VipsImage*) 0x1466af0) out=((VipsImage*) 0x14224c0) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f056c100ca0) out=((Vip2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 12:59:36 [VIPS.info] shrinkh by 21
2023/10/14 12:59:36 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:59:36 [VIPS.info] cropping to 25x25
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] thumbnailing 135059 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadPngBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 1920 x 1080
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.0231481
2023/10/14 12:59:36 [VIPS.info] shrinkv by 21
2023/10/14 12:59:36 [VIPS.info] shrinkv sequential line cache
2023/10/14 12:59:36 [VIPS.info] reducev: 13 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
sImage*) 0x7f056c1004d0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f056c100ca0) out=((VipsImage*) 0x12b87f0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x135de10) out=((VipsImage*) 0x7f056c0a2af0) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x7f056c199ca0) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x1273330) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x1273330) out=((VipsImage*) 0x146f7f0) -
vips cache+: embed in=((VipsImage*) 0x146f7f0) out=((VipsImage*) 0x146fb10) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f056c0a2af0) out=((VipsImage*) 0x7f05540081a0) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x14a0b00) out=((VipsImage*) 0x7f056c34c1b0) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x135d4b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x131c4d0) out=((VipsImage*) 0x13a5b00) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x13a51a0) out=((VipsImage*) 0x137c4b0) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x13a51a0) attention-x=0 out=((VipsImage*) 0x7f056c0a2320) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/png-24bit.png" out=((VipsImage*) 0x7f05550b2660) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7f05550b2660) out=((VipsImage*) 0x7f0555943c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f0555943c90) out=((VipsImage*) 0x7f05502734b0) -
vips cache+: cast in=((VipsImage*) 0x7f05502734b0) out=((VipsImage*) 0x7f05501edca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f05550b2660) buffer=VIPS_TYPE_BLOB, data = 0x7f05503b5130, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00043b000, length = 3709 out=((VipsImage*) 0x131c980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002480000, length = 135059 out=((VipsImage*) 0x7f056c177ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002480000, length = 135059 out=((VipsImage*) 0x13d11b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x13d11b0) out=((VipsImage*) 0x1422c90) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x1422c90) out=((VipsImage*) 0x134b980) -
vips cache+: embed in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x12c6ca0) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x131ce30) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x12731a0) out=((VipsImage*) 0x137caf0) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x1449e30) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x1449e30) out=((VipsImage*) 0x13d17f0) -
vips cache+: embed in=((VipsImage*) 0x13d17f0) out=((VipsImage*) 0x1392b10) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1369650) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cach2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 12:59:36 [VIPS.info] shrinkh by 21
2023/10/14 12:59:36 [VIPS.info] reduceh: 13 point mask
2023/10/14 12:59:36 [VIPS.info] cropping to 25x25
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_PNG_CropCentered (0.09s)
=== RUN   TestThumbnail_Decode_BMP
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/bmp.bmp
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadMagickFile
2023/10/14 12:59:36 [VIPS.info] input size is 164 x 211
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
e+: sequential in=((VipsImage*) 0x14a01a0) out=((VipsImage*) 0x1332ca0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x134b980) out=((VipsImage*) 0x1273b00) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x13327f0) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x1487af0) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x1487af0) out=((VipsImage*) 0x13a5330) -
vips cache+: embed in=((VipsImage*) 0x13a5330) out=((VipsImage*) 0x1449980) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1273b00) out=((VipsImage*) 0x7f05540084c0) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x1422c90) out=((VipsImage*) 0x7f056c177660) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x1487640) out=((VipsImage*) 0x7f0554008970) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1487640) out=((VipsImage*) 0x14491b0) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x14a0650) out=((VipsImage*) 0x1422e20) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x14a0650) attention-x=0 out=((VipsImage*) 0x7f0554008650) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002480000, length = 135059 out=((VipsImage*) 0x7f056c0a2c80) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7f056c0a2c80) out=((VipsImage*) 0x137c190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x1392e30) -
vips cache+: cast in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x1332980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f056c0a2c80) buffer=VIPS_TYPE_BLOB, data = 0x14a5970, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002409000, length = 3709 out=((VipsImage*) 0x1392980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x1422330) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x14497f0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x14497f0) out=((VipsImage*) 0x7f0555953320) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f0555953320) out=((VipsImage*) 0x1422330) -
vips cache+: resize in=((VipsImage*) 0x7f0555953320) out=((VipsImage*) 0x7f056c32a1b0) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail filename="../resources/bmp.bmp" out=((VipsImage*) 0x7f056c177980) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f056c177980) out=((VipsImage*) 0x13d1020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x134b340) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f056c177980) buffer=VIPS_TYPE_BLOB, data = 0x1274800, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002438000, length = 9329 out=((VipsImage*) 0x7f0564014b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL2023/10/14 12:59:36 [VIPS.info] thumbnailing 35682 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadMagickBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 164 x 211
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_Decode_BMP (0.08s)
=== RUN   TestThumbnail_GIF
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/gif-animated.gif
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 128
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 128
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.413223
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
) fail=TRUE -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0024b8000, length = 35682 out=((VipsImage*) 0x134b340) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0024b8000, length = 35682 out=((VipsImage*) 0x134b340) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x134b340) out=((VipsImage*) 0x137c000) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x146fca0) -
vips cache+: resize in=((VipsImage*) 0x137c000) out=((VipsImage*) 0x12b84d0) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0024b8000, length = 35682 out=((VipsImage*) 0x12b8020) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x12b8020) out=((VipsImage*) 0x143d000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143d000) out=((VipsImage*) 0x143d190) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x12b8020) buffer=VIPS_TYPE_BLOB, data = 0x1290ec0, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0024ac500, length = 9329 out=((VipsImage*) 0x143d320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x143d4b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x1392e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x1392e30) out=((VipsImage*) 0x137c190) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x7f056c177ca0) -
vips cache+: premultiply in=((VipsImage*) 0x137c190) out=((VipsImage*) 0x1332980) -
vips cache : copy in=((VipsImage*) 0x1332980) out=((VipsImage*) 0x143d000) -
vips cache+: cast in=((VipsImage*) 0x1332980) out=((VipsImage*) 0x143d4b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143d4b0) out=((VipsImage*) 0x7f05502734b0) -
vips cache : copy in=((VipsImage*) 0x7f05502734b0) out=((VipsImage*) 0x7f05501edca0) -
vips cache+: embed in=((VipsImage*) 0x7f05501edca0) out=((VipsImage*) 0x143d190) x=0 y=7 width=121 height=143 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x143d640) out=((VipsImage*) 0x143d960) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143d640) out=((VipsImage*) 0x143d7d0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f05502734b0) out=((VipsImage*) 0x7f0555943c90) vshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f0555943c90) out=((VipsImage*) 0x143dc80) -
vips cache+: embed in=((VipsImage*) 0x143dc80) out=((VipsImage*) 0x143de10) x=7 y=0 width=136 height=53 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f0555943c90) out=((VipsImage*) 0x143daf0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x143d4b0) out=((VipsImage*) 0x13d1020) vscale=0.413223 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x14031a0) -
vips cache+: unpremultiply in=((VipsImage*) 0x13d1020) out=((VipsImage*) 0x1403010) -
vips cache : copy in=((VipsImage*) 0x1403010) out=((VipsImage*) 0x14034c0) -
vips cache+: cast in=((VipsImage*) 0x1403010) out=((VipsImage*) 0x1403330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vi    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:88
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 294 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc000157b68?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x1403650, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x1403650, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0024ee000, 0xc0024e4000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc0024de030?, {0x6a43ae, 0x1d}, 0xc000531760?, 0x6cb818, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF(0xc0024e4000)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:88 +0x8f
        	            	testing.tRunner(0xc0024e4000, 0x6cb840)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF
--- FAIL: TestThumbnail_GIF (0.00s)
=== RUN   TestThumbnail_GIF_Animated
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 1024
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:107
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 295 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc000157a90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x159bb00, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x159bb00, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0024ee0a0, 0xc000157cb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc0024de3c0?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc000157e80, 0x897fc0?, 0xc0024e8a80?, 0xc0024da2b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated(0xc0024e4000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:107 +0x12c
        	            	testing.tRunner(0xc0024e41a0, 0x6cb828)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated
--- FAIL: TestThumbnail_GIF_Animated (0.00s)
=== RUN   TestThumbnail_GIF_Animated_Force
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 1024
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.78125
2023/10/14 12:59:36 [VIPS.info] reducev: 9 point mask
ps cache : thumbnail filename="../resources/gif-animated.gif" out=((VipsImage*) 0x1403650) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x14037e0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x14037e0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x14037e0) out=((VipsImage*) 0x1403970) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x1403970) out=((VipsImage*) 0x1403c90) -
vips cache+: premultiply in=((VipsImage*) 0x1403970) out=((VipsImage*) 0x1403b00) -
vips cache : copy in=((VipsImage*) 0x1403b00) out=((VipsImage*) 0x156d010) -
vips cache+: cast in=((VipsImage*) 0x1403b00) out=((VipsImage*) 0x1403e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1403e20) out=((VipsImage*) 0x156d330) -
vips cache : copy in=((VipsImage*) 0x156d330) out=((VipsImage*) 0x156d650) -
vips cache+: embed in=((VipsImage*) 0x156d650) out=((VipsImage*) 0x156d7e0) x=0 y=7 width=121 height=1039 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x156d970) out=((VipsImage*) 0x156dc90) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x156d970) out=((VipsImage*) 0x156db00) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x156d330) out=((VipsImage*) 0x156d4c0) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x156d4c0) out=((VipsImage*) 0x159b010) -
vips cache+: embed in=((VipsImage*) 0x159b010) out=((VipsImage*) 0x159b1a0) x=7 y=0 width=136 height=424 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x156d4c0) out=((VipsImage*) 0x156de20) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x1403e20) out=((VipsImage*) 0x156d1a0) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x156d1a0) out=((VipsImage*) 0x159b4c0) -
vips cache+: unpremultiply in=((VipsImage*) 0x156d1a0) out=((VipsImage*) 0x159b330) -
vips cache : copy in=((VipsImage*) 0x159b330) out=((VipsImage*) 0x159b7e0) -
vips cache+: cast in=((VipsImage*) 0x159b330) out=((VipsImage*) 0x159b650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x159b650) out=((VipsImage*) 0x159b970) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-1,fail=TRUE]" out=((VipsImage*) 0x159bb00) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x159bc90) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x159be20) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x159be20) out=((VipsImage*) 0x159bc90) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x159bc90) out=((VipsImage*) 0x15bf190) -
vips cache+: premultiply in=((VipsImage*) 0x159bc90) out=((VipsImage*) 0x15bf000) -
vips cache : copy in=((VipsImage*) 0x15bf000) out=((VipsImage*) 0x15bf4b0) -
vips cache+: cast in=((VipsImage*) 0x15bf000) out=((VipsImage*) 0x15bf320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15bf320) out=((VipsImage*) 0x15bf7d0) -
vips cache : copy in=((VipsImage*) 0x15bf7d0) out=((VipsImage*) 0x15bfaf0) -
vips cache+: embed in=((VipsImage*) 0x15bfaf0) out=((VipsImage*) 0x15bfc80) x=0 y=4 width=121 height=1033 extend=((VipsExten2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:121
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 296 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc000157a90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x15fd020, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x15fd020, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0024ee0f0, 0xc000157cb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc0024de750?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc000157e80, 0x897fc0?, 0xc0024e9420?, 0xc0024da560?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated_Force(0xc0024e4000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:121 +0x12c
        	            	testing.tRunner(0xc0024e4340, 0x6cb820)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated_Force
--- FAIL: TestThumbnail_GIF_Animated_Force (0.00s)
=== RUN   TestThumbnail_GIF_ExportNative
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
d) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x15bfe10) out=((VipsImage*) 0x15d11a0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15bfe10) out=((VipsImage*) 0x15d1010) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x15bf7d0) out=((VipsImage*) 0x15bf960) vshrink=1.280000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x15bf960) out=((VipsImage*) 0x15d14c0) -
vips cache+: embed in=((VipsImage*) 0x15d14c0) out=((VipsImage*) 0x15d1650) x=7 y=0 width=136 height=800 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x15bf960) out=((VipsImage*) 0x15d1330) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x15bf320) out=((VipsImage*) 0x15bf640) vscale=0.781250 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x15bf640) out=((VipsImage*) 0x15d1970) -
vips cache+: unpremultiply in=((VipsImage*) 0x15bf640) out=((VipsImage*) 0x15d17e0) -
vips cache : copy in=((VipsImage*) 0x15d17e0) out=((VipsImage*) 0x15d1c90) -
vips cache+: cast in=((VipsImage*) 0x15d17e0) out=((VipsImage*) 0x15d1b00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d1b00) out=((VipsImage*) 0x15d1e20) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-1,fail=TRUE]" out=((VipsImage*) 0x15fd020) width=50 height=100 size=((VipsSize) VIPS_SIZE_FORCE) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x15fd1b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x15fd340) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x15fd340) out=((VipsImage*) 0x15fd4d0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x15fd4d0) out=((VipsImage*) 0x15fd660) -
vips cache+: premultiply in=((VipsImage*) 0x15fd4d0) out=((VipsImage*) 0x15fd1b0) -
vips cache : copy in=((VipsImage*) 0x15fd1b0) out=((VipsImage*) 0x15fd980) -
vips cache+: cast in=((VipsImage*) 0x15fd1b0) out=((VipsImage*) 0x15fd7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15fd7f0) out=((VipsImage*) 0x15fdca0) -
vips cache : copy in=((VipsImage*) 0x15fdca0) out=((VipsImage*) 0x1612000) -
vips cache+: embed in=((VipsImage*) 0x1612000) out=((VipsImage*) 0x1612190) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x1612320) out=((VipsImage*) 0x1612640) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1612320) out=((VipsImage*) 0x16124b0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x15fdca0) out=((VipsImage*) 0x15fde30) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x15fde30) out=((VipsImage*) 0x1612960) -
vips cache+: embed in=((VipsImage*) 0x1612960) out=((VipsImage*) 0x1612af0) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x15fde30) out=((VipsImage*) 0x16127d0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x15fd7f0) out=((VipsImage*) 0x15fdb10) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x15fdb10) out=((VipsImage*) 0x1612e10) -
vips cache+: unpremultiply in=((VipsImage*) 0x15fdb10) out=((VipsImage*) 0x1612c80) -
vips cache : copy in=((VipsImage*) 0x1612c80) out=((VipsImage*) 0x164d190) -
vips cache+: cast in=((VipsImage*) 0x1612c80) out=((VipsImage*) 0x164d000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x164d000) out=((VipsImage*) 0x164d320) -
vips cache : thumbnail filen    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:135
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 297 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc0001578d8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x164d4b0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x164d4b0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0024ee140, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000157cb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest.func3(0x707198?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:994 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0x24?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc000157e80, 0x897fc0?, 0xc0024e9dc0?, 0xc0024da808?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_ExportNative(0xc0024e4000?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:135 +0x105
        	            	testing.tRunner(0xc0024e44e0, 0x6cb830)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_ExportNative
--- FAIL: TestThumbnail_GIF_ExportNative (0.00s)
=== RUN   TestThumbnail_GIF_ExportWebP
2023/10/14 12:59:36 [govips.info] warning libvips already started
2023/10/14 12:59:36 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:59:36 [VIPS.info] thumbnailing 18146 bytes of data
2023/10/14 12:59:36 [VIPS.info] selected loader is VipsForeignLoadNsgifBuffer
2023/10/14 12:59:36 [VIPS.info] input size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] loading with factor 1 pre-shrink
ame="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x164d4b0) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x164d640) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x164d7d0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x164d7d0) out=((VipsImage*) 0x164d960) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x164d960) out=((VipsImage*) 0x164d640) -
vips cache+: premultiply in=((VipsImage*) 0x164d960) out=((VipsImage*) 0x164daf0) -
vips cache : copy in=((VipsImage*) 0x164daf0) out=((VipsImage*) 0x164de10) -
vips cache+: cast in=((VipsImage*) 0x164daf0) out=((VipsImage*) 0x164dc80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x164dc80) out=((VipsImage*) 0x16631b0) -
vips cache : copy in=((VipsImage*) 0x16631b0) out=((VipsImage*) 0x16634d0) -
vips cache+: embed in=((VipsImage*) 0x16634d0) out=((VipsImage*) 0x1663660) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x16637f0) out=((VipsImage*) 0x1663b10) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x16637f0) out=((VipsImage*) 0x1663980) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x16631b0) out=((VipsImage*) 0x1663340) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x1663340) out=((VipsImage*) 0x1663e30) -
vips cache+: embed in=((VipsImage*) 0x1663e30) out=((VipsImage*) 0x169c020) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x1663340) out=((VipsImage*) 0x1663ca0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x164dc80) out=((VipsImage*) 0x1663020) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x1663020) out=((VipsImage*) 0x169c340) -
vips cache+: unpremultiply in=((VipsImage*) 0x1663020) out=((VipsImage*) 0x169c1b0) -
vips cache : copy in=((VipsImage*) 0x169c1b0) out=((VipsImage*) 0x169c660) -
vips cache+: cast in=((VipsImage*) 0x169c1b0) out=((VipsImage*) 0x169c4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x169c4d0) out=((VipsImage*) 0x169c7f0) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x169c980) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x169c980) out=((VipsImage*) 0x169cb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x169cb10) out=((VipsImage*) 0x169cca0) -
vips cache+: linecache in=((VipsImage*) 0x7f055097b7d0) out=((VipsImage*) 0x16b14d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f055097b7d0) out=((VipsImage*) 0x16b1340) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = -5659714396285093376 -
vips cache : webpsave_buffer in=((VipsImage*) 0x169c980) buffer=VIPS_TYPE_BLOB, data = 0x16ab820, length = 4532 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002528000, length = 4532 out=((VipsImage*) 0x169ce30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000361000, length = 18146 out=((VipsImage*) 0x16b11b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000361000, length = 18146 o2023/10/14 12:59:36 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 12:59:36 [VIPS.info] converting to processing space srgb
2023/10/14 12:59:36 [VIPS.info] premultiplying alpha
2023/10/14 12:59:36 [VIPS.info] residual reducev by 0.414062
2023/10/14 12:59:36 [VIPS.info] reducev: 15 point mask
2023/10/14 12:59:36 [VIPS.info] reducev: using vector path
2023/10/14 12:59:36 [VIPS.info] reducev sequential line cache
2023/10/14 12:59:36 [VIPS.info] residual reduceh by 0.413223
2023/10/14 12:59:36 [VIPS.info] reduceh: 15 point mask
2023/10/14 12:59:36 [VIPS.info] unpremultiplying alpha
2023/10/14 12:59:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_GIF_ExportWebP (0.07s)
=== RUN   Test_DefaultLogging
2023/10/14 12:59:36 [govips.info] warning libvips already started
--- PASS: Test_DefaultLogging (0.00s)
=== RUN   Test_LoggingVerbosity
2023/10/14 12:59:36 [govips.info] warning libvips already started
--- PASS: Test_LoggingVerbosity (0.00s)
=== RUN   Test_LoggingHandler
--- PASS: Test_LoggingHandler (0.00s)
FAIL
FAIL	github.com/davidbyttow/govips/v2/vips	13.142s
2023/10/14 12:55:55 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 12:55:55 [VIPS.info] using configure-time prefix
2023/10/14 12:55:55 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 12:55:55 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] prefix = /usr/local
2023/10/14 12:55:55 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 12:55:55 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 12:55:55 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 12:55:55 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 12:55:55 [govips.info] registered image type loader type=gif
2023/10/14 12:55:55 [govips.info] registered image type loader type=magick
2023/10/14 12:55:55 [govips.info] registered image type loader type=pdf
2023/10/14 12:55:55 [govips.info] registered image type loader type=jp2k
2023/10/14 12:55:55 [govips.info] registered image type loader type=jpeg
2023/10/14 12:55:55 [govips.info] registered image type loader type=png
2023/10/14 12:55:55 [govips.info] registered image type loader type=svg
2023/10/14 12:55:55 [govips.info] registered image type loader type=tiff
2023/10/14 12:55:55 [govips.info] registered image type loader type=webp
=== RUN   TestMemoryLeak
2023/10/14 12:55:55 [govips.info] warning libvips already started
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 9 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 11 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 1 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 4 workers
2023/10/14 12:55:55 [VIPS.info] threadpool completed with 8 workers
    image_test.go:59: Memory usage: before 6220816, after 6220816, delta 0
--- PASS: TestMemoryLeak (0.09s)
PASS
ok  	github.com/davidbyttow/govips/v2/vips/mem_tests	(cached)
FAIL
