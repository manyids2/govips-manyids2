CGO_CFLAGS_ALLOW=-Xpreprocessor go get ./...
CGO_CFLAGS_ALLOW=-Xpreprocessor go build ./vips
CGO_CFLAGS_ALLOW=-Xpreprocessor go test -v ./...
?   	github.com/davidbyttow/govips/v2/examples/jpeg	[no test files]
VIPS 64 found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
VIPS 64 using configure-time prefix
VIPS 64 VIPS_PREFIX = /usr/local
VIPS 64 VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
VIPS 64 prefix = /usr/local
VIPS 64 libdir = /usr/local/lib/x86_64-linux-gnu
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
VIPS 64 loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
VIPS 64 searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
govips 64 vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
govips 64 registered image type loader type=gif
govips 64 registered image type loader type=jpeg
govips 64 registered image type loader type=magick
govips 64 registered image type loader type=tiff
govips 64 registered image type loader type=webp
govips 64 registered image type loader type=jp2k
govips 64 registered image type loader type=pdf
govips 64 registered image type loader type=png
govips 64 registered image type loader type=svg
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/image	(cached) [no tests to run]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/logging	(cached) [no tests to run]
?   	github.com/davidbyttow/govips/v2/examples/tiff	[no test files]
testing: warning: no tests to run
PASS
ok  	github.com/davidbyttow/govips/v2/examples/thumbnail	(cached) [no tests to run]
=== RUN   Test_DetermineImageType__JPEG
2023/10/14 10:56:21 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 10:56:21 [VIPS.info] using configure-time prefix
2023/10/14 10:56:21 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 10:56:21 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 10:56:21 [VIPS.info] prefix = /usr/local
2023/10/14 10:56:21 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 10:56:21 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 10:56:21 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 10:56:21 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 10:56:21 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 10:56:21 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 10:56:21 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 10:56:21 [govips.info] registered image type loader type=pdf
2023/10/14 10:56:21 [govips.info] registered image type loader type=svg
2023/10/14 10:56:21 [govips.info] registered image type loader type=webp
2023/10/14 10:56:21 [govips.info] registered image type loader type=jp2k
2023/10/14 10:56:21 [govips.info] registered image type loader type=jpeg
2023/10/14 10:56:21 [govips.info] registered image type loader type=magick
2023/10/14 10:56:21 [govips.info] registered image type loader type=tiff
2023/10/14 10:56:21 [govips.info] registered image type loader type=gif
2023/10/14 10:56:21 [govips.info] registered image type loader type=png
--- PASS: Test_DetermineImageType__JPEG (0.01s)
=== RUN   Test_DetermineImageType__HEIF_HEIC
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_HEIC (0.00s)
=== RUN   Test_DetermineImageType__HEIF_MIF1
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__HEIF_MIF1 (0.00s)
=== RUN   Test_DetermineImageType__PNG
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PNG (0.00s)
=== RUN   Test_DetermineImageType__TIFF
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__TIFF (0.00s)
=== RUN   Test_DetermineImageType__WEBP
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__WEBP (0.00s)
=== RUN   Test_DetermineImageType__SVG
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG (0.00s)
=== RUN   Test_DetermineImageType__SVG_1
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__SVG_1 (0.00s)
=== RUN   Test_DetermineImageType__PDF
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__PDF (0.00s)
=== RUN   Test_DetermineImageType__BMP
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__BMP (0.00s)
=== RUN   Test_DetermineImageType__AVIF
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__AVIF (0.00s)
=== RUN   Test_DetermineImageType__JP2K
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: Test_DetermineImageType__JP2K (0.00s)
=== RUN   TestInitConfig
2023/10/14 10:56:21 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 10:56:21 [govips.info] libvips was forcibly started automatically, consider calling Startup/Shutdown yourself
2023/10/14 10:56:21 [govips.info] vips 8.15.0 started with concurrency=1 cache_max_files=0 cache_max_mem=52428800 cache_max=100
--- PASS: TestInitConfig (0.01s)
=== RUN   Test_ICCProfileInitialisation
--- PASS: Test_ICCProfileInitialisation (0.00s)
=== RUN   TestI_GIF_Animated_Pages
2023/10/14 10:56:21 [govips.info] warning libvips already started
--- PASS: TestI_GIF_Animated_Pages (0.00s)
=== RUN   TestImage_GIF_Animated
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:20
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 54 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005fb00?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x13de1a0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x13de1a0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000161e0, 0xc000063430?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc0000226c0?, {0x6a43ae, 0x1d}, 0x4f2314?, 0x0?, 0x0?, 0xc00004ff60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated(0xc000136680?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:20 +0x6a
        	            	testing.tRunner(0xc000136d00, 0x6cb518)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated
--- FAIL: TestImage_GIF_Animated (0.00s)
=== RUN   TestImage_GIF_Animated_ExportNative
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:28
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 55 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x13de330, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x13de330, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016280, 0xc00005fc80?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000063590?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc00004ff60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc00004ff60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExportNative(0xc000136680?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:28 +0x32
        	            	testing.tRunner(0xc000136ea0, 0x6cb4b8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExportNative
--- FAIL: TestImage_GIF_Animated_ExportNative (0.00s)
=== RUN   TestImage_GIF_Animated_to_WebP
2023/10/14 10:56:21 [govips.info] warning libvips already started
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GIF_Animated_to_WebP (0.04s)
=== RUN   TestImage_GIF_Animated_Resize
2023/10/14 10:56:21 [govips.info] warning libvips already started
2023/10/14 10:56:21 [VIPS.info] residual scale 2 x 2
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:44
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 59 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x1430660, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x1430660, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016820, 0xc000035400?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0000638e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Resize(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:44 +0x37
        	            	testing.tRunner(0xc00008ab60, 0x6cb4e8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Resize
--- FAIL: TestImage_GIF_Animated_Resize (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate90
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:54
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 60 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x143f340, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x143f340, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016870, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x1?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate90(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:54 +0x39
        	            	testing.tRunner(0xc00008ad00, 0x6cb508)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate90
--- FAIL: TestImage_GIF_Animated_Rotate90 (0.00s)
=== RUN   TestImage_GIF_Animated_Rotate270
2023/10/14 10:56:21 [govips.info] warning libvips already started
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000812000, length = 18146 out=((VipsImage*) 0x13de010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000816800, length = 18146 out=((VipsImage*) 0x13de1a0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00081b000, length = 18146 out=((VipsImage*) 0x13de330) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00081f800, length = 18146 out=((VipsImage*) 0x13de4c0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: cast in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x13de650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x13de7e0) -
vips cache+: linecache in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x7f1fc00081a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x7f1fc0008010) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x13de4c0) buffer=VIPS_TYPE_BLOB, data = 0x1408cb0, length = 4996 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 4996 out=((VipsImage*) 0x13de970) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000852000, length = 18146 out=((VipsImage*) 0x13de7e0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x7f1fc00084c0) -
vips cache+: premultiply in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x7f1fc0008330) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x7f1fc00087e0) -
vips cache : copy in=((VipsImage*) 0x7f1fc00087e0) out=((VipsImage*) 0x7f1fc0008b00) -
vips cache+: embed in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x7f1fc0008c90) x=2 y=2 width=126 height=389 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x1430340) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14301b0) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14304d0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x1430660) -
vips cache+: affine in=((VipsImage*) 0x7f1fc00087e0) interpolate=((VipsInterpolateBicubic*) 0x1429000) out=((VipsImage*) 0x7f1fc0008970) matrix=2 0 0 2  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x7f1fc0008650) kernel=((VipsKernel) VIPS_KERNEL_CUBIC) scale=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fc0008650) out=((VipsImage*) 0x1430b10) -
vips cache : copy in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x14307f0) -
vips cache+: unpremultiply in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x7f1fc0008e20) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x1430ca0) -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x1430660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000856800, length = 18146 out=((VipsImage*) 0x1430e30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: grid in=((VipsImage*) 0x1430e30) out=((VipsImage*) 0x143f020) tile-height=128 across=8 down=1 -
vips cache+: rot in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x143f1b0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x143f1b0) out=((VipsImage*) 0x143f340) -
vips cache+: gifload_buffer buf    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:64
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 61 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x143fca0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x143fca0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000168c0, 0x200000003?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0x3?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Rotate270(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:64 +0x39
        	            	testing.tRunner(0xc00008aea0, 0x6cb4f8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Rotate270
--- FAIL: TestImage_GIF_Animated_Rotate270 (0.00s)
=== RUN   TestImage_GIF_Animated_Embed
2023/10/14 10:56:21 [govips.info] warning libvips already started
fer=VIPS_TYPE_BLOB, data = 0xc00085b000, length = 18146 out=((VipsImage*) 0x143f4d0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: flip in=((VipsImage*) 0x143f4d0) out=((VipsImage*) 0x143f660) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: grid in=((VipsImage*) 0x143f660) out=((VipsImage*) 0x143f7f0) tile-height=128 across=8 down=1 -
vips cache+: flip in=((VipsImage*) 0x143f7f0) out=((VipsImage*) 0x143f980) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: rot in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x143fb10) angle=((VipsAngle) VIPS_ANGLE_D270) -
vips cache : copy in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x143fca0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00085f800, length = 18146 out=((VipsImage*) 0x143fe30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468190) left=0 top=0 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x1468190) out=((VipsImage*) 0x1468320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14684b0) left=0 top=128 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x14684b0) out=((VipsImage*) 0x1468640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14687d0) left=0 top=256 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x14687d0) out=((VipsImage*) 0x1468960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468af0) left=0 top=384 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x1468af0) out=((VipsImage*) 0x1468c80) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468e10) left=0 top=512 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x1468e10) out=((VipsImage*) 0x1475000) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1475190) left=0 top=640 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x1475190) out=((VipsImage*) 0x1475320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14754b0) left=0 top=768 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x14754b0) out=((VipsImage*) 0x1475640) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14757d0) left=0 top=896 width=121 height=128 -
vips cache+: embed in=((VipsImage*) 0x14757d0) out=((VipsImage*) 0x1475960) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: embed in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x1475c80) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x1475e10) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x1488020) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1468c80) out=((VipsImage*) 0x14881b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x1488340) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1475320) out=((VipsImage*) 0x14884d0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14756    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:74
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 62 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x1488980, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x1488980, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016910, 0xc00005fc10?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000063d60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_Embed(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:74 +0x39
        	            	testing.tRunner(0xc00008b040, 0x6cb4b0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_Embed
--- FAIL: TestImage_GIF_Animated_Embed (0.00s)
=== RUN   TestImage_GIF_Animated_EmbedBackground
2023/10/14 10:56:21 [govips.info] warning libvips already started
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
40) out=((VipsImage*) 0x1488660) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x1475960) out=((VipsImage*) 0x14887f0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x14814c0) out=((VipsImage*) 0x1475af0) across=1 -
vips cache : copy in=((VipsImage*) 0x1475af0) out=((VipsImage*) 0x1488980) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b6000, length = 18146 out=((VipsImage*) 0x1488b10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x1488ca0) left=0 top=0 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x149d340) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x149d1b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x149d1b0) out=((VipsImage*) 0x149d660) -
vips cache+: cast in=((VipsImage*) 0x149d1b0) out=((VipsImage*) 0x149d4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x149d4d0) out=((VipsImage*) 0x149d7f0) -
vips cache+: embed in=((VipsImage*) 0x1488ca0) out=((VipsImage*) 0x1488e30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x149db10) left=0 top=128 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x149d980) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x149d020) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x149d020) out=((VipsImage*) 0x14ad020) -
vips cache+: cast in=((VipsImage*) 0x149d020) out=((VipsImage*) 0x149d7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x14ad1b0) -
vips cache+: embed in=((VipsImage*) 0x149db10) out=((VipsImage*) 0x149dca0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ad4d0) left=0 top=256 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ad660) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ad1b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x14ad980) -
vips cache+: cast in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x14ad7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ad7f0) out=((VipsImage*) 0x14adb10) -
vips cache+: embed in=((VipsImage*) 0x14ad4d0) out=((VipsImage*) 0x149de30) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ade30) left=0 top=384 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14adca0) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ad340) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x14b8340) -
vips cache+: cast in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x14adb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14b84d0) -
vips cache+: embed in=((VipsImage*) 0x14ade30) out=((VipsImage*) 0x14b8020) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14b87f0) left=0 top=512 width=121 height=128 -
vips cache*2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14b8980) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14b84d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14b84d0) out=((VipsImage*) 0x14b8ca0) -
vips cache+: cast in=((VipsImage*) 0x14b84d0) out=((VipsImage*) 0x14b8b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14b8b10) out=((VipsImage*) 0x14b8e30) -
vips cache+: embed in=((VipsImage*) 0x14b87f0) out=((VipsImage*) 0x14b81b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ca190) left=0 top=640 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ca000) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14b8660) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14b8660) out=((VipsImage*) 0x14ca640) -
vips cache+: cast in=((VipsImage*) 0x14b8660) out=((VipsImage*) 0x14b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x14ca7d0) -
vips cache+: embed in=((VipsImage*) 0x14ca190) out=((VipsImage*) 0x14ca320) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14caaf0) left=0 top=768 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14cac80) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ca7d0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x14d6010) -
vips cache+: cast in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x14cae10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14cae10) out=((VipsImage*) 0x14d61a0) -
vips cache+: embed in=((VipsImage*) 0x14caaf0) out=((VipsImage*) 0x14ca4b0) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14d64c0) left=0 top=896 width=121 height=128 -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14d6330) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14ca960) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14ca960) out=((VipsImage*) 0x14d6970) -
vips cache+: cast in=((VipsImage*) 0x14ca960) out=((VipsImage*) 0x14d61a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x14d6b00) -
vips cache+: embed in=((VipsImage*) 0x14d64c0) out=((VipsImage*) 0x14d6650) x=10 y=20 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=255 255 0 255  -
vips cache+: embed in=((VipsImage*) 0x1488e30) out=((VipsImage*) 0x14d67e0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x149dca0) out=((VipsImage*) 0x14d6c90) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x14d6b00) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x14e9000) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14b81b0) out=((VipsImage*) 0x14e9190) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x14e932    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:84
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 63 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x14e97d0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x14e97d0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016960, 0xc00005fc30?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xffffc000063ec0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_EmbedBackground(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:84 +0x39
        	            	testing.tRunner(0xc00008b1e0, 0x6cb4a8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_EmbedBackground
--- FAIL: TestImage_GIF_Animated_EmbedBackground (0.00s)
=== RUN   TestImage_GIF_Animated_ExtractArea
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:96
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 64 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f950?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x15114c0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x15114c0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0000169b0, 0xc000136b60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0000c81a0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0xc000049f60?, {0x6a43ae, 0x1d}, 0x0?, 0x0?, 0xc000049f60?, 0x48ef57?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_ExtractArea(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:96 +0x39
        	            	testing.tRunner(0xc00008b380, 0x6cb4c8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_ExtractArea
--- FAIL: TestImage_GIF_Animated_ExtractArea (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:106
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 65 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x14e9af0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x14e9af0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016a00, 0xc000136b60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc000021fc0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82bae8?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:106 +0x4e
        	            	testing.tRunner(0xc00008b520, 0x6cb4d8)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay
--- FAIL: TestImage_GIF_Animated_PageDelay (0.00s)
=== RUN   TestImage_GIF_Animated_PageDelay2
2023/10/14 10:56:21 [govips.info] warning libvips already started
    image_golden_test.go:1124: 
        	Error Trace:	image_golden_test.go:1124
        	            				image_gif_test.go:122
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 67 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00005f940?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x14301b0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x14301b0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000016a50, 0xc000136b60?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc0000ee380?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1109 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenAnimatedTest(0x82bae8?, {0x6a43ae, 0x1d}, 0x4f2105?, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1123 +0x18c
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_GIF_Animated_PageDelay2(0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_gif_test.go:122 +0x4c
        	            	testing.tRunner(0xc00008b6c0, 0x6cb4d0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_GIF_Animated_PageDelay2
--- FAIL: TestImage_GIF_Animated_PageDelay2 (0.00s)
=== RUN   TestImage_PNG_64bit_OptimizeICCProfile
2023/10/14 10:56:21 [govips.info] warning libvips already started
0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14ca4b0) out=((VipsImage*) 0x14e94b0) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14d6650) out=((VipsImage*) 0x14e9640) x=0 y=0 width=200 height=250 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x14de890) out=((VipsImage*) 0x14d6e20) across=1 -
vips cache : copy in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x14e97d0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ba800, length = 18146 out=((VipsImage*) 0x14e9960) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x1468000) left=10 top=20 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14e9c80) left=10 top=148 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14e9e10) left=10 top=276 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14fe020) left=10 top=404 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14fe1b0) left=10 top=532 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14fe340) left=10 top=660 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14fe4d0) left=10 top=788 width=80 height=90 -
vips cache+: extract_area input=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x14fe660) left=10 top=916 width=80 height=90 -
vips cache+: embed in=((VipsImage*) 0x1468000) out=((VipsImage*) 0x14fe980) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14e9c80) out=((VipsImage*) 0x14feb10) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14e9e10) out=((VipsImage*) 0x14feca0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14fe020) out=((VipsImage*) 0x14fee30) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14fe1b0) out=((VipsImage*) 0x13de650) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14fe340) out=((VipsImage*) 0x1511010) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14fe4d0) out=((VipsImage*) 0x15111a0) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: embed in=((VipsImage*) 0x14fe660) out=((VipsImage*) 0x1511330) x=0 y=0 width=80 height=90 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x14fb2c0) out=((VipsImage*) 0x14fe7f0) across=1 -
vips cache : copy in=((VipsImage*) 0x14fe7f0) out=((VipsImage*) 0x15114c0) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000bf000, length = 18146 out=((VipsImage*) 0x14e9af0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c3800, length = 18146 out=((VipsImage*) 0x14301b0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 337976 out=((VipsImage*) 0x14304d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x1533eb0, length = 456 -
vips cache : copy in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x1511650) -
vips cache+: extract_band in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x1430340) band=0 n=3 -
vips cache : copy in=((VipsI2023/10/14 10:56:21 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_PNG_64bit_OptimizeICCProfile (0.15s)
=== RUN   TestImage_Resize_Downscale
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] residual reducev by 0.9
2023/10/14 10:56:22 [VIPS.info] reducev: 7 point mask
2023/10/14 10:56:22 [VIPS.info] reducev: using vector path
2023/10/14 10:56:22 [VIPS.info] residual reduceh by 0.9
2023/10/14 10:56:22 [VIPS.info] reduceh: 7 point mask
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale (0.03s)
=== RUN   TestImage_Resize_Upscale
2023/10/14 10:56:22 [govips.info] warning libvips already started
mage*) 0x14304d0) out=((VipsImage*) 0x1511970) -
vips cache+: extract_band in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x15117e0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x1533eb0, length = 456 -
vips cache+: cast in=((VipsImage*) 0x15117e0) out=((VipsImage*) 0x1511c90) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x1511b00) out=((VipsImage*) 0x153e020) -
vips cache : copy in=((VipsImage*) 0x1511c90) out=((VipsImage*) 0x153e1b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x1534aa0) out=((VipsImage*) 0x1511e20) -
vips cache+: icc_transform in=((VipsImage*) 0x14304d0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x1511e20) output-profile="/tmp/govips-921380458/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=16 -
vips cache+: cast in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x153e340) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache+: cast in=((VipsImage*) 0x153e340) out=((VipsImage*) 0x153e4d0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x153e4d0) out=((VipsImage*) 0x153e660) -
vips cache+: linecache in=((VipsImage*) 0x153eb10) out=((VipsImage*) 0x153ee30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x153eb10) out=((VipsImage*) 0x153eca0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1511e20) buffer=VIPS_TYPE_BLOB, data = 0x1586620, length = 389465 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000254000, length = 389465 out=((VipsImage*) 0x153e7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca000, length = 1259 out=((VipsImage*) 0x153e660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x153e660) out=((VipsImage*) 0x158f1a0) -
vips cache : copy in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x158f4c0) -
vips cache+: embed in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x158f650) x=0 y=3 width=100 height=107 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x158f330) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x158f330) out=((VipsImage*) 0x158fb00) -
vips cache+: embed in=((VipsImage*) 0x158fb00) out=((VipsImage*) 0x158fc90) x=3 y=0 width=107 height=90 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x158f330) out=((VipsImage*) 0x158f970) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x153e660) out=((VipsImage*) 0x158f010) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x158fe20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158fe20) out=((VipsImage*) 0x15b5020) -
vips cache+: linecache in=((VipsImage*) 0x15b54d0) out=((VipsImage*) 0x15b57f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15b54d0) out=((VipsImage*) 0x15b5660) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x15b5980) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x158f010) buffer=VIPS_TYPE_BLOB, data = 0x15c6760, length = 1175 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca500, length = 1175 out=((VipsImage*) 0x15b51b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data2023/10/14 10:56:22 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale (0.03s)
=== RUN   TestImage_Resize_Downscale_Alpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] residual reducev by 0.9
2023/10/14 10:56:22 [VIPS.info] reducev: 7 point mask
2023/10/14 10:56:22 [VIPS.info] residual reduceh by 0.9
2023/10/14 10:56:22 [VIPS.info] reduceh: 7 point mask
 = 0xc0001ba500, length = 1259 out=((VipsImage*) 0x15b5020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x15d2190) -
vips cache : copy in=((VipsImage*) 0x15d2190) out=((VipsImage*) 0x15d24b0) -
vips cache+: embed in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x15d2640) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x15d2960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2960) out=((VipsImage*) 0x15d2c80) -
vips cache+: linear in=((VipsImage*) 0x15d2960) out=((VipsImage*) 0x15d2af0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x15db020) -
vips cache+: cast in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x15d2e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x15db1b0) -
vips cache+: affine in=((VipsImage*) 0x15d2190) interpolate=((VipsInterpolateBicubic*) 0x1429050) out=((VipsImage*) 0x15d2320) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x15d2000) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x15db660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15db660) out=((VipsImage*) 0x15db7f0) -
vips cache+: linecache in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x15db980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x15b5e30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15b5e30) out=((VipsImage*) 0x15dbb10) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15d2000) buffer=VIPS_TYPE_BLOB, data = 0x15e5f40, length = 1266 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001baa00, length = 1266 out=((VipsImage*) 0x15db7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ee000, length = 12858 out=((VipsImage*) 0x7f1fd40051a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x7f1fd40054c0) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x7f1fd4005330) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fd4005330) out=((VipsImage*) 0x7f1fd4005650) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005650) out=((VipsImage*) 0x7f1fd4005970) -
vips cache+: embed in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x7f1fd4005b00) x=0 y=3 width=828 height=329 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7f1fd4005650) out=((VipsImage*) 0x7f1fd40057e0) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fd40057e0) out=((VipsImage*) 0x7f1fd401f010) -
vips cache+: embed in=((VipsImage*) 0x7f1fd401f010) out=((VipsImage*) 0x7f1fd401f1a0) x=3 y=0 width=835 height=290 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fd40057e0) out=((VipsImage*) 0x7f1fd4005e20) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fd4005330) out=((VipsImage*) 0x7f1fd4005010) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache : copy in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x149d1b0) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x149d660) -
vips cache : copy in=((VipsImage*) 0x149d660) out=((VipsImage*) 0x149d4d0) -
vips cache+: cast in=((VipsImage*) 0x2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Downscale_Alpha (0.07s)
=== RUN   TestImage_Resize_Upscale_Alpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] residual scale 1.1 x 1.1
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Resize_Upscale_Alpha (0.10s)
=== RUN   TestImage_Embed_ExtendWhite_Alpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
149d660) out=((VipsImage*) 0x149d340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((VipsImage*) 0x149d340) out=((VipsImage*) 0x7f1fd401f330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f4c0) out=((VipsImage*) 0x7f1fd401f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x7f1fd401fb00) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x7f1fd401f970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x149d340) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd409b210, length = 76731 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00036a000, length = 76731 out=((VipsImage*) 0x14ad020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f1500, length = 12858 out=((VipsImage*) 0x7f1fe8005190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe8005190) out=((VipsImage*) 0x7f1fe80054b0) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe8005190) out=((VipsImage*) 0x7f1fe8005320) max-alpha=255.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe8005320) out=((VipsImage*) 0x1468640) -
vips cache : copy in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x15db340) -
vips cache+: embed in=((VipsImage*) 0x15db340) out=((VipsImage*) 0x15db1b0) x=2 y=2 width=833 height=327 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x1475000) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x1488340) a=1  b=0  -
vips cache+: cast in=((VipsImage*) 0x1488340) out=((VipsImage*) 0x14881b0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14881b0) out=((VipsImage*) 0x14b8340) -
vips cache+: affine in=((VipsImage*) 0x1468640) interpolate=((VipsInterpolateBicubic*) 0x1429a80) out=((VipsImage*) 0x15d27d0) matrix=1.1 0 0 1.1  idx=0.500000 idy=0.500000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x7f1fe8005320) out=((VipsImage*) 0x7f1fe8005000) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=1.100000 -
vips cache : copy in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x1475320) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x14adb10) -
vips cache : copy in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14b8340) -
vips cache+: cast in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14ad340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: cast in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x14b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x14b84d0) -
vips cache+: cast in=((VipsImage*) 0x14b84d0) out=((VipsImage*) 0x14b8980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd401fe20) out=((VipsImage*) 0x13dee20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd401fe20) out=((VipsImage*) 0x7f1fc00081a0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14ad340) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe809b580, length = 78342 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a4000, length = 78342 out=((VipsImage*) 0x14b8b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001f4a00, length = 12858 out=((VipsImage*) 0x1430660) fla2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed_ExtendWhite_Alpha (0.08s)
=== RUN   TestImage_EmbedBackgroundRGBA_Alpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
gs=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x1430660) out=((VipsImage*) 0x1430ca0) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_WHITE) -
vips cache+: cast in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x14ca7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x14cac80) -
vips cache+: cast in=((VipsImage*) 0x14cac80) out=((VipsImage*) 0x14cae10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x14b8660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x14ca640) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1430ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe803b5c0, length = 29794 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000772000, length = 29794 out=((VipsImage*) 0x13deb00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x13deb00) out=((VipsImage*) 0x14d6010) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14d6010) out=((VipsImage*) 0x7f1fc0008e20) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x1430b10) -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x14307f0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x7f1fc00087e0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x7f1fc0008b00) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x13deb00) out-array=255 255 255 255  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003ca000, length = 12858 out=((VipsImage*) 0x7f1fc0008970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x143f340) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x13de7e0) a=1  b=238 238 238 50  -
vips cache : copy in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x143f020) -
vips cache+: cast in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x143f1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f1b0) out=((VipsImage*) 0x1430e30) -
vips cache+: embed in=((VipsImage*) 0x7f1fc0008970) out=((VipsImage*) 0x7f1fc0008330) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 50  -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x14e9320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14e9320) out=((VipsImage*) 0x14ca320) -
vips cache+: cast in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x14e9190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x14ca960) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x14d6970) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fc0008330) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8058a90, length = 29986 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 29986 out=((VipsImage*) 0x14e9640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x14d6650) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14d6650) out=((VipsImage*) 0x14e94b0) -
vips cache : copy in=((VipsImage*) 0x14e94b0) out=((VipsImage*) 0x14b82023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackgroundRGBA_Alpha (0.07s)
=== RUN   TestImage_EmbedBackground_Alpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_Alpha (0.08s)
=== RUN   TestImage_EmbedBackground_NoAlpha
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
1b0) -
vips cache+: cast in=((VipsImage*) 0x14e94b0) out=((VipsImage*) 0x14ca4b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x149dca0) out=((VipsImage*) 0x1488e30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x149dca0) out=((VipsImage*) 0x14d67e0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x14e9640) out-array=238 238 238 50  x=999 y=0 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003cd500, length = 12858 out=((VipsImage*) 0x14d6b00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x1430020) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x7f1fc00084c0) -
vips cache+: linear in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14d6e20) a=1  b=238 238 238 255  -
vips cache : copy in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x1430e30) -
vips cache+: cast in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x143fca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x143fb10) -
vips cache+: embed in=((VipsImage*) 0x14d6b00) out=((VipsImage*) 0x149de30) x=0 y=0 width=1000 height=500 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238 255  -
vips cache+: cast in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x143f7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f7f0) out=((VipsImage*) 0x143f660) -
vips cache+: cast in=((VipsImage*) 0x143f660) out=((VipsImage*) 0x14b8020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x1488980) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x143f4d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x149de30) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe80761b0, length = 29987 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001bc000, length = 29987 out=((VipsImage*) 0x143fb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x14e9af0) left=999 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x143f980) -
vips cache : copy in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x14fe1b0) -
vips cache+: cast in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x14301b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x14887f0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x1475af0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x143fb10) out-array=238 238 238 255  x=999 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002caa00, length = 1259 out=((VipsImage*) 0x14e9c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x15d2960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2960) out=((VipsImage*) 0x1475960) -
vips cache+: linear in=((VipsImage*) 0x15d2960) out=((VipsImage*) 0x14fe7f0) a=1  b=238  -
vips cache : copy in=((VipsImage*) 0x14fe7f0) out=((VipsImage*) 0x1475640) -
vips cache+: cast in=((VipsImage*) 0x14fe7f0) out=((VipsImage*) 0x1488660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14884d0) -
vips cache+: embed in=((VipsImage*) 0x14e9c80) out=((VipsImage*) 0x14fe980) x=0 y=0 width=500 height=300 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=238 238 238  -
vips cache+: cast in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x1488020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1488020) out=(2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_EmbedBackground_NoAlpha (0.06s)
=== RUN   TestImage_TransformICCProfile_RGB_No_Profile
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_No_Profile (0.06s)
=== RUN   TestImage_TransformICCProfile_RGB_Embedded
2023/10/14 10:56:22 [govips.info] warning libvips already started
(VipsImage*) 0x1430340) -
vips cache+: linecache in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x13de650) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x14fe340) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14fe340) out=((VipsImage*) 0x1511330) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14fe980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec017d80, length = 2267 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000120900, length = 2267 out=((VipsImage*) 0x1511650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x1511650) out=((VipsImage*) 0x14304d0) left=499 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x153e980) -
vips cache : copy in=((VipsImage*) 0x153e980) out=((VipsImage*) 0x153e340) -
vips cache+: cast in=((VipsImage*) 0x153e980) out=((VipsImage*) 0x1430340) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x1511970) out=((VipsImage*) 0x1511c90) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1511970) out=((VipsImage*) 0x153e1b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x153e020) left=0 top=0 width=500 height=300 -
vips cache+: getpoint in=((VipsImage*) 0x1511650) out-array=238 238 238  x=499 y=0 -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ba000, length = 1259 out=((VipsImage*) 0x158f330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec02ad00, length = 3048 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec02ad00, length = 3048 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec02ad00, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x158f330) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x158f7e0) output-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" embedded=FALSE input-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x158f7e0) out=((VipsImage*) 0x15b54d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15b54d0) out=((VipsImage*) 0x15b5980) -
vips cache+: linecache in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x153e7f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x15111a0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15111a0) out=((VipsImage*) 0x153ee30) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x158f7e0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec036e10, length = 4306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002d0000, length = 4306 out=((VipsImage*) 0x158f650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000400000, length = 1297581 out=((VipsImage*) 0x15d2af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec02ad00, length = 3048 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f12023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:22 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TransformICCProfile_RGB_Embedded (0.23s)
=== RUN   TestImage_OptimizeICCProfile_CMYK
2023/10/14 10:56:22 [govips.info] warning libvips already started
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_CMYK (0.23s)
=== RUN   TestImage_OptimizeICCProfile_RGB_No_Profile
2023/10/14 10:56:23 [govips.info] warning libvips already started
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
fec02ad00, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x15d2af0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x15d2c80) output-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: cast in=((VipsImage*) 0x15d2c80) out=((VipsImage*) 0x15d2e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x15d2640) -
vips cache+: linecache in=((VipsImage*) 0x153eca0) out=((VipsImage*) 0x15b5b10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x153eca0) out=((VipsImage*) 0x15b5020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x15db660) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15d2c80) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec7a98e0, length = 303700 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000200000, length = 303700 out=((VipsImage*) 0x15d24b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00053e000, length = 792059 out=((VipsImage*) 0x15d2640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="cmyk" profile=VIPS_TYPE_BLOB, data = 0x7f1fec1cb040, length = 961644 -
vips cache+: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x15d2640) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x15d2000) output-profile="/tmp/govips-921380458/srgb_v2_micro.icc" embedded=FALSE input-profile="cmyk" depth=8 -
vips cache+: cast in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x15d2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x15db4d0) -
vips cache+: linecache in=((VipsImage*) 0x15b5e30) out=((VipsImage*) 0x15b5ca0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15b5e30) out=((VipsImage*) 0x15db980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15db980) out=((VipsImage*) 0x15dbb10) left=0 top=0 width=1080 height=1080 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15d2000) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec142fc0, length = 36376 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000790000, length = 36376 out=((VipsImage*) 0x15db4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca000, length = 1259 out=((VipsImage*) 0x15db7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x15db7f0) out=((VipsImage*) 0x15d2190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2190) out=((VipsImage*) 0x7f1fd401f330) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x7f1fd401f1a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x7f1fd4005e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x7f1fd401fb00) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15db7f0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec150770, length--- PASS: TestImage_OptimizeICCProfile_RGB_No_Profile (0.04s)
=== RUN   TestImage_OptimizeICCProfile_RGB_Embedded
2023/10/14 10:56:23 [govips.info] warning libvips already started
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_RGB_Embedded (0.21s)
=== RUN   TestImageRef_PngToWebp_OptimizeICCProfile_Lossless
2023/10/14 10:56:23 [govips.info] warning libvips already started
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:23 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PngToWebp_OptimizeICCProfile_Lossless (3.61s)
=== RUN   TestImage_OptimizeICCProfile_Grey
2023/10/14 10:56:27 [govips.info] warning libvips already started
 = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ca500, length = 1240 out=((VipsImage*) 0x149d340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 1297581 out=((VipsImage*) 0x149d4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x149d4d0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x149d660) output-profile="/tmp/govips-921380458/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x149d660) out=((VipsImage*) 0x7f1fd401f330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd401f970) out=((VipsImage*) 0x7f1fd401f010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd401f970) out=((VipsImage*) 0x14ad020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fd40057e0) left=0 top=0 width=1900 height=1263 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x149d660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fecb30ec0, length = 301063 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00024c000, length = 301063 out=((VipsImage*) 0x7f1fd401f4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000984000, length = 1688166 out=((VipsImage*) 0x7f1fd4005650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache+: icc_transform in=((VipsImage*) 0x7f1fd4005650) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x7f1fd4005330) output-profile="/tmp/govips-921380458/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005330) out=((VipsImage*) 0x158f4c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x14ad340) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd4005b00) out=((VipsImage*) 0x1475000) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd4005b00) out=((VipsImage*) 0x1488340) tile-height=16 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec3a6330, length = 456 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f1fd4005330) buffer=VIPS_TYPE_BLOB, data = 0x7f1feca2dcf0, length = 1154020 Q=90 lossless=TRUE profile="/tmp/govips-921380458/srgb_v2_micro.icc" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000600000, length = 1154020 out=((VipsImage*) 0x14b8340) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a0000, length = 73046 out=((VipsImage*) 0x1475320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/g2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeICCProfile_Grey (0.07s)
=== RUN   TestImage_RemoveICCProfile
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_RemoveICCProfile (0.05s)
=== RUN   TestImage_RemoveMetadata_Removes_Exif
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:197
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_RemoveMetadata_Removes_Exif
--- FAIL: TestImage_RemoveMetadata_Removes_Exif (0.00s)
=== RUN   TestImage_SetExifField
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [govips.info] failed to understand image format size=1805222
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:213
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_SetExifField
--- FAIL: TestImage_SetExifField (0.00s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Orientation
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
ovips-921380458/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec9279c0, length = 336 -
vips cache*: profile_load name="/tmp/govips-921380458/sgray_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec9279c0, length = 336 -
vips cache+: icc_transform in=((VipsImage*) 0x1475320) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x14b8b10) output-profile="/tmp/govips-921380458/sgray_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache+: cast in=((VipsImage*) 0x14b8b10) out=((VipsImage*) 0x14ad340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x1430ca0) -
vips cache+: linecache in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x7f1fc00081a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x7f1fd401fe20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fd401fe20) out=((VipsImage*) 0x14b8660) left=0 top=0 width=640 height=416 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14b8b10) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec9be390, length = 56581 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b2000, length = 56581 out=((VipsImage*) 0x14cac80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00015a000, length = 1617 out=((VipsImage*) 0x14ca7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x14b84d0) -
vips cache+: cast in=((VipsImage*) 0x14b84d0) out=((VipsImage*) 0x14b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x1430ca0) -
vips cache+: linecache in=((VipsImage*) 0x14ca640) out=((VipsImage*) 0x15d27d0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14ca640) out=((VipsImage*) 0x7f1fe8005000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x14d6010) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14b84d0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec9c5b10, length = 1076 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00011c480, length = 1076 out=((VipsImage*) 0x1430660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 34855 out=((VipsImage*) 0x13dec90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x13de7e0) -
vips cache+: cast in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x143f340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f340) out=((VipsImage*) 0x143f1b0) -
vips cache+: linecache in=((VipsImage*) 0x14adca0) out=((VipsImage*) 0x7f1fc0008650) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14adca0) out=((VipsImage*) 0x15db1b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15db1b0) out=((VipsImage*) 0x14e9320) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13de7e0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec9a2f20, length = 28255 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001ba000, length = 2825--- PASS: TestImageRef_RemoveMetadata_Leave_Orientation (0.06s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Copyright
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Copyright (0.07s)
=== RUN   TestImageRef_Orientation_Issue
2023/10/14 10:56:27 [govips.info] warning libvips already started
2023/10/14 10:56:27 [VIPS.info] residual reducev by 0.9
2023/10/14 10:56:27 [VIPS.info] reducev: 7 point mask
2023/10/14 10:56:27 [VIPS.info] reducev: using vector path
2023/10/14 10:56:27 [VIPS.info] residual reduceh by 0.9
2023/10/14 10:56:27 [VIPS.info] reduceh: 7 point mask
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:27 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Orientation_Issue (1.88s)
=== RUN   TestImageRef_RemoveMetadata_Leave_Profile
2023/10/14 10:56:29 [govips.info] warning libvips already started
5 out=((VipsImage*) 0x1430ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007d0000, length = 62222 out=((VipsImage*) 0x14d6970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x143f1b0) -
vips cache+: cast in=((VipsImage*) 0x143f1b0) out=((VipsImage*) 0x143f020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x14cae10) -
vips cache+: linecache in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x14ca320) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x7f1fc0008e20) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x7f1fc0008330) left=0 top=0 width=1000 height=667 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143f1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec98a060, length = 19235 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007f0000, length = 19235 out=((VipsImage*) 0x14cae10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000df6000, length = 3103940 out=((VipsImage*) 0x13de1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x13de4c0) -
vips cache : copy in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x13de010) -
vips cache+: embed in=((VipsImage*) 0x13de010) out=((VipsImage*) 0x14d6c90) x=0 y=3 width=4032 height=3031 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x7f1fc0008010) vshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fc0008010) out=((VipsImage*) 0x149dca0) -
vips cache+: embed in=((VipsImage*) 0x149dca0) out=((VipsImage*) 0x1430980) x=3 y=0 width=4039 height=2722 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fc0008010) out=((VipsImage*) 0x1488e30) hshrink=1.111111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x13de330) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.900000 -
vips cache+: cast in=((VipsImage*) 0x13de330) out=((VipsImage*) 0x14d6e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x143f7f0) -
vips cache+: linecache in=((VipsImage*) 0x14ca000) out=((VipsImage*) 0x14b8020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14ca000) out=((VipsImage*) 0x14e9190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14e9190) out=((VipsImage*) 0x7f1fc00084c0) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x13de330) buffer=VIPS_TYPE_BLOB, data = 0x16d1db0, length = 412220 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00024c000, length = 412220 out=((VipsImage*) 0x149d4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000366000, length = 187806 out=((VipsImage*) 0x14ca320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x1430b10) -
vips cache+: cast in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x7f1fc0008330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x143f1b02023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_RemoveMetadata_Leave_Profile (0.06s)
=== RUN   TestImage_AutoRotate_0
2023/10/14 10:56:29 [govips.info] warning libvips already started
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
    image_golden_test.go:279: 
        	Error Trace:	image_golden_test.go:279
        	            				image_golden_test.go:966
        	            				image_golden_test.go:274
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 1
        	Test:       	TestImage_AutoRotate_0
--- FAIL: TestImage_AutoRotate_0 (0.15s)
=== RUN   TestImage_AutoRotate_1
2023/10/14 10:56:29 [govips.info] warning libvips already started
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_1 (0.18s)
=== RUN   TestImage_AutoRotate_5
2023/10/14 10:56:29 [govips.info] warning libvips already started
) -
vips cache+: linecache in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x14d61a0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x1488980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1488980) out=((VipsImage*) 0x143f4d0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1430b10) buffer=VIPS_TYPE_BLOB, data = 0x16a5aa0, length = 65299 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c0000, length = 65299 out=((VipsImage*) 0x7f1fc0008330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a4000, length = 135059 out=((VipsImage*) 0x14cae10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14cae10) out=((VipsImage*) 0x14d6e20) -
vips cache+: autorot in=((VipsImage*) 0x14cae10) out=((VipsImage*) 0x7f1fc0008e20) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x143f1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f1b0) out=((VipsImage*) 0x14d6970) -
vips cache+: cast in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x14307f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0008650) out=((VipsImage*) 0x14e9320) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0008650) out=((VipsImage*) 0x14adca0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fc0008e20) buffer=VIPS_TYPE_BLOB, data = 0x16ce190, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003c6000, length = 223227 out=((VipsImage*) 0x1430ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000436000, length = 459699 out=((VipsImage*) 0x143f020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x143f1b0) -
vips cache+: autorot in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x14d6970) angle=((VipsAngle) VIPS_ANGLE_D0) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x14307f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x13de7e0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x14ca640) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x15d27d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x15d27d0) out=((VipsImage*) 0x14d6010) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14d6970) buffer=VIPS_TYPE_BLOB, data = 0x21b2220, length = 534950 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0004a8000, length = 534950 out=((VipsImage*) 0x13dec90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a0000, length = 34855 out=((VipsImage*) 0x14fe020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x14fe020) out=((VipsImage*) 0x14adca0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: flip in=((VipsImage*) 0x14adca0) out=((VipsImage*) 0x14e9320) direction=((VipsDirection) VIPS_2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_5 (0.05s)
=== RUN   TestImage_AutoRotate_6
2023/10/14 10:56:29 [govips.info] warning libvips already started
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:29 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_AutoRotate_6 (0.45s)
=== RUN   TestImage_AutoRotate_6__jpeg_to_webp
2023/10/14 10:56:30 [govips.info] warning libvips already started
2023/10/14 10:56:30 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:30 [VIPS.info] threadpool completed with 1 workers
DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x14e9320) out=((VipsImage*) 0x7f1fc0008650) -
vips cache+: autorot in=((VipsImage*) 0x14fe020) out=((VipsImage*) 0x14feca0) angle=((VipsAngle) VIPS_ANGLE_D90) flip=TRUE -
vips cache+: cast in=((VipsImage*) 0x14feca0) out=((VipsImage*) 0x1430ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x1488980) -
vips cache+: linecache in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x143f1b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x13de970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x13de970) out=((VipsImage*) 0x143f020) left=0 top=0 width=308 height=231 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14feca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe80aa980, length = 28411 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000aa000, length = 28411 out=((VipsImage*) 0x14d61a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 2980637 out=((VipsImage*) 0x143fca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x1488980) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x1430ca0) -
vips cache+: autorot in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x7f1fc0008330) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x14d6c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6c90) out=((VipsImage*) 0x13de010) -
vips cache+: linecache in=((VipsImage*) 0x14d6010) out=((VipsImage*) 0x7f1fc00084c0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14d6010) out=((VipsImage*) 0x7f1fc0008970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc0008970) out=((VipsImage*) 0x14e9190) left=0 top=0 width=4032 height=3024 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fc0008330) buffer=VIPS_TYPE_BLOB, data = 0x7f1fea36a000, length = 782608 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005b0000, length = 782608 out=((VipsImage*) 0x13de4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000b1e000, length = 2980637 out=((VipsImage*) 0x13de1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x14ca000) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x14ca000) out=((VipsImage*) 0x149d4d0) -
vips cache+: autorot in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x13de010) angle=((VipsAngle) VIPS_ANGLE_D90) flip=FALSE -
vips cache+: cast in=((VipsImage*) 0x13de010) out=((VipsImage*) 0x15dbe30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x14d6970) -
vips cache+: linecache in=((VipsImage*) 0x15d27d0) out=((VipsImage*) 0x7f1fe8005000) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15d27d0) out=((VipsImage*) 0x14ca640) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14ca640) out=((VipsImage*) 0x13dec90) left=0 top=0 width=4032 height=3024 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*)--- PASS: TestImage_AutoRotate_6__jpeg_to_webp (1.81s)
=== RUN   TestImage_AutoRotate_6__heic_to_jpg
2023/10/14 10:56:31 [govips.info] warning libvips already started
2023/10/14 10:56:31 [govips.info] failed to understand image format size=1003078
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:329
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_AutoRotate_6__heic_to_jpg
--- FAIL: TestImage_AutoRotate_6__heic_to_jpg (0.00s)
=== RUN   TestImage_Export_AVIF_8_Bit
2023/10/14 10:56:31 [govips.info] warning libvips already started
2023/10/14 10:56:31 [govips.info] failed to understand image format size=503442
    image_golden_test.go:955: 
        	Error Trace:	image_golden_test.go:955
        	            				image_golden_test.go:341
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Export_AVIF_8_Bit
--- FAIL: TestImage_Export_AVIF_8_Bit (0.00s)
=== RUN   TestImage_TIF_16_Bit_To_AVIF_12_Bit
2023/10/14 10:56:31 [govips.info] warning libvips already started
2023/10/14 10:56:31 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:31 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:31 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:31 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
    image_golden_test.go:961: 
        	Error Trace:	image_golden_test.go:961
        	            				image_golden_test.go:353
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "heifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 163 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00020eba0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x14d6010, 0x0, 0xb, 0x0, 0x0, 0x50, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveAVIFToBuffer(0x14d6010, {0x0, 0x50, 0xc, 0x5, 0x0, 0x0})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:432 +0x198
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportAvif(0xc000016140, 0x97a120?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:980 +0xba
        	            	github.com/davidbyttow/govips/v2/vips.exportAvif.func1(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:917 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenTest(0xc0000225a0?, {0x6a2dfe, 0x1a}, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:960 +0x105
        	            	github.com/davidbyttow/govips/v2/vips.TestImage_TIF_16_Bit_To_AVIF_12_Bit(0xc000802680)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:353 +0x89
        	            	testing.tRunner(0xc000802680, 0x6cb728)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestImage_TIF_16_Bit_To_AVIF_12_Bit
--- FAIL: TestImage_TIF_16_Bit_To_AVIF_12_Bit (0.00s)
=== RUN   TestImage_Sharpen_24bit_Alpha
2023/10/14 10:56:31 [govips.info] warning libvips already started
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
 0x13de010) buffer=VIPS_TYPE_BLOB, data = 0x7f1fea3bb770, length = 192026 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000216000, length = 192026 out=((VipsImage*) 0x143fca0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000df6000, length = 4232628 out=((VipsImage*) 0x14d6010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 47948 out=((VipsImage*) 0x15dbe30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x13de4c0) -
vips cache+: cast in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x7f1fc0008970) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x7f1fc00084c0) -
vips cache : copy in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x14d6c90) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x14e9190) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x14d6970) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x14d61a0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x1430ca0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x13de970) -
vips cache : copy in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x143f1b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe80273e0) out=((VipsImage*) 0x1488980) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x1488980) -
vips cache : copy in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x143f020) -
vips cache+: extract_band in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x14ca7d0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x14ca320) -
vips cache+: extract_band in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x1430b10) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x7f1fc0008e20) -
vips cache+: cast in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x143f4d0) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x14cae10) -
vips cache : copy in=((VipsImage*) 0x143f4d0) out=((VipsImage*) 0x15db1b0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe8042b70) out=((VipsImage*) 0x14d6e20) -
vips cache+: Lab2LabS in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x14d6e20) -
vips cache+: colourspace in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x14ad980) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x149d020) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x149d7f0) -
vips cache+: extract_band in=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x149d980) band=0 -
vips cache : copy in=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x14ad660) -
vips cache+: extract_band in=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x14ad1b0) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x149d020) out=((VipsImage*) 0x7f1fd401f7e0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x14cac80) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x14cac80) out=((VipsImage*) 0x7f1fd401fe20) -
vips cache+: cast in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x7f1fc00081a0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x13dee20) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f7e0) out=((VipsImage*) 0x14b8660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x1475320) x=2 y=0 width=516 height=512 extend=((VipsExtend) VIPS_EXTEND_COPY2023/10/14 10:56:31 [VIPS.info] convi: using C path
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] convi: using C path
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
) -
vips cache+: cast in=((VipsImage*) 0x14b8b10) out=((VipsImage*) 0x14b8660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x13dee20) out=((VipsImage*) 0x14b8340) mask=((VipsImage*) 0x7f1fd401f7e0) -
vips cache+: conv in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x7f1fc00081a0) mask=((VipsImage*) 0x14b8ca0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x7f1fd401fe20) out=((VipsImage*) 0x14adb10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7f1fc00081a0) out=((VipsImage*) 0x14adb10) -
vips cache+: cast in=((VipsImage*) 0x14881b0) out=((VipsImage*) 0x1475000) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x1488340) x=0 y=2 width=512 height=516 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005b00) out=((VipsImage*) 0x7f1fd4005330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x1475000) mask=((VipsImage*) 0x14881b0) -
vips cache+: conv in=((VipsImage*) 0x7f1fc00081a0) out=((VipsImage*) 0x14b8660) mask=((VipsImage*) 0x7f1fd401fe20) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x14ad7f0) mask=((VipsImage*) 0x149d020) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005650) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache : copy in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x14ad020) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe8077430) out=((VipsImage*) 0x158f4c0) -
vips cache : copy in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x7f1fd401f330) -
vips cache+: extract_band in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x7f1fd401f010) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x7f1fd401f970) -
vips cache+: extract_band in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x149d340) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x149d340) out=((VipsImage*) 0x149d660) -
vips cache+: cast in=((VipsImage*) 0x149d340) out=((VipsImage*) 0x143f7f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f1fd40057e0) out=((VipsImage*) 0x7f1fd401f1a0) -
vips cache : copy in=((VipsImage*) 0x143f7f0) out=((VipsImage*) 0x7f1fd4005010) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe806d250) out=((VipsImage*) 0x7f1fd4005e20) -
vips cache+: LabS2Lab in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x7f1fd4005e20) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x15db7f0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x7f1fd401fb00) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x15d2190) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x149d1b0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x149d1b0) out=((VipsImage*) 0x15db980) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x15db4d0) out=((VipsImage*) 0x15b5e30) -
vips cache : copy in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x15dbb10) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe80c6930) out=((VipsImage*) 0x15b5ca0) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x15b5ca0) -
vips cache+: cast in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x15d2000) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x15d2640) -
vips cache+: cast in=((VipsImage*) 0x15d2640) out=((VipsImage*) 0x15db020) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x15d2640) out=((VipsImage*) 0x15d2320) -
vips cache+: colourspace in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x15d24b0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x7f1fd40052023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:31 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_24bit_Alpha (0.13s)
=== RUN   TestImage_Sharpen_8bit_Alpha
2023/10/14 10:56:32 [govips.info] warning libvips already started
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
c90) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005c90) out=((VipsImage*) 0x15b5020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x15b5b10) -
vips cache+: cast in=((VipsImage*) 0x15b5b10) out=((VipsImage*) 0x153eca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x15d2c80) out=((VipsImage*) 0x153eb10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15d2c80) out=((VipsImage*) 0x15d2af0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fd4005c90) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe811afd0, length = 37244 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000276000, length = 37244 out=((VipsImage*) 0x15b5020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000296000, length = 12858 out=((VipsImage*) 0x158f650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x15111a0) -
vips cache+: cast in=((VipsImage*) 0x15111a0) out=((VipsImage*) 0x153e7f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x15111a0) out=((VipsImage*) 0x15d2e10) -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x153ee30) -
vips cache+: extract_band in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x14e9960) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x158f330) -
vips cache+: extract_band in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x158f7e0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x158f7e0) out=((VipsImage*) 0x15b54d0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14fe660) out=((VipsImage*) 0x1430340) -
vips cache : copy in=((VipsImage*) 0x15b54d0) out=((VipsImage*) 0x153e340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb8013860) out=((VipsImage*) 0x1511e20) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x1511e20) -
vips cache : copy in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x14304d0) -
vips cache+: extract_band in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x153e980) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x15117e0) -
vips cache+: extract_band in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x1511650) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x1511650) out=((VipsImage*) 0x1511c90) -
vips cache+: cast in=((VipsImage*) 0x1511650) out=((VipsImage*) 0x153e1b0) format=((VipsBandFormat) VIPS_FORMAT_SHORT) -
vips cache : copy in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x14fe340) -
vips cache : copy in=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x13de650) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb801d640) out=((VipsImage*) 0x1511970) -
vips cache+: Lab2LabS in=((VipsImage*) 0x1511e20) out=((VipsImage*) 0x1511970) -
vips cache+: colourspace in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1511010) space=((VipsInterpretation) VIPS_INTERPRETATION_LABS) -
vips cache+: gaussmat out=((VipsImage*) 0x1511330) sigma=1.330000 min-ampl=0.100000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x14e9c80) -
vips cache+: extract_band in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x14fe980) band=0 -
vips cache : copy in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x1488020) -
vips cache+: extract_band in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x14fe4d0) band=1 n=3 -
vips cache+: cast in=((VipsImage*) 0x1511330) out=((VipsImage*) 0x14fe7f0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x1475960) out=((VipsImage*) 0x14fe7f0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x14fe7f0) out=((VipsImage*) 0x15d2960)2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] convi: using C path
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] convi: using C path
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
 -
vips cache+: cast in=((VipsImage*) 0x1475960) out=((VipsImage*) 0x1488660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x1488660) -
vips cache+: cast in=((VipsImage*) 0x14fee30) out=((VipsImage*) 0x14fe1b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14e9af0) x=2 y=0 width=832 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x143fb10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14fe1b0) mask=((VipsImage*) 0x14fee30) -
vips cache+: conv in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x14301b0) mask=((VipsImage*) 0x1475960) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x15d2960) out=((VipsImage*) 0x14e9e10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14d6330) -
vips cache+: cast in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x14e9e10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x14887f0) x=0 y=2 width=828 height=326 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x1475af0) out=((VipsImage*) 0x14feb10) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x14e9e10) mask=((VipsImage*) 0x149de30) -
vips cache+: conv in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14d6b00) mask=((VipsImage*) 0x15d2960) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x1475640) mask=((VipsImage*) 0x1511330) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache : copy in=((VipsImage*) 0x143f660) out=((VipsImage*) 0x7f1fc00087e0) -
vips cache : copy in=((VipsImage*) 0x14fe4d0) out=((VipsImage*) 0x7f1fc0008c90) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb80781a0) out=((VipsImage*) 0x7f1fc0008b00) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x1468640) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x15db340) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x7f1fe80054b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x7f1fe8005320) band=3 n=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe8005320) out=((VipsImage*) 0x14b8980) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8005320) out=((VipsImage*) 0x7f1fd401fc90) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005190) out=((VipsImage*) 0x7f1fd40054c0) -
vips cache : copy in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x7f1fd40051a0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb8082710) out=((VipsImage*) 0x7f1fd4005970) -
vips cache+: LabS2Lab in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x7f1fd4005970) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x7f1fd401f650) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x15dbca0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x15b51b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x15b5980) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x15b5980) out=((VipsImage*) 0x15b57f0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x158f970) -
vips cache : copy in=((VipsImage*) 0x15b57f0) out=((VipsImage*) 0x158fc90) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb808b520) out=((VipsImage*) 0x158f010) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x7f1fd4005970) out=((VipsImage*) 0x158f010) -
vips cache+: cast in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x158fb00) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((Vip2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Sharpen_8bit_Alpha (0.13s)
=== RUN   TestImage_Modulate
2023/10/14 10:56:32 [govips.info] warning libvips already started
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:32 [VIPS.info] threadpool completed with 1 workers
sImage*) 0x158f010) out=((VipsImage*) 0x158f1a0) -
vips cache+: cast in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x153e660) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x15b5340) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fc0008b00) out=((VipsImage*) 0x158fe20) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: sharpen in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1430e30) sigma=1.330000 x1=1.000000 m2=1.000000 -
vips cache+: cast in=((VipsImage*) 0x1430e30) out=((VipsImage*) 0x153e4d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x153e4d0) out=((VipsImage*) 0x1468000) -
vips cache+: cast in=((VipsImage*) 0x1468000) out=((VipsImage*) 0x1468c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x15114c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x14e97d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1430e30) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb81096b0, length = 36847 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002aa000, length = 36847 out=((VipsImage*) 0x14884d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000300000, length = 459699 out=((VipsImage*) 0x7f1fd4005c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x7f1fd4005c90) out=((VipsImage*) 0x15d24b0) -
vips cache+: cast in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x15d2320) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x15db020) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x15db020) out=((VipsImage*) 0x14d6010) -
vips cache+: Lab2LCh in=((VipsImage*) 0x14d6010) out=((VipsImage*) 0x15d2640) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fd4005c90) out=((VipsImage*) 0x15d2000) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x7f1fd401fb00) -
vips cache+: linear in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x15b5ca0) a=0.7 0.5 1  b=0 0 180  -
vips cache+: LCh2Lab in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x15db7f0) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x15db7f0) out=((VipsImage*) 0x7f1fd4005e20) -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x7f1fd401f010) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x7f1fd4005e20) out=((VipsImage*) 0x7f1fd401f330) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x158f4c0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x14ad020) -
vips cache+: colourspace in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x14ad1b0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x14ad660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ad660) out=((VipsImage*) 0x14ad980) -
vips cache+: linecache in=((VipsImage*) 0x14e9190) out=((VipsImage*) 0x7f1fc00084c0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9190) out=((VipsImage*) 0x14d6c90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14d6c90) out=((VipsImage*) 0x7f1fc0008970) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14ad1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb8c59b00, length = 498641 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips ca--- PASS: TestImage_Modulate (0.88s)
=== RUN   TestImage_Modulate_Alpha
2023/10/14 10:56:33 [govips.info] warning libvips already started
che+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a4000, length = 498641 out=((VipsImage*) 0x14d6e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ba000, length = 47948 out=((VipsImage*) 0x143f020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2scRGB in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x14ca7d0) -
vips cache+: cast in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x14ad980) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2XYZ in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x15d2af0) -
vips cache : copy in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x15d2c80) -
vips cache+: extract_band in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x153eb10) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x14d6970) -
vips cache+: extract_band in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x14d61a0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x1430ca0) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x143f1b0) out=((VipsImage*) 0x7f1fc0008330) -
vips cache : copy in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x1430b10) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb8024ee0) out=((VipsImage*) 0x13de970) -
vips cache+: XYZ2Lab in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x13de970) -
vips cache : copy in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x15db1b0) -
vips cache+: extract_band in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x14ca320) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x7f1fc0008e20) -
vips cache+: extract_band in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x143f4d0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x143f4d0) out=((VipsImage*) 0x1430020) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x14cae10) out=((VipsImage*) 0x7f1fd4005650) -
vips cache : copy in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x149d340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb802db80) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache+: Lab2LCh in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache+: colourspace in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x7f1fd401f970) space=((VipsInterpretation) VIPS_INTERPRETATION_LCH) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f970) out=((VipsImage*) 0x143f7f0) -
vips cache+: linear in=((VipsImage*) 0x7f1fd401f970) out=((VipsImage*) 0x7f1fd4005010) a=1.1 1.2 1 1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x7f1fd401f1a0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x149d660) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x149d1b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x7f1fd40057e0) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x7f1fd40057e0) out=((VipsImage*) 0x15dbb10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x15d2190) out=((VipsImage*) 0x15b5e30) -
vips cache : copy in=((VipsImage*) 0x15dbb10) out=((VipsImage*) 0x15db4d0) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb8039b30) out=((VipsImage*) 0x15db980) -
vips cache+: LCh2Lab in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x15db980) -
vips cache : copy in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x14b8660) -
vips cache+: extract_band in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x14ad7f0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x7f1fd4005b00) -
vips cache+: extract_band in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x1475000) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x1488340) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005330) out=((VipsImage*) 0x7f1fc00081a0) -
vips cache : copy in=((VipsImage*) 0x1488340) out=((VipsImage*) 0x14b8340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x72023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Modulate_Alpha (0.14s)
=== RUN   TestImage_ModulateHSV
2023/10/14 10:56:33 [govips.info] warning libvips already started
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV (0.35s)
=== RUN   TestImage_ModulateHSV_Alpha
2023/10/14 10:56:33 [govips.info] warning libvips already started
f1fb8042810) out=((VipsImage*) 0x14adb10) -
vips cache+: Lab2XYZ in=((VipsImage*) 0x15db980) out=((VipsImage*) 0x14adb10) -
vips cache+: cast in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14b8b10) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: XYZ2scRGB in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14ad340) -
vips cache+: cast in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x1475320) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache+: scRGB2sRGB in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x13dee20) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x149d980) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x149d7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x7f1fd401f7e0) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f7e0) out=((VipsImage*) 0x14b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x14881b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15dbe30) out=((VipsImage*) 0x15db660) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x149d980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb80578c0, length = 30309 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000c6000, length = 30309 out=((VipsImage*) 0x158fe20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000498000, length = 459699 out=((VipsImage*) 0x1430980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: sRGB2HSV in=((VipsImage*) 0x1430980) out=((VipsImage*) 0x149dca0) -
vips cache+: colourspace in=((VipsImage*) 0x1430980) out=((VipsImage*) 0x7f1fc0008010) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008010) out=((VipsImage*) 0x13de330) -
vips cache+: linear in=((VipsImage*) 0x7f1fc0008010) out=((VipsImage*) 0x14d67e0) a=1 0.5 0.7  b=180 0 0  -
vips cache : copy in=((VipsImage*) 0x14d67e0) out=((VipsImage*) 0x158f1a0) -
vips cache+: cast in=((VipsImage*) 0x14d67e0) out=((VipsImage*) 0x1488e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x14d67e0) out=((VipsImage*) 0x158fb00) -
vips cache+: colourspace in=((VipsImage*) 0x14d67e0) out=((VipsImage*) 0x158f010) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x15dbca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15dbca0) out=((VipsImage*) 0x7f1fd401f650) -
vips cache+: linecache in=((VipsImage*) 0x14cac80) out=((VipsImage*) 0x7f1fc0008b00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14cac80) out=((VipsImage*) 0x149d020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x149d020) out=((VipsImage*) 0x7f1fc0008c90) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x158f010) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd4c1d200, length = 487713 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050a000, length = 487713 out=((VipsImage*) 0x7f1fd4005970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000246000, length = 47948 out=((VipsImage*) 0x1468640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x7f1fd401f650) -
vips cache+: extract_band in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x15db3402023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ModulateHSV_Alpha (0.07s)
=== RUN   TestImage_ExtractArea
2023/10/14 10:56:33 [govips.info] warning libvips already started
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x1511970) -
vips cache+: extract_band in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x1511010) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x14304d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x153e980) out=((VipsImage*) 0x14e9960) -
vips cache : copy in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x153ee30) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fd405ef80) out=((VipsImage*) 0x1511e20) -
vips cache+: sRGB2HSV in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x1511e20) -
vips cache+: colourspace in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x15d2e10) space=((VipsInterpretation) VIPS_INTERPRETATION_HSV) -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x15111a0) -
vips cache+: linear in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x153e7f0) a=1 1.2 1.1 1  b=120 0 0 0  -
vips cache : copy in=((VipsImage*) 0x153e7f0) out=((VipsImage*) 0x1475c80) -
vips cache+: cast in=((VipsImage*) 0x153e7f0) out=((VipsImage*) 0x158f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x15114c0) -
vips cache+: extract_band in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x14e97d0) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x158f7e0) -
vips cache+: extract_band in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1468320) band=3 n=1 -
vips cache+: cast in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x153e340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158f330) out=((VipsImage*) 0x1430340) -
vips cache : copy in=((VipsImage*) 0x153e340) out=((VipsImage*) 0x14fe660) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fd406cf40) out=((VipsImage*) 0x15b54d0) -
vips cache+: HSV2sRGB in=((VipsImage*) 0x153e7f0) out=((VipsImage*) 0x15b54d0) -
vips cache+: colourspace in=((VipsImage*) 0x153e7f0) out=((VipsImage*) 0x1511650) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: cast in=((VipsImage*) 0x1511650) out=((VipsImage*) 0x15117e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15117e0) out=((VipsImage*) 0x13de650) -
vips cache+: cast in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x153e1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1488020) out=((VipsImage*) 0x143f660) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1488020) out=((VipsImage*) 0x7f1fc00087e0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1511650) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd40be500, length = 29034 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ec000, length = 29034 out=((VipsImage*) 0x14fe340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005fa000, length = 459699 out=((VipsImage*) 0x153e020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x153e020) out=((VipsImage*) 0x1511c90) left=10 top=20 width=200 height=100 -
vips cache+: cast in=((VipsImage*) 0x1511c90) out=((VipsImage*) 0x7f1fd40051a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x7f1fd401fc90) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe80054b0) out=((VipsImage*) 0x15b5980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe80054b0) out=((VipsImage*) 0x7f1fe8005190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe8005190) out=((VipsImage*) 0x15b51b0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1511c90) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd40be500, length = 24521 Q=80 optimize---- PASS: TestImage_ExtractArea (0.09s)
=== RUN   TestImage_Rotate
2023/10/14 10:56:33 [govips.info] warning libvips already started
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rotate (0.22s)
=== RUN   TestImageRef_Linear1
2023/10/14 10:56:33 [govips.info] warning libvips already started
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:33 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Linear1 (0.13s)
=== RUN   TestImageRef_Linear_Alpha
2023/10/14 10:56:34 [govips.info] warning libvips already started
coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000154000, length = 24521 out=((VipsImage*) 0x14b8980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00066c000, length = 459699 out=((VipsImage*) 0x15b57f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: rot in=((VipsImage*) 0x15b57f0) out=((VipsImage*) 0x158f970) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache+: cast in=((VipsImage*) 0x158f970) out=((VipsImage*) 0x15b5660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x1475640) -
vips cache+: linecache in=((VipsImage*) 0x14d6b00) out=((VipsImage*) 0x1475af0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14d6b00) out=((VipsImage*) 0x14e9e10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14e9e10) out=((VipsImage*) 0x14feb10) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x158f970) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0bfa460, length = 540705 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 540705 out=((VipsImage*) 0x1475640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000372000, length = 135059 out=((VipsImage*) 0x14d6330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x14fe1b0) -
vips cache+: linear in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x14301b0) a=3  b=4  -
vips cache : copy in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x143f980) -
vips cache+: cast in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14887f0) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x143fb10) -
vips cache : copy in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x1488660) -
vips cache+: cast in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x14e9af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14e9c80) out=((VipsImage*) 0x1475960) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9c80) out=((VipsImage*) 0x14fee30) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14301b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0052600, length = 100896 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006de000, length = 100896 out=((VipsImage*) 0x143f980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000712000, length = 47948 out=((VipsImage*) 0x1488660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14887f0) -
vips cache+: linear in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14e9af0) a=1.1 1.2 1.3 1.4  b=1 2 3 4  -
vips cache : copy in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fd401f7e0) -
vips cache+: cast in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x143fb10) format=((VipsBandFormat) VIPS_FORMAT_USHORT) -
vips cache : copy in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x149d7f0) -
vips cache : copy in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x14ad660) -
vips cache+: cast in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x14b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x151172023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Linear_Alpha (0.06s)
=== RUN   TestImage_Zoom
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Zoom (0.05s)
=== RUN   TestImage_Thumbnail_NoCrop
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] selected loader is image source
2023/10/14 10:56:34 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:34 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:34 [VIPS.info] residual reducev by 0.0503497
2023/10/14 10:56:34 [VIPS.info] shrinkv by 10
2023/10/14 10:56:34 [VIPS.info] reducev: 13 point mask
2023/10/14 10:56:34 [VIPS.info] reducev: using vector path
2023/10/14 10:56:34 [VIPS.info] residual reduceh by 0.0503497
2023/10/14 10:56:34 [VIPS.info] shrinkh by 9
2023/10/14 10:56:34 [VIPS.info] reduceh: 15 point mask
e0) out=((VipsImage*) 0x15dbca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15117e0) out=((VipsImage*) 0x153e1b0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14e9af0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0060e10, length = 27690 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00071e000, length = 27690 out=((VipsImage*) 0x7f1fd401f7e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fe000, length = 1259 out=((VipsImage*) 0x7f1fd40054c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: zoom input=((VipsImage*) 0x7f1fd40054c0) out=((VipsImage*) 0x7f1fd401fc90) xfac=2 yfac=3 -
vips cache+: cast in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x149de30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x15d2960) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x13de010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x14884d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14884d0) out=((VipsImage*) 0x149d4d0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fd401fc90) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd40b7460, length = 2460 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000152a80, length = 2460 out=((VipsImage*) 0x14fe7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000952000, length = 187806 out=((VipsImage*) 0x14b8ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x143fb10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x14ad660) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x14ad660) out=((VipsImage*) 0x149d7f0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x14b8020) -
vips cache+: embed in=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x7f1fe8005000) x=0 y=0 width=715 height=490 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x14ca640) vshrink=10 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x14ca640) out=((VipsImage*) 0x153e4d0) -
vips cache+: embed in=((VipsImage*) 0x153e4d0) out=((VipsImage*) 0x1468c80) x=0 y=6 width=715 height=62 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x13dec90) vshrink=1.986111 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x15b5020) x=0 y=0 width=724 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x1430660) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x1430660) out=((VipsImage*) 0x7f1fe8005640) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8005640) out=((VipsImage*) 0x7f1fe80057d0) x=7 y=0 width=95 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x143fca0) hshrink=2.206790 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x149d7f0) out=((VipsImage*) 0x13de1a0) vscale=0.050350 scale=0.050350 -
vips cache : thumbnail_image in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x7f1fe8005960) width=36 height=36 2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoCrop (0.05s)
=== RUN   TestImage_Thumbnail_NoUpscale
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] selected loader is image source
2023/10/14 10:56:34 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:34 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_NoUpscale (0.06s)
=== RUN   TestImage_Thumbnail_CropCentered
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] selected loader is image source
2023/10/14 10:56:34 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:34 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 10:56:34 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:34 [VIPS.info] residual reducev by 0.0517598
2023/10/14 10:56:34 [VIPS.info] shrinkv by 9
size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8005960) out=((VipsImage*) 0x7f1fe8005af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005af0) out=((VipsImage*) 0x7f1fe8005c80) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00bf340) out=((VipsImage*) 0x7f1fe00bf660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00bf340) out=((VipsImage*) 0x7f1fe00bf4d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe00bf4d0) out=((VipsImage*) 0x7f1fe00bf7f0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe8005960) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe00d3a60, length = 22541 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00076e000, length = 22541 out=((VipsImage*) 0x7f1fe8005e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000986000, length = 187806 out=((VipsImage*) 0x7f1fe00bf020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00bf020) out=((VipsImage*) 0x7f1fe8005c80) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00bf020) out=((VipsImage*) 0x7f1fe00bf1b0) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe00bf1b0) out=((VipsImage*) 0x7f1fe8005af0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005af0) out=((VipsImage*) 0x7f1fe00bfb10) -
vips cache+: resize in=((VipsImage*) 0x7f1fe8005af0) out=((VipsImage*) 0x7f1fe00bf980) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_image in=((VipsImage*) 0x7f1fe00bf020) out=((VipsImage*) 0x7f1fe00bfca0) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe00bfe30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bfe30) out=((VipsImage*) 0x7f1fe00fc020) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00fc7f0) out=((VipsImage*) 0x7f1fe00fcb10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00fc7f0) out=((VipsImage*) 0x7f1fe00fc980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe00fc980) out=((VipsImage*) 0x7f1fe00fcca0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe00bfca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01d9e30, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009b4000, length = 86168 out=((VipsImage*) 0x7f1fe00fc1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a00000, length = 187806 out=((VipsImage*) 0x7f1fe00fc340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00fc340) out=((VipsImage*) 0x7f1fe00fc020) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00fc340) out=((VipsImage*) 0x7f1fe00fc4d0) tile-height=16 -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe00fc4d0) out=((VipsImage*) 0x7f1fe00bfe30) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bfe30) out=((VipsImage*) 0x7f1fd40054c0) -
vips cache+: embed in=((VipsImage*) 0x7f1fd40054c0) out=((VipsImage*) 0x153e340) x=0 y=0 wi2023/10/14 10:56:34 [VIPS.info] reducev: 13 point mask
2023/10/14 10:56:34 [VIPS.info] reducev: using vector path
2023/10/14 10:56:34 [VIPS.info] residual reduceh by 0.0517598
2023/10/14 10:56:34 [VIPS.info] shrinkh by 9
2023/10/14 10:56:34 [VIPS.info] reduceh: 13 point mask
2023/10/14 10:56:34 [VIPS.info] cropping to 25x25
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Thumbnail_CropCentered (0.06s)
=== RUN   TestImage_ResizeWithVScale
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] residual scale 1.1 x 1.2
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
dth=715 height=486 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x7f1fd40054c0) out=((VipsImage*) 0x149d4d0) vshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x149d4d0) out=((VipsImage*) 0x158f330) -
vips cache+: embed in=((VipsImage*) 0x158f330) out=((VipsImage*) 0x14fe340) x=0 y=6 width=715 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x7f1fd40054c0) out=((VipsImage*) 0x15b5660) vshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x1511e20) x=0 y=0 width=724 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x15d2e10) hshrink=9 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x15d2e10) out=((VipsImage*) 0x14cac80) -
vips cache+: embed in=((VipsImage*) 0x14cac80) out=((VipsImage*) 0x7f1fd4005970) x=6 y=0 width=93 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x15b5660) out=((VipsImage*) 0x15111a0) hshrink=2.146667 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe00bfe30) out=((VipsImage*) 0x7f1fd401fc90) vscale=0.051760 scale=0.051760 -
vips cache+: linecache in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x14feb10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x1475e10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1475e10) out=((VipsImage*) 0x14e9e10) left=0 top=0 width=715 height=483 -
vips cache+: extract_area input=((VipsImage*) 0x1511650) out=((VipsImage*) 0x149d340) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x1511650) attention-x=0 out=((VipsImage*) 0x15b54d0) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_image in=((VipsImage*) 0x7f1fe00fc340) out=((VipsImage*) 0x1430020) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x1430020) out=((VipsImage*) 0x7f1fd4005650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005650) out=((VipsImage*) 0x14cae10) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1430020) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe00eef60, length = 22544 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009ce000, length = 22544 out=((VipsImage*) 0x14cae10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fe500, length = 1259 out=((VipsImage*) 0x15db7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x15db7f0) out=((VipsImage*) 0x7f1fd401fb00) -
vips cache : copy in=((VipsImage*) 0x7f1fd401fb00) out=((VipsImage*) 0x15d2640) -
vips cache+: embed in=((VipsImage*) 0x15d2640) out=((VipsImage*) 0x14d6010) x=2 y=2 width=105 height=105 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cache+: black out=((VipsImage*) 0x15d2320) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fd4005c90) -
vips cache+: linear in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x15d24b0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x7f1fc0008970) -
vips cache+: cast in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x1488980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x14d6c90) -
vips cache+: affine in=((VipsImage*) 0x7f1fd401fb00) interpolate=((VipsInterpolateBicubic*) 0x7f1fe8012540) out=((VipsImage*) 0x15d2000) matrix=1.1 0 0 1.2  idx=0.500000 idy=0.500000 premultiplied=TRUE ext2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ResizeWithVScale (0.05s)
=== RUN   TestImage_Add
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [govips.info] failed to understand image format size=293608
    image_golden_test.go:506: 
        	Error Trace:	image_golden_test.go:506
        	            				image_golden_test.go:957
        	            				image_golden_test.go:503
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Add
--- FAIL: TestImage_Add (0.00s)
=== RUN   TestImage_Multiply
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [govips.info] failed to understand image format size=293608
    image_golden_test.go:520: 
        	Error Trace:	image_golden_test.go:520
        	            				image_golden_test.go:957
        	            				image_golden_test.go:517
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImage_Multiply
--- FAIL: TestImage_Multiply (0.00s)
=== RUN   TestImageRef_Divide
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [govips.info] failed to understand image format size=293608
    image_golden_test.go:534: 
        	Error Trace:	image_golden_test.go:534
        	            				image_golden_test.go:957
        	            				image_golden_test.go:531
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide
--- FAIL: TestImageRef_Divide (0.00s)
=== RUN   TestImage_GaussianBlur
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] gaussblur mask width 37
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] convi: using vector path
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] convi: using vector path
end=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x15db7f0) out=((VipsImage*) 0x15b5ca0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) vscale=1.200000 scale=1.100000 -
vips cache+: cast in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x14d6e20) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x15db020) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0343000) out=((VipsImage*) 0x149d980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0343000) out=((VipsImage*) 0x7f1fc0343190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc0343190) out=((VipsImage*) 0x13dee20) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15b5ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0042fd0, length = 1306 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a6000, length = 1306 out=((VipsImage*) 0x7f1fc00084c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8000, length = 1259 out=((VipsImage*) 0x14d6c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8500, length = 1259 out=((VipsImage*) 0x15db020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8a00, length = 1259 out=((VipsImage*) 0x14b8b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b8f00, length = 1259 out=((VipsImage*) 0x14adb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gaussmat out=((VipsImage*) 0x14ad7f0) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: cast in=((VipsImage*) 0x14ad7f0) out=((VipsImage*) 0x15db980) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x149d660) out=((VipsImage*) 0x7f1fd401f1a0) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f1a0) out=((VipsImage*) 0x7f1fd4005010) -
vips cache+: cast in=((VipsImage*) 0x149d660) out=((VipsImage*) 0x143f7f0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14ca320) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f970) out=((VipsImage*) 0x15db1b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x153eb10) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x13de970) out=((VipsImage*) 0x15d2c80) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x14ad980) mask=((VipsImage*) 0x7f1fd401f970) -
vips cache+: conv in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x7f1fd401f4c0) mask=((VipsImage*) 0x149d660) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x14ca7d0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f4c0) out=((VipsImage*) 0x13de4c0) -
vips cache+: cast in=((VipsImage*) 0x143f020) out=((VipsImage*) 0x15db660) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x15dbe30) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x14881b0) out=((VipsImage*) 0x14d61a0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x1430b10) mask=((VipsImage*) 0x143f020) -
vips cache+: conv in=((VipsIm2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] gaussblur mask width 37
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] convi: using vector path
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] convi: using vector path
age*) 0x7f1fd401f4c0) out=((VipsImage*) 0x15d2af0) mask=((VipsImage*) 0x7f1fd4005010) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x14b8660) mask=((VipsImage*) 0x14ad7f0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache+: gaussblur in=((VipsImage*) 0x14adb10) out=((VipsImage*) 0x1430ca0) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x14d6970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x7f1fc0008330) -
vips cache+: linecache in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x149d1b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x7f1fd40057e0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fd40057e0) out=((VipsImage*) 0x15db4d0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1430ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01af310, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020a000, length = 865 out=((VipsImage*) 0x143f1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b9400, length = 1259 out=((VipsImage*) 0x1511330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: gaussmat out=((VipsImage*) 0x14ad7f0) sigma=10.500000 min-ampl=0.200000 separable=TRUE precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
vips cache*: cast in=((VipsImage*) 0x14ad7f0) out=((VipsImage*) 0x15db980) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: rot in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x15b5e30) angle=((VipsAngle) VIPS_ANGLE_D90) -
vips cache : copy in=((VipsImage*) 0x15b5e30) out=((VipsImage*) 0x15d2190) -
vips cache+: cast in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x1475000) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x1511330) out=((VipsImage*) 0x1488340) -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005b00) out=((VipsImage*) 0x7f1fc00081a0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x1488340) out=((VipsImage*) 0x158fe20) x=18 y=0 width=136 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x7f1fd4005330) out=((VipsImage*) 0x1511c90) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x1488340) out=((VipsImage*) 0x7f1fe8005320) mask=((VipsImage*) 0x7f1fd4005b00) -
vips cache+: conv in=((VipsImage*) 0x1511330) out=((VipsImage*) 0x14b8340) mask=((VipsImage*) 0x149de30) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: cast in=((VipsImage*) 0x15d2190) out=((VipsImage*) 0x153e020) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache : copy in=((VipsImage*) 0x14b8340) out=((VipsImage*) 0x15b5980) -
vips cache+: cast in=((VipsImage*) 0x15b51b0) out=((VipsImage*) 0x7f1fe80054b0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: embed in=((VipsImage*) 0x15b5980) out=((VipsImage*) 0x158f970) x=0 y=18 width=100 height=136 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: cast in=((VipsImage*) 0x14b8980) out=((VipsImage*) 0x15b57f0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: convi in=((VipsImage*) 0x15b5980) out=((VipsImage*) 0x158fc90) mask=((VipsImage*) 0x15b51b0) -
vips cache+: conv in=((VipsImage*) 0x14b8340) out=((VipsImage*) 0x7f1fe8005190) mask=((VipsImage*) 0x15d2190) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) layers=5 cluster=1 -
vips cache+: convsep in=((VipsImage*) 0x1511330) out=((VipsImage*) 0x15d2960) mask=((VipsImage*) 0x14ad7f0) precision=((VipsPrecision) VIPS_PRECISION_INTEGER) -
v2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GaussianBlur (0.11s)
=== RUN   TestImage_BandJoinConst
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_BandJoinConst (0.05s)
=== RUN   TestImage_SmartCrop
2023/10/14 10:56:34 [govips.info] warning libvips already started
ips cache+: gaussblur in=((VipsImage*) 0x1511330) out=((VipsImage*) 0x1475640) min-ampl=0.200000 sigma=10.500000 -
vips cache+: cast in=((VipsImage*) 0x1475640) out=((VipsImage*) 0x14301b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14fe1b0) -
vips cache+: linecache in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x1475960) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x14fee30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14fee30) out=((VipsImage*) 0x14e9c80) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1475640) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd4102680, length = 865 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00020a700, length = 865 out=((VipsImage*) 0x14d6330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fea00, length = 1259 out=((VipsImage*) 0x14fe1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x14e9af0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x1488660) -
vips cache+: linear in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x14887f0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x153e1b0) -
vips cache+: cast in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x13de650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x15dbca0) -
vips cache : copy in=((VipsImage*) 0x14fe1b0) out=((VipsImage*) 0x15117e0) -
vips cache+: bandjoin_const in=((VipsImage*) 0x14fe1b0) out=((VipsImage*) 0x143f980) c=255  -
vips cache : copy in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x7f1fd401f7e0) -
vips cache+: flatten in=((VipsImage*) 0x143f980) background=0  out=((VipsImage*) 0x15dbca0) -
vips cache+: cast in=((VipsImage*) 0x15dbca0) out=((VipsImage*) 0x7f1fe00bf980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf980) out=((VipsImage*) 0x7f1fe00bfb10) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00bf1b0) out=((VipsImage*) 0x7f1fe00bf020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00bf1b0) out=((VipsImage*) 0x7f1fe8005c80) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe8005c80) out=((VipsImage*) 0x7f1fe00fc660) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143f980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd411dec0, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fef00, length = 1240 out=((VipsImage*) 0x7f1fe00bfb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000222000, length = 1259 out=((VipsImage*) 0x7f1fe00fc7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe00fc7f0) out=((VipsImage*) 0x7f1fe8005960) left=20 top=10 width=60 height=80 -
vips cache+: smartcrop input=((VipsImage*) 0x7f1fe00fc7f0) attention-x=0 out=((VipsImage*) 0x7f1fe00fc1b0) attention-y=0 width=60 height=80 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe00fc1b0) out=((VipsImage*) 0x13de1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x143fca0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00fc9802023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SmartCrop (0.05s)
=== RUN   TestImage_Replicate
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Replicate (0.05s)
=== RUN   TestImage_DrawRect
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
) out=((VipsImage*) 0x15b5020) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00fc980) out=((VipsImage*) 0x7f1fe00fcb10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe00fcb10) out=((VipsImage*) 0x13dec90) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe00fc1b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd41306f0, length = 1195 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000222500, length = 1195 out=((VipsImage*) 0x7f1fe80057d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b0500, length = 1259 out=((VipsImage*) 0x7f1fe8005640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: replicate in=((VipsImage*) 0x7f1fe8005640) out=((VipsImage*) 0x1430660) across=3 down=2 -
vips cache+: cast in=((VipsImage*) 0x1430660) out=((VipsImage*) 0x143fca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x153e4d0) -
vips cache+: linecache in=((VipsImage*) 0x1468c80) out=((VipsImage*) 0x149d7f0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1468c80) out=((VipsImage*) 0x14b8020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x14ad660) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1430660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd4141e90, length = 3426 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007c4000, length = 3426 out=((VipsImage*) 0x14ca640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b0a00, length = 1259 out=((VipsImage*) 0x143f4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x14d6b00) out=((VipsImage*) 0x14ca000) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14d6b00) out=((VipsImage*) 0x14b8ca0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x7f1fe00bf7f0) left=0 top=0 width=100 height=100 -
vips cache*: black out=((VipsImage*) 0x15d2320) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe00bf660) -
vips cache+: linear in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fc0008330) a=1  b=255 255 0  -
vips cache : copy in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x7f1fe8005e10) -
vips cache+: cast in=((VipsImage*) 0x7f1fc0008330) out=((VipsImage*) 0x7f1fe00bf340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf340) out=((VipsImage*) 0x158f010) -
vips cache+: draw_rect image=((VipsImage*) 0x143f4d0) ink=255 255 0  left=20 top=20 width=60 height=60 fill=TRUE -
vips cache+: cast in=((VipsImage*) 0x143f4d0) out=((VipsImage*) 0x1488e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1488e30) out=((VipsImage*) 0x158f1a0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x143f4d0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01c76c0, length = 1049 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00011c480, length = 1049 out=((VipsImage*) 0x14d67e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRU--- PASS: TestImage_DrawRect (0.05s)
=== RUN   TestImage_DrawRectRGBA
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
E -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007b0f00, length = 1259 out=((VipsImage*) 0x158f1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x14e9af0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x158f010) -
vips cache+: linear in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x158fb00) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x158fb00) out=((VipsImage*) 0x7f1fc0008010) -
vips cache+: cast in=((VipsImage*) 0x158fb00) out=((VipsImage*) 0x13de330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de330) out=((VipsImage*) 0x149dca0) -
vips cache : copy in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x1430980) -
vips cache+: bandjoin_const in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x7f1fc0008e20) c=255  -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x7f1fc0008b00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x149d020) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x149d020) out=((VipsImage*) 0x7f1fd4005650) left=0 top=0 width=100 height=100 -
vips cache+: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x158f650) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x15114c0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x15114c0) out=((VipsImage*) 0x15db340) -
vips cache+: cast in=((VipsImage*) 0x15114c0) out=((VipsImage*) 0x1475c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1475c80) out=((VipsImage*) 0x7f1fd401f650) -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fd4005c90) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x15d24b0) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x149dca0) -
vips cache+: cast in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x1488980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1488980) out=((VipsImage*) 0x1468640) -
vips cache+: draw_rect image=((VipsImage*) 0x7f1fc0008e20) ink=255 255 0 255  left=20 top=20 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fc0008970) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x14d6e20) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x1468640) -
vips cache+: cast in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x7f1fd401f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f650) out=((VipsImage*) 0x7f1fc00087e0) -
vips cache+: draw_rect image=((VipsImage*) 0x7f1fc0008e20) ink=255 255 0 255  left=79 top=20 width=1 height=60 -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x14fe4d0) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x1511010) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x7f1fc00087e0) -
vips cache+: cast in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x143f660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x143f660) out=((VipsImage*) 0x1511970) -
vips cache+: draw_rect image=((VipsImage*) 0x7f1fc0008e20) ink=255 255 0 255  left=20 top=79 width=60 height=1 -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x1488020) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x14e9960) a=1  b=255 255 0 255  -
vips cache : copy in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x1511970) -
vips cache+: cast 2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_DrawRectRGBA (0.05s)
=== RUN   TestImage_Rank
2023/10/14 10:56:34 [govips.info] warning libvips already started
2023/10/14 10:56:34 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:35 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Rank (1.28s)
=== RUN   TestImage_GetPointWhite
2023/10/14 10:56:35 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x153ee30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x153ee30) out=((VipsImage*) 0x153e980) -
vips cache+: draw_rect image=((VipsImage*) 0x7f1fc0008e20) ink=255 255 0 255  left=20 top=20 width=1 height=60 -
vips cache+: draw_rect image=((VipsImage*) 0x7f1fc0008e20) ink=255 255 0 255  left=20 top=20 width=60 height=60 fill=FALSE -
vips cache : copy in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x14fe660) -
vips cache+: flatten in=((VipsImage*) 0x7f1fc0008e20) background=0  out=((VipsImage*) 0x158f7e0) -
vips cache+: cast in=((VipsImage*) 0x158f7e0) out=((VipsImage*) 0x14304d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14304d0) out=((VipsImage*) 0x1468320) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fc0008e20) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01f9640, length = 1708 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00015a000, length = 1708 out=((VipsImage*) 0x153e980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000466000, length = 135059 out=((VipsImage*) 0x1468320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x15db1b0) -
vips cache+: embed in=((VipsImage*) 0x15db1b0) out=((VipsImage*) 0x15d2c80) x=7 y=7 width=1934 height=1094 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x14884d0) width=15 height=15 index=224 -
vips cache+: cast in=((VipsImage*) 0x14884d0) out=((VipsImage*) 0x13de010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de010) out=((VipsImage*) 0x7f1fd40051a0) -
vips cache+: cast in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x14fe7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14b81b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14ca4b0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14884d0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe020c630, length = 18213 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a4000, length = 18213 out=((VipsImage*) 0x14ca7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005ca000, length = 135059 out=((VipsImage*) 0x15db660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x15db660) out=((VipsImage*) 0x14d6650) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14d6650) out=((VipsImage*) 0x14e9640) -
vips cache : copy in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x14b8e30) -
vips cache+: cast in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x14ca960) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc03434b0) out=((VipsImage*) 0x7f1fc03437d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc03434b0) out=((VipsImage*) 0x7f1fc0343640) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x15db660) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x15db660) out=((VipsImage*) 0x7f1fc0343960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fc0343960) out=((VipsImage*) 0x7f1fc0343af0) -
vips cache+: cast in=((VipsImage*) 0x7f1fc0343af0) out=((VipsImage*) 0x7f1fc0343c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((--- PASS: TestImage_GetPointWhite (0.16s)
=== RUN   TestImage_GetPointYellow
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointYellow (0.16s)
=== RUN   TestImage_GetPointWhiteR
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPointWhiteR (0.16s)
=== RUN   TestImage_GetPoint_WithAlpha
2023/10/14 10:56:36 [govips.info] warning libvips already started
VipsImage*) 0x15db660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe023b5e0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000914000, length = 223227 out=((VipsImage*) 0x7f1fc0343e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 135059 out=((VipsImage*) 0x7f1fe0239190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe0239190) out=((VipsImage*) 0x7f1fe0239320) left=400 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239320) out=((VipsImage*) 0x7f1fe02394b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe02394b0) out=((VipsImage*) 0x7f1fe0239000) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02394b0) out=((VipsImage*) 0x15db980) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x7f1fe0239960) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x7f1fe02397d0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f1fe0239190) out-array=255 255 0  x=400 y=10 -
vips cache+: cast in=((VipsImage*) 0x7f1fe0239190) out=((VipsImage*) 0x1511c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1511c90) out=((VipsImage*) 0x7f1fe0239c80) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0239c80) out=((VipsImage*) 0x7f1fe0239e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe0239190) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe02717a0, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a66000, length = 223227 out=((VipsImage*) 0x7f1fe02431a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000ad6000, length = 135059 out=((VipsImage*) 0x7f1fe0243010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe0243010) out=((VipsImage*) 0x7f1fe80054b0) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe80054b0) out=((VipsImage*) 0x153e020) -
vips cache : copy in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x7f1fe02434c0) -
vips cache+: cast in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x7f1fe0243330) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0243b00) out=((VipsImage*) 0x7f1fe0243e20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0243b00) out=((VipsImage*) 0x7f1fe0243c90) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f1fe0243010) out-array=255 255 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7f1fe0243010) out=((VipsImage*) 0x7f1fe02437e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02437e0) out=((VipsImage*) 0x15b57f0) -
vips cache+: cast in=((VipsImage*) 0x15b57f0) out=((VipsImage*) 0x7f1fe0261000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe0243010) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0271780, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000af8000, length = 223227 out=((VipsImage*) 0x7f1fe0261320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00083c200, length = 335 out=((VipsImage*) 0x7f1fe02614b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe02614b0) out=((Vip2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha (0.05s)
=== RUN   TestImage_GetPoint_WithAlpha2
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_GetPoint_WithAlpha2 (0.05s)
=== RUN   TestImage_SimilarityRGB
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
sImage*) 0x7f1fe0261190) left=10 top=10 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe0261190) out=((VipsImage*) 0x14301b0) -
vips cache : copy in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x7f1fe02617d0) -
vips cache+: cast in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x7f1fe0261640) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc00081a0) out=((VipsImage*) 0x7f1fe0261e10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc00081a0) out=((VipsImage*) 0x7f1fe0261c80) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f1fe02614b0) out-array=0 0 0 255  x=10 y=10 -
vips cache+: cast in=((VipsImage*) 0x7f1fe02614b0) out=((VipsImage*) 0x7f1fe0261af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261af0) out=((VipsImage*) 0x153e1b0) -
vips cache+: cast in=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x14887f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe02614b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0273960, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000700000, length = 675 out=((VipsImage*) 0x13de650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fce00, length = 335 out=((VipsImage*) 0x7f1fd401f7e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: extract_area input=((VipsImage*) 0x7f1fd401f7e0) out=((VipsImage*) 0x7f1fe00bf980) left=0 top=0 width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf980) out=((VipsImage*) 0x1488660) -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x15dbca0) -
vips cache+: cast in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x7f1fe00bfca0) format=((VipsBandFormat) VIPS_FORMAT_DOUBLE) -
vips cache+: linecache in=((VipsImage*) 0x7f1fcc1a5b10) out=((VipsImage*) 0x7f1fcc1a5e30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fcc1a5b10) out=((VipsImage*) 0x7f1fcc1a5ca0) tile-height=16 -
vips cache+: getpoint in=((VipsImage*) 0x7f1fd401f7e0) out-array=0 0 0 0  x=0 y=0 -
vips cache+: cast in=((VipsImage*) 0x7f1fd401f7e0) out=((VipsImage*) 0x7f1fcc1a54d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fcc1a54d0) out=((VipsImage*) 0x7f1fcc1a5660) -
vips cache+: cast in=((VipsImage*) 0x7f1fcc1a5660) out=((VipsImage*) 0x7f1fcc1a57f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fd401f7e0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0283230, length = 675 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002622c0, length = 675 out=((VipsImage*) 0x13de1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000222a00, length = 1259 out=((VipsImage*) 0x7f1fe0284000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x7f1fe02844b0) -
vips cache*: black out=((VipsImage*) 0x15d2320) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe0284af0) -
vips cache+: linear in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe0284960) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x7f1fe0284e10) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x7f1fe0284c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe029b010) -
vips cache+: embed in=((VipsImage*) 0x7f1fe02844b0) out=((VipsImage*) 0x7f1fe0284640) x=1 y=1 width=103 height=1032023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGB (0.05s)
=== RUN   TestImage_SimilarityRGBA
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127  -
vips cache*: black out=((VipsImage*) 0x15d2320) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe029b010) -
vips cache+: linear in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe029b1a0) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x7f1fe029b4c0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x7f1fe029b330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe029b330) out=((VipsImage*) 0x7f1fe029b650) -
vips cache+: affine in=((VipsImage*) 0x7f1fe0284000) interpolate=((VipsInterpolateBilinear*) 0x7f1fe8012590) out=((VipsImage*) 0x7f1fe0284320) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x7f1fe0284190) scale=0.500000 angle=5.000000 background=127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache+: cast in=((VipsImage*) 0x7f1fe0284190) out=((VipsImage*) 0x7f1fe029b7e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe029b7e0) out=((VipsImage*) 0x7f1fe029b650) -
vips cache+: linecache in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x7f1fe029bb00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x7f1fe029b970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe029b970) out=((VipsImage*) 0x7f1fe029bc90) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe0284190) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe02ac510, length = 977 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000224800, length = 977 out=((VipsImage*) 0x143fca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000222f00, length = 1259 out=((VipsImage*) 0x7f1fe029b650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x14e9af0) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe02b8340) -
vips cache+: linear in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe02b81b0) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f1fe02b81b0) out=((VipsImage*) 0x7f1fe02b8660) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02b81b0) out=((VipsImage*) 0x7f1fe02b84d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b84d0) out=((VipsImage*) 0x7f1fe02b87f0) -
vips cache : copy in=((VipsImage*) 0x7f1fe029b650) out=((VipsImage*) 0x7f1fc0008330) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f1fe029b650) out=((VipsImage*) 0x7f1fe8005e10) c=255  -
vips cache : copy in=((VipsImage*) 0x7f1fe8005e10) out=((VipsImage*) 0x7f1fe02b8020) -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe02b8ca0) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe02b8b10) a=1  b=127  -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe02c1000) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe02b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8e30) out=((VipsImage*) 0x7f1fe02c1190) -
vips cache+: embed in=((VipsImage*) 0x7f1fe02b8020) out=((VipsImage*) 0x7f1fe02b8980) x=1 y=1 width=103 height=103 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=127 127 127 127  -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8980) out=((VipsImage*) 0x1488e30) -
vips cache+: premultiply in=((VipsImage2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SimilarityRGBA (0.05s)
=== RUN   TestImage_Decode_JPG
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
*) 0x7f1fe02b8980) out=((VipsImage*) 0x7f1fe02b87f0) -
vips cache*: black out=((VipsImage*) 0x14e97d0) width=1 height=1 bands=4 -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe02c14b0) -
vips cache+: linear in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe02c1320) a=1  b=127  -
vips cache+: cast in=((VipsImage*) 0x7f1fe02c1320) out=((VipsImage*) 0x7f1fe02c1640) format=((VipsBandFormat) VIPS_FORMAT_FLOAT) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1640) out=((VipsImage*) 0x7f1fe02c17d0) -
vips cache : copy in=((VipsImage*) 0x158fb00) out=((VipsImage*) 0x13de330) -
vips cache+: unpremultiply in=((VipsImage*) 0x158fb00) out=((VipsImage*) 0x158f010) -
vips cache : copy in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x7f1fc0008010) -
vips cache+: cast in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x7f1fe02c1190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: affine in=((VipsImage*) 0x7f1fe8005e10) interpolate=((VipsInterpolateBilinear*) 0x7f1fe80125e0) out=((VipsImage*) 0x7f1fe00bf340) matrix=0.498097 -0.0435779 0.0435779 0.498097  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 background=127 127 127 127  -
vips cache+: similarity in=((VipsImage*) 0x7f1fe8005e10) out=((VipsImage*) 0x7f1fe00bf660) scale=0.500000 angle=5.000000 background=127 127 127 127  odx=20.000000 ody=20.000000 idx=10.000000 idy=10.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf660) out=((VipsImage*) 0x7f1fe02c1960) -
vips cache+: flatten in=((VipsImage*) 0x7f1fe00bf660) background=0  out=((VipsImage*) 0x7f1fe02c17d0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02c17d0) out=((VipsImage*) 0x7f1fe02c1c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1c80) out=((VipsImage*) 0x7f1fe02c1e10) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc015b000) out=((VipsImage*) 0x7f1fc015b320) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc015b000) out=((VipsImage*) 0x7f1fc015b190) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc015b190) out=((VipsImage*) 0x7f1fc015b4b0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe00bf660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe02d09f0, length = 1000 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000225000, length = 1000 out=((VipsImage*) 0x15db340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00070e000, length = 1259 out=((VipsImage*) 0x14d6e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x7f1fc0008970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008970) out=((VipsImage*) 0x7f1fd401f650) -
vips cache+: linecache in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x1488980) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x7f1fd4005c90) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fd4005c90) out=((VipsImage*) 0x7f1fc00087e0) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14d6e20) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01c4ed0, length = 1240 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x14d6e20) out=((VipsImage*) 0x7f1fc0008970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fc0008970) out=((VipsImage*) 0x1468640) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14d6e20) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe01057c0, length = 12--- PASS: TestImage_Decode_JPG (0.05s)
=== RUN   TestImage_Decode_BMP
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_BMP (0.07s)
=== RUN   TestImage_Decode_PNG
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Decode_PNG (0.07s)
=== RUN   TestImage_Invert
2023/10/14 10:56:36 [govips.info] warning libvips already started
40 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000ff900, length = 1240 out=((VipsImage*) 0x15114c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00014c000, length = 35680 out=((VipsImage*) 0x1488020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1488020) out=((VipsImage*) 0x158f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1475c80) -
vips cache+: cast in=((VipsImage*) 0x1475c80) out=((VipsImage*) 0x14e9960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14fe4d0) out=((VipsImage*) 0x153ee30) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14fe4d0) out=((VipsImage*) 0x143f660) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1488020) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe0166bf0, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x1488020) out=((VipsImage*) 0x158f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1468000) -
vips cache+: cast in=((VipsImage*) 0x1468000) out=((VipsImage*) 0x7f1fe8005000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1488020) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd409da00, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a6000, length = 26176 out=((VipsImage*) 0x153e4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000a0000, length = 15391 out=((VipsImage*) 0x1468640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x7f1fd401f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f650) out=((VipsImage*) 0x7f1fe02c1e10) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02c1e10) out=((VipsImage*) 0x7f1fd4005650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x1430980) out=((VipsImage*) 0x7f1fd401fe20) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1430980) out=((VipsImage*) 0x158f1a0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1468640) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd409da00, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x1468640) out=((VipsImage*) 0x7f1fd401f650) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f650) out=((VipsImage*) 0x15db1b0) -
vips cache+: cast in=((VipsImage*) 0x15db1b0) out=((VipsImage*) 0x1468320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1468640) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd409da00, length = 21518 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000eb500, length = 21518 out=((VipsImage*) 0x13de010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fe000, length = 1259 out=((VipsImage*) 0x14884d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14884d0) out=((VipsImage*) 0x7f12023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Invert (0.04s)
=== RUN   TestImage_Flip
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flip (0.04s)
=== RUN   TestImage_Embed
2023/10/14 10:56:36 [govips.info] warning libvips already started
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:36 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Embed (0.05s)
=== RUN   TestImage_ExtractBand
2023/10/14 10:56:37 [govips.info] warning libvips already started
fd40051a0) -
vips cache+: invert in=((VipsImage*) 0x14884d0) out=((VipsImage*) 0x15d2c80) -
vips cache+: cast in=((VipsImage*) 0x15d2c80) out=((VipsImage*) 0x14ca7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ca7d0) out=((VipsImage*) 0x143fb10) -
vips cache+: linecache in=((VipsImage*) 0x158f7e0) out=((VipsImage*) 0x14fe660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x158f7e0) out=((VipsImage*) 0x143f7f0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x143f7f0) out=((VipsImage*) 0x14d6650) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x15d2c80) buffer=VIPS_TYPE_BLOB, data = 0x7f1fd40c2b50, length = 1238 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000fe500, length = 1238 out=((VipsImage*) 0x14fe7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00070ea00, length = 1259 out=((VipsImage*) 0x153eca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: flip in=((VipsImage*) 0x153eca0) out=((VipsImage*) 0x7f1fc0343e10) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache+: cast in=((VipsImage*) 0x7f1fc0343e10) out=((VipsImage*) 0x15b5b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15b5b10) out=((VipsImage*) 0x7f1fc03437d0) -
vips cache+: linecache in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14d6970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14ca4b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14ca4b0) out=((VipsImage*) 0x14ca960) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fc0343e10) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe804d570, length = 1165 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00070ef00, length = 1165 out=((VipsImage*) 0x7f1fc03434b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00075e500, length = 1259 out=((VipsImage*) 0x7f1fe0239000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x7f1fe0239000) out=((VipsImage*) 0x7f1fe02394b0) x=10 y=10 width=20 height=20 extend=((VipsExtend) VIPS_EXTEND_BLACK) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02394b0) out=((VipsImage*) 0x7f1fe0239190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0239190) out=((VipsImage*) 0x7f1fe00bf4d0) -
vips cache+: linecache in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe0239e10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe0239640) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x7f1fe0239320) left=0 top=0 width=100 height=100 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe02394b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8018860, length = 778 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00034e000, length = 778 out=((VipsImage*) 0x7f1fe02397d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000238200, length = 335 out=((VipsImage*) 0x2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_ExtractBand (0.05s)
=== RUN   TestImage_Flatten
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Flatten (0.05s)
=== RUN   TestImage_Tiff
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
7f1fe00bf4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf4d0) out=((VipsImage*) 0x7f1fe0239c80) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fe00bf4d0) out=((VipsImage*) 0x7f1fe02431a0) band=2 n=1 -
vips cache+: cast in=((VipsImage*) 0x7f1fe02431a0) out=((VipsImage*) 0x7f1fe02434c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02434c0) out=((VipsImage*) 0x153e020) -
vips cache+: cast in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x7f1fe80054b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0261000) out=((VipsImage*) 0x7f1fe0243330) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0261000) out=((VipsImage*) 0x7f1fe0243650) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe02431a0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe80686c0, length = 533 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000028240, length = 533 out=((VipsImage*) 0x15b57f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000238400, length = 335 out=((VipsImage*) 0x7f1fe0243c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe0243c90) out=((VipsImage*) 0x7f1fe0243b00) -
vips cache*: black out=((VipsImage*) 0x15d2320) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe0243970) -
vips cache+: linear in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe0243010) a=1  b=32 64 128  -
vips cache : copy in=((VipsImage*) 0x7f1fe0243010) out=((VipsImage*) 0x15db980) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0243010) out=((VipsImage*) 0x1475000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x7f1fc0343c80) -
vips cache+: flatten in=((VipsImage*) 0x7f1fe0243c90) background=32 64 128  out=((VipsImage*) 0x7f1fe0243e20) max-alpha=255.000000 -
vips cache+: cast in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x7f1fe0261190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261190) out=((VipsImage*) 0x7f1fe02437e0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02437e0) out=((VipsImage*) 0x143fb10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0261320) out=((VipsImage*) 0x7f1fc00081a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0261320) out=((VipsImage*) 0x7f1fe0261e10) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe0243e20) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe80686c0, length = 706 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000278000, length = 706 out=((VipsImage*) 0x7f1fe02614b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a00000, length = 2901844 out=((VipsImage*) 0x7f1fe0239af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fe800c4e0, length = 456 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x7f1fe0261af0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x7f1fe0261c80) band=0 n=3 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x7f1fe0261960) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x153e1b0) band=3 n=1 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_v2_micro.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fe800c4e0, length = 456 -
vips ca2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.warning] Incompatible type for "RichTIFFIPTC"; tag ignored
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Tiff (0.22s)
=== RUN   TestImage_Black
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Black (0.05s)
=== RUN   TestImage_OptimizeCoding
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeCoding (0.19s)
=== RUN   TestImage_SubsampleMode
2023/10/14 10:56:37 [govips.info] warning libvips already started
che+: cast in=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x15dbca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe00bf980) -
vips cache : copy in=((VipsImage*) 0x15dbca0) out=((VipsImage*) 0x7f1fcc1a5340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fe0287dc0) out=((VipsImage*) 0x1488660) -
vips cache+: icc_transform in=((VipsImage*) 0x7f1fe0239af0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x1488660) output-profile="/tmp/govips-921380458/srgb_v2_micro.icc" embedded=TRUE input-profile="none" depth=8 -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x7f1fcc1a5980) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0343c80) out=((VipsImage*) 0x7f1fcc1a5ca0) tile-height=32 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0343c80) out=((VipsImage*) 0x13de650) tile-height=32 -
vips cache : copy in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fcc1a5b10) -
vips cache+: unpremultiply in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fcc1a5e30) alpha-band=3 -
vips cache : copy in=((VipsImage*) 0x7f1fcc1a5e30) out=((VipsImage*) 0x7f1fe0284e10) -
vips cache+: cast in=((VipsImage*) 0x7f1fcc1a5e30) out=((VipsImage*) 0x7f1fcc1a57f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : tiffsave_buffer in=((VipsImage*) 0x1488660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe815aea0, length = 3068590 compression=((VipsForeignTiffCompression) VIPS_FOREIGN_TIFF_COMPRESSION_LZW) Q=80 predictor=((VipsForeignTiffPredictor) VIPS_FOREIGN_TIFF_PREDICTOR_HORIZONTAL) tile=FALSE tile-width=256 tile-height=256 pyramid=FALSE strip=FALSE -
vips cache+: tiffload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000cc6000, length = 3068590 out=((VipsImage*) 0x149d020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: black out=((VipsImage*) 0x7f1fe0261640) width=10 height=20 -
vips cache+: cast in=((VipsImage*) 0x7f1fe0261640) out=((VipsImage*) 0x7f1fe029b1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x7f1fe029b010) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe0261640) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe809a880, length = 455 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003a4000, length = 459699 out=((VipsImage*) 0x7f1fe029b330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fe029b330) out=((VipsImage*) 0x7f1fcc1a5980) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fcc1a5980) out=((VipsImage*) 0x7f1fe02844b0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0284af0) out=((VipsImage*) 0x7f1fe029b010) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0284af0) out=((VipsImage*) 0x7f1fe0284c80) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe029b4c0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe029b330) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8c97fd0, length = 486809 Q=75 optimize-coding=TRUE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000494000, length = 486809 out=((VipsImage*) 0x7f1fe0284190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000584000, length = 459699 out=((VipsImage*) 0x7f1fe02844b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fe02844b0) out=((VipsImage*) 0x7f1fe0284000) format=((VipsBandFormat) 2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_SubsampleMode (0.11s)
=== RUN   TestImage_TrellisQuant
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.warning] ignoring trellis_quant
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_TrellisQuant (0.11s)
=== RUN   TestImage_OvershootDeringing
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.warning] ignoring overshoot_deringing
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OvershootDeringing (0.12s)
=== RUN   TestImage_OptimizeScans
2023/10/14 10:56:37 [govips.info] warning libvips already started
2023/10/14 10:56:37 [VIPS.warning] ignoring optimize_scans
VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x14e94b0) -
vips cache+: linecache in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x7f1fe029bb00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x7f1fe029b970) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe029b970) out=((VipsImage*) 0x7f1fe02b81b0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe02844b0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe81ef2b0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_ON) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0005f6000, length = 542772 out=((VipsImage*) 0x143fca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 459699 out=((VipsImage*) 0x7f1fe0284320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fe0284320) out=((VipsImage*) 0x7f1fe02b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8ca0) out=((VipsImage*) 0x7f1fe02b8e30) -
vips cache+: linecache in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe02b8660) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe02b84d0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe02b84d0) out=((VipsImage*) 0x14d61a0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe0284320) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe82df2a0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=TRUE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0008b8000, length = 542772 out=((VipsImage*) 0x7f1fe02c1000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0012a2000, length = 459699 out=((VipsImage*) 0x14e97d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe02b8b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe02847d0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe02c1640) out=((VipsImage*) 0x14e94b0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe02c1640) out=((VipsImage*) 0x7f1fe02b8e30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe02b8e30) out=((VipsImage*) 0x7f1fe029b7e0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x14e97d0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe82df2a0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=TRUE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001314000, length = 542772 out=((VipsImage*) 0x7f1fe0261c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001420000, length = 459699 out=((VipsImage*) 0x7f1fe0261af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fe0261af0) out=((VipsImage*) 0x7f1fe0239af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x14887f0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0261960) out=((VipsImage*) 0x7f1fcc1a5340) tile-height=8 access=((VipsAc2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:37 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_OptimizeScans (0.20s)
=== RUN   TestImage_QuantTable
2023/10/14 10:56:38 [govips.info] warning libvips already started
2023/10/14 10:56:38 [VIPS.warning] ignoring quant_table
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_QuantTable (0.10s)
=== RUN   TestImage_Pixelate
2023/10/14 10:56:38 [govips.info] warning libvips already started
2023/10/14 10:56:38 [VIPS.info] residual reducev by 0.0416667
2023/10/14 10:56:38 [VIPS.info] shrinkv by 11
2023/10/14 10:56:38 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:38 [VIPS.info] reducev: using vector path
2023/10/14 10:56:38 [VIPS.info] residual reduceh by 0.0416667
2023/10/14 10:56:38 [VIPS.info] shrinkh by 11
2023/10/14 10:56:38 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:38 [VIPS.info] residual scale 23.9252 x 23.8806
cess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0261960) out=((VipsImage*) 0x1488660) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x1488660) out=((VipsImage*) 0x15dbca0) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe0261af0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe813ead0, length = 486809 Q=75 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=TRUE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001492000, length = 486809 out=((VipsImage*) 0x7f1fe0284000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001582000, length = 459699 out=((VipsImage*) 0x7f1fcc1a5980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fcc1a5980) out=((VipsImage*) 0x7f1fe029b1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x149d020) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe0284e10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe02614b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe02614b0) out=((VipsImage*) 0x7f1fcc1a5e30) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fcc1a5980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe82df2a0, length = 542772 Q=75 optimize-coding=FALSE interlace=FALSE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=3 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0015f4000, length = 542772 out=((VipsImage*) 0x13deb00) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050c000, length = 459699 out=((VipsImage*) 0x143f340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x143f340) out=((VipsImage*) 0x14307f0) -
vips cache+: embed in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02844b0) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkv in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02c1000) vshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1000) out=((VipsImage*) 0x7f1fe02b81b0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe02b81b0) out=((VipsImage*) 0x7f1fe029b970) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reducev in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x14e9af0) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe0261af0) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x143fca0) hshrink=11 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x153e1b0) -
vips cache+: embed in=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x15dbca0) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x14301b0) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x143f340) out=((VipsImage*) 0x13de7e0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
vips cache : copy in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x7f1fcc1a5340) -
vips cache : copy in=((VipsImage*) 0x7f1fcc1a5340) out=((VipsImage*) 0x7f1fe0284000) -
vips cache+: embed in=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x7f1fe029b330) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
vips cac2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImage_Pixelate (0.35s)
=== RUN   TestImageRef_WebP
2023/10/14 10:56:38 [govips.info] warning libvips already started
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP (0.17s)
=== RUN   TestImageRef_WebP__ReducedEffort
2023/10/14 10:56:38 [govips.info] warning libvips already started
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__ReducedEffort (0.11s)
=== RUN   TestImageRef_WebP__NearLossless
2023/10/14 10:56:38 [govips.info] warning libvips already started
he+: black out=((VipsImage*) 0x7f1fe029b4c0) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x7f1fe029b4c0) out=((VipsImage*) 0x7f1fe029b010) -
vips cache+: linear in=((VipsImage*) 0x7f1fe029b4c0) out=((VipsImage*) 0x7f1fe0284c80) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe0284190) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe0284af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0284af0) out=((VipsImage*) 0x14e97d0) -
vips cache+: affine in=((VipsImage*) 0x7f1fcc1a5340) interpolate=((VipsInterpolateNearest*) 0x14290a0) out=((VipsImage*) 0x7f1fe0261960) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: resize in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x1488660) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.880597 scale=23.925234 -
vips cache+: cast in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x7f1fe02b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8e30) out=((VipsImage*) 0x14e94b0) -
vips cache+: linecache in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fe0261c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fe02c1640) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe02c1640) out=((VipsImage*) 0x149d020) left=0 top=0 width=2560 height=1600 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1488660) buffer=VIPS_TYPE_BLOB, data = 0x21a3a50, length = 253196 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000300000, length = 253196 out=((VipsImage*) 0x14e94b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000702000, length = 152642 out=((VipsImage*) 0x7f1fe0284960) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x14e97d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x14887f0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fcc1a5ca0) out=((VipsImage*) 0x7f1fe02847d0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fcc1a5ca0) out=((VipsImage*) 0x7f1fcc1a57f0) -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f1fe0284960) buffer=VIPS_TYPE_BLOB, data = 0x1543800, length = 44652 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00095e000, length = 152642 out=((VipsImage*) 0x7f1fe0239af0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x7f1fe02b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8ca0) out=((VipsImage*) 0x14887f0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x7f1fe0243c90) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x7f1fe0243b00) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f1fe0239af0) buffer=VIPS_TYPE_BLOB, data = 0x1543800, length = 48004 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=2 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a18000, length = 152642 out=((VipsImage*) 0x14887f0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: 2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:38 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_WebP__NearLossless (0.88s)
=== RUN   TestImageRef_PNG
2023/10/14 10:56:39 [govips.info] warning libvips already started
2023/10/14 10:56:39 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:39 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:39 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_PNG (0.21s)
=== RUN   TestImageRef_HEIF
2023/10/14 10:56:39 [govips.info] warning libvips already started
2023/10/14 10:56:39 [govips.info] failed to understand image format size=1805222
    image_test.go:97: 
        	Error Trace:	image_test.go:97
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF
--- FAIL: TestImageRef_HEIF (0.01s)
=== RUN   TestImageRef_HEIF_MIF1
2023/10/14 10:56:39 [govips.info] warning libvips already started
2023/10/14 10:56:39 [govips.info] failed to understand image format size=293608
    image_test.go:112: 
        	Error Trace:	image_test.go:112
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_MIF1
--- FAIL: TestImageRef_HEIF_MIF1 (0.00s)
=== RUN   TestImageRef_HEIF_ftypmsf1
2023/10/14 10:56:39 [govips.info] warning libvips already started
2023/10/14 10:56:39 [govips.info] failed to understand image format size=893729
    image_test.go:127: 
        	Error Trace:	image_test.go:127
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_HEIF_ftypmsf1
--- FAIL: TestImageRef_HEIF_ftypmsf1 (0.00s)
=== RUN   TestImageRef_BMP__ImplicitConversionToPNG
2023/10/14 10:56:39 [govips.info] warning libvips already started
2023/10/14 10:56:39 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:39 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_BMP__ImplicitConversionToPNG (0.01s)
=== RUN   TestImageRef_SVG
2023/10/14 10:56:39 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG (0.01s)
=== RUN   TestImageRef_SVG_1
2023/10/14 10:56:39 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_1 (0.00s)
=== RUN   TestImageRef_SVG_2
2023/10/14 10:56:39 [govips.info] warning libvips already started
--- PASS: TestImageRef_SVG_2 (0.00s)
=== RUN   TestImageRef_OverSizedMetadata
2023/10/14 10:56:39 [govips.info] warning libvips already started
--- PASS: TestImageRef_OverSizedMetadata (0.06s)
=== RUN   TestImageRef_Resize__Error
2023/10/14 10:56:40 [govips.info] warning libvips already started
cast in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x7f1fe0243970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0243970) out=((VipsImage*) 0x15d2320) -
vips cache+: linecache in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x7f1fe0243330) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x15b57f0) -
vips cache*: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x14887f0) buffer=VIPS_TYPE_BLOB, data = 0x1d3ea00, length = 110140 Q=75 lossless=FALSE profile="none" near-lossless=TRUE reduction-effort=4 strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000ad8000, length = 135059 out=((VipsImage*) 0x1475000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x15d2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x153e020) -
vips cache+: cast in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x7f1fe02434c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0243650) out=((VipsImage*) 0x7f1fc03437d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0243650) out=((VipsImage*) 0x7f1fe00bf4d0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x1475000) buffer=VIPS_TYPE_BLOB, data = 0x1c1de00, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache*: cast in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x15d2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe02431a0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02431a0) out=((VipsImage*) 0x7f1fe0239c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x1475000) buffer=VIPS_TYPE_BLOB, data = 0x1c1de00, length = 223227 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000dc000, length = 35680 out=((VipsImage*) 0x153e660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x153e660) out=((VipsImage*) 0x15b5340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x15b5340) out=((VipsImage*) 0x1430e30) -
vips cache+: cast in=((VipsImage*) 0x1430e30) out=((VipsImage*) 0x7f1fe0284e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe02397d0) out=((VipsImage*) 0x14d61a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe02397d0) out=((VipsImage*) 0x7f1fe02b8340) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x153e660) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb8080d20, length = 26176 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 44261 out=((VipsImage*) 0x7f1fe00bfca0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001dc000, length = 5058 out=((VipsImage*) 0x7f1fe0261640) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001a8000, length = 3008 out=((VipsImage*) 0x7f1fe0284320) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002a8c000, length = 9763062 out=((VipsImage*) 0x7f1fd401f330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 135059 out=((VipsImage*) 0x7f12023/10/14 10:56:40 [GLib-GObject.warning] value "-1.000000" of type 'gdouble' is invalid or out of range for property 'scale' of type 'gdouble'
--- PASS: TestImageRef_Resize__Error (0.00s)
=== RUN   TestImageRef_ExtractArea__Error
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_ExtractArea__Error (0.00s)
=== RUN   TestImageRef_HasAlpha__True
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__True (0.00s)
=== RUN   TestImageRef_HasAlpha__False
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasAlpha__False (0.00s)
=== RUN   TestImageRef_AddAlpha
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha (0.13s)
=== RUN   TestImageRef_AddAlpha__Idempotent
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_AddAlpha__Idempotent (0.02s)
=== RUN   TestImageRef_HasProfile__True
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__True (0.00s)
=== RUN   TestImageRef_HasIPTC__True
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__True (0.00s)
=== RUN   TestImageRef_HasIPTC__False
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasIPTC__False (0.00s)
=== RUN   TestImageRef_HasProfile__False
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_HasProfile__False (0.00s)
=== RUN   TestImageRef_GetOrientation__HasEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
fd4005e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f4000, length = 135059 out=((VipsImage*) 0x14ad1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00014c000, length = 47948 out=((VipsImage*) 0x158f4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000316000, length = 135059 out=((VipsImage*) 0x7f1fd401f010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000338000, length = 135059 out=((VipsImage*) 0x14ad020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x7f1fe0239e10) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe0239320) -
vips cache+: linear in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x14e9640) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe0239000) -
vips cache+: cast in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe02394b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02394b0) out=((VipsImage*) 0x14b8e30) -
vips cache : copy in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fe0239190) -
vips cache+: bandjoin_const in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fe0239640) c=255  -
vips cache+: cast in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x14b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x7f1fc03434b0) -
vips cache+: cast in=((VipsImage*) 0x7f1fc03434b0) out=((VipsImage*) 0x14ca4b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe02b8660) out=((VipsImage*) 0x7f1fc0343e10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe02b8660) out=((VipsImage*) 0x14ca960) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x7f1fe0239640) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec3b4ec0, length = 281418 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 47948 out=((VipsImage*) 0x14e9000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14d6970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x15b5b10) -
vips cache+: cast in=((VipsImage*) 0x15b5b10) out=((VipsImage*) 0x14fe7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x14b81b0) out=((VipsImage*) 0x14d6650) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14b81b0) out=((VipsImage*) 0x158f7e0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14e9000) buffer=VIPS_TYPE_BLOB, data = 0x7f1fec0342e0, length = 30266 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e4000, length = 1297581 out=((VipsImage*) 0x143f7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000522000, length = 1297581 out=((VipsImage*) 0x14fe660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fca00, length = 1259 out=((VipsImage*) 0x14884d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fcf00, length = 1259 out=((VipsImage*) 0x153e980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=V--- PASS: TestImageRef_GetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_GetOrientation__NoEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_GetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__HasEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_SetOrientation__NoEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_SetOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__HasEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveOrientation__HasEXIF (0.00s)
=== RUN   TestImageRef_RemoveOrientation__NoEXIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveOrientation__NoEXIF (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsProfile
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsProfile (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsNPages
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsNPages (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsPageHeight
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsPageHeight (0.00s)
=== RUN   TestImageRef_RemoveMetadata__RetainsOrientation__WebP
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveMetadata__RetainsOrientation__WebP (0.00s)
=== RUN   TestImageRef_RemoveICCProfile
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_RemoveICCProfile (0.00s)
=== RUN   TestImageRef_TransformICCProfile
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_TransformICCProfile (0.01s)
=== RUN   TestImageRef_Close
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [govips.info] 
=======================================
vips live objects: Final...
319 objects alive:
0) VipsImage (0x7f1fe029b1a0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
1) VipsImage (0x7f1fe0243330), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
2) VipsImage (0x7f1fcc1a5ca0), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
3) VipsIccTransform (0x1532c10) 16 bytes, count=2
VipsIccTransform (icc_transform), transform between devices with ICC profiles, icc_transform in=((VipsImage*) 0x15114c0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x14d6e20) output-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" depth=8 -
4) VipsExtractArea (0x14730b0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14757d0) left=0 top=896 width=121 height=128 -
5) VipsImage (0x14887f0), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
6) VipsImage (0x1468af0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
7) VipsImage (0x1430980), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
8) VipsForeignLoadNsgifBuffer (0x13db840), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000b6000, length = 18146 out=((VipsImage*) 0x1488b10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
9) VipsImage (0x7f1fe02844b0), count=2
VipsImage (image), image class, 2560x1606 uchar, 3 bands, srgb, jpegload_buffer
10) VipsImage (0x14e9640), count=3
VipsImage (image), image class, 1x1 float, 1 band, multiband
11) VipsLinear (0x7f1fec144b40) 16 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x14e9640) a=1  b=255  -
12) VipsLineCache (0x7f1fc40360b0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fe0261c80) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
13) VipsSequential (0x7f1fc03104e0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x14b81b0) out=((VipsImage*) 0x158f7e0) tile-height=16 -
14) VipsCast (0x1501940), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x15d2320) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
15) VipsEmbed (0x142e670), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe0261af0) x=0 y=0 width=2571 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
16) VipsImage (0x153ee30), count=2
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb, webpload_buffer
17) VipsImage (0x7f1fe02b8340), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
18) VipsSource (0x7f1fe02984a0), count=2
VipsSource (source), input source, 
19) VipsImage (0x7f1fe0239960), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
20) VipsImage (0x153e980) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
21) VipsSequential (0x7f1fc000bb60), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x7f1fe0243b00) -
22) VipsSource (0x7f1fec93fd50), count=2
VipsSource (source), input source, 
23) VipsForeignLoadSvgBuffer (0x7f1fe801d6f0), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001a8000, length = 3008 out=((VipsImage*) 0x7f1fe0284320) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
24) VipsImage (0x7f1fcc1a57f0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
25) VipsExtractArea (0x14732b0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x149db10) left=0 top=128 width=121 height=128 -
26) VipsForeignLoadSvgBuffer (0x7f1fe801d550), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 44261 out=((VipsImage*) 0x7f1fe00bfca0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
27) VipsImage (0x1468640), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
28) VipsImage (0x7f1fe0284000), count=2
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
29) VipsImage (0x7f1fe0261c80), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
30) VipsImage (0x143fca0), count=3
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
31) VipsImage (0x158f7e0), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
32) VipsCopy (0x7f1fcc01cc40), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x15db1b0) out=((VipsImage*) 0x7f1fd401f650) -
33) VipsSource (0x14c3a60), count=2
VipsSource (source), input source, 
34) VipsCopy (0x7f1fc411d710), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x1430980) -
35) VipsImage (0x7f1fd401f010) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
36) VipsImage (0x7f1fe02394b0), count=1
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
37) VipsSource (0x1441ca0), count=2
VipsSource (source), input source, 
38) VipsExtractArea (0x1435dc0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14687d0) left=0 top=256 width=121 height=128 -
39) VipsImage (0x153e4d0) 1080 bytes, count=2
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb, jpegload_buffer
40) VipsImage (0x15b57f0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
41) VipsForeignLoadJpegBuffer (0x7f1fd4003b30), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0015f6000, length = 2980637 out=((VipsImage*) 0x15db1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
42) VipsImage (0x7f1fcc1a5340), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
43) VipsSequential (0x7f1fc0310570), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f1fe0243650) out=((VipsImage*) 0x7f1fe00bf4d0) tile-height=16 -
44) VipsForeignLoadNsgifBuffer (0x13dbc40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a2000, length = 18146 out=((VipsImage*) 0x158f650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
45) VipsSequential (0x7f1fe80216f0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x15b57f0) -
46) VipsImage (0x1468190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
47) VipsSource (0x7f1fe0298020), count=1
VipsSource (source), input source, 
48) VipsImage (0x7f1fe02617d0), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
49) VipsImage (0x143f7f0) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
50) VipsCast (0x7f1fd400d700), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x7f1fe02434c0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
51) VipsExtractArea (0x14bca80), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14d64c0) left=0 top=896 width=121 height=128 -
52) VipsCast (0x7f1fec00d1c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe02394b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
53) VipsSource (0x7f1fe023bed0), count=1
VipsSource (source), input source, 
54) VipsEmbed (0x14ba910), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x7f1fe029b330) x=1 y=1 width=109 height=69 extend=((VipsExtend) VIPS_EXTEND_COPY) background=0  -
55) VipsImage (0x7f1fe80054b0) 4176 bytes, count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
56) VipsSource (0x7f1fec93f8d0), count=2
VipsSource (source), input source, 
57) VipsCopy (0x7f1fc4005380), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe0284190) -
58) VipsImage (0x14754b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
59) VipsImage (0x7f1fe0239000), count=1
VipsImage (image), image class, 1x1 float, 1 band, multiband
60) VipsImage (0x153e020), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
61) VipsSource (0x1587280), count=2
VipsSource (source), input source, 
62) VipsCopy (0x7f1fc40056f0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x143f340) out=((VipsImage*) 0x14307f0) -
63) VipsImage (0x149db10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
64) VipsCast (0x7f1fd400d080), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe0284af0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
65) VipsImage (0x15b5340), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
66) VipsImage (0x14ca960), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
67) VipsForeignLoadPngBuffer (0x7f1fcc01e0e0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000dc000, length = 35680 out=((VipsImage*) 0x153e660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
68) VipsSource (0x7f1fe0298560), count=2
VipsSource (source), input source, 
69) VipsSource (0x7f1fec144c00), count=3
VipsSource (source), input source, 
70) VipsCast (0x7f1fb809fb10), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1430e30) out=((VipsImage*) 0x7f1fe0284e10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
71) VipsImage (0x14fe7f0), count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
72) VipsImage (0x143f340) 1080 bytes, count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
73) VipsForeignLoadPngBuffer (0x7f1fc401f650), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002a8c000, length = 9763062 out=((VipsImage*) 0x7f1fd401f330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
74) VipsCopy (0x7f1fc41cf450), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fe02c1e10) out=((VipsImage*) 0x7f1fd4005650) -
75) VipsSource (0x1441820), count=1
VipsSource (source), input source, 
76) VipsImage (0x7f1fe0243b00), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
77) VipsImage (0x7f1fe029b970), count=2
VipsImage (image), image class, 2560x161 uchar, 3 bands, srgb, jpegload_buffer
78) VipsCopy (0x1581f00), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14e9640) out=((VipsImage*) 0x7f1fe0239000) -
79) VipsImage (0x7f1fe0284c80), count=3
VipsImage (image), image class, 1x1 float, 3 bands, multiband
80) VipsImage (0x7f1fe8005000), count=1
VipsImage (image), image class, 521x391 uchar, 3 bands, srgb
81) VipsExtractArea (0x1473030), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14754b0) left=0 top=768 width=121 height=128 -
82) VipsImage (0x1475000) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
83) VipsSource (0x14c3b20), count=2
VipsSource (source), input source, 
84) VipsCopy (0x7f1fc0003660), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fe0239190) -
85) VipsImage (0x7f1fe02b8b10), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
86) VipsImage (0x7f1fd4005650), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb
87) VipsCopy (0x7f1fc41ac3a0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x143f660) -
88) VipsImage (0x15db1b0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
89) VipsImage (0x14ca4b0), count=1
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
90) VipsCast (0x15018c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fe0239af0) out=((VipsImage*) 0x7f1fe02b8ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
91) VipsForeignLoadJpegBuffer (0x1441d60), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 1297581 out=((VipsImage*) 0x7f1fe02c1e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
92) VipsImage (0x13de010) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
93) VipsImage (0x14e9960), count=1
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
94) VipsInterpolateNearest (0x14290a0), count=2
VipsInterpolateNearest (nearest), nearest-neighbour interpolation, 
95) VipsSource (0x7f1fd4003bf0), count=2
VipsSource (source), input source, 
96) VipsProfileLoad (0x7f1fec02a730), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec396e00, length = 3048 -
97) VipsImage (0x7f1fe029b4c0), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
98) VipsImage (0x7f1fe0243650), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
99) VipsImage (0x7f1fe02c1640), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
100) VipsImage (0x1488b10), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
101) VipsImage (0x7f1fe02847d0), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
102) VipsImage (0x1468e10), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
103) VipsImage (0x7f1fc0343e10), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
104) VipsCast (0x7f1fe8059440), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x15b5b10) out=((VipsImage*) 0x14fe7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
105) VipsImage (0x7f1fe02b8660), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
106) VipsBandjoinConst (0x7f1fc803ab40), count=2
VipsBandjoinConst (bandjoin_const), append a constant band to an image, bandjoin_const in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fe0239640) c=255  -
107) VipsImage (0x14b81b0), count=3
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
108) VipsImage (0x7f1fe0239c80), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
109) VipsForeignLoadPngBuffer (0x7f1fc4041210), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000338000, length = 135059 out=((VipsImage*) 0x14ad020) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
110) VipsImage (0x14e94b0) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
111) VipsImage (0x153eca0) 4176 bytes, count=1
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
112) VipsExtractArea (0x1435d40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x14684b0) left=0 top=128 width=121 height=128 -
113) VipsShrinkv (0x7f1fc0310180), count=2
VipsShrinkv (shrinkv), shrink an image vertically, shrinkv in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02c1000) vshrink=11 ceil=TRUE -
114) VipsImage (0x7f1fe029b010), count=4
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
115) VipsImage (0x7f1fcc1a5b10) 1080 bytes, count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
116) VipsImage (0x7f1fe02431a0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
117) VipsImage (0x1488660), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
118) VipsImage (0x14307f0), count=4
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
119) VipsImage (0x7f1fe0284320), count=1
VipsImage (image), image class, 31x29 uchar, 4 bands, srgb, svgload_buffer
120) VipsExtractArea (0x1473430), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ad4d0) left=0 top=256 width=121 height=128 -
121) VipsSource (0x14418e0), count=1
VipsSource (source), input source, 
122) VipsSource (0x7f1fe8002be0), count=2
VipsSource (source), input source, 
123) VipsAffine (0x142b2a0), count=2
VipsAffine (affine), affine transform of an image, affine in=((VipsImage*) 0x7f1fcc1a5340) interpolate=((VipsInterpolateNearest*) 0x14290a0) out=((VipsImage*) 0x7f1fe0261960) matrix=23.9252 0 0 23.8806  idx=0.000000 idy=0.000000 premultiplied=TRUE extend=((VipsExtend) VIPS_EXTEND_COPY) -
124) VipsImage (0x7f1fe02b81b0), count=2
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
125) VipsCopy (0x14b6580), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x153e020) -
126) VipsSource (0x7f1fe01ef9b0), count=3
VipsSource (source), input source, 
127) VipsBlack (0x1501cc0), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x7f1fe029b4c0) width=1 height=1 bands=3 -
128) VipsImage (0x7f1fd401f330) 4176 bytes, count=2
VipsImage (image), image class, 850x315 uchar, 3 bands, srgb, pngload_buffer
129) VipsImage (0x1475c80) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
130) VipsImage (0x7f1fe02397d0), count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
131) VipsForeignLoadPngBuffer (0x7f1fc40072d0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000280000, length = 135059 out=((VipsImage*) 0x7f1fd4005e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
132) VipsImage (0x14e9000) 4176 bytes, count=4
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
133) VipsCopy (0x7f1fc414a030), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x1475c80) out=((VipsImage*) 0x14e9960) -
134) VipsCopy (0x7f1fcc01e3a0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x7f1fc03434b0) -
135) VipsForeignLoadJpegBuffer (0x14c3be0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001ba6000, length = 1297581 out=((VipsImage*) 0x1475c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
136) VipsImage (0x15b5b10), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
137) VipsReduceh (0x1534090) 9750 bytes, count=2
VipsReduceh (reduceh), shrink an image horizontally, reduceh in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x14301b0) hshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
138) VipsExtractArea (0x1435f40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1475190) left=0 top=640 width=121 height=128 -
139) VipsImage (0x7f1fd4005e20) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
140) VipsSource (0x7f1fec144840), count=3
VipsSource (source), input source, 
141) VipsLineCache (0x7f1fc40f12c0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f1fe02b8660) out=((VipsImage*) 0x7f1fc0343e10) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
142) VipsImage (0x158f650), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
143) VipsImage (0x15114c0) 1080 bytes, count=3
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
144) VipsImage (0x14684b0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
145) VipsImage (0x7f1fe0261af0), count=2
VipsImage (image), image class, 2571x67 uchar, 3 bands, srgb, jpegload_buffer
146) VipsImage (0x143fb10), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
147) VipsCast (0x7f1fb809fa90), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x153e660) out=((VipsImage*) 0x15b5340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
148) VipsImage (0x7f1fc03434b0), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
149) VipsSource (0x7f1fe01efef0), count=2
VipsSource (source), input source, 
150) VipsSource (0x7f1fe02981a0), count=2
VipsSource (source), input source, 
151) VipsCopy (0x7f1fc4036630), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x7f1fcc1a5340) -
152) VipsForeignLoadPngBuffer (0x7f1fc41fb2f0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006f2000, length = 135059 out=((VipsImage*) 0x149dca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
153) VipsImage (0x14757d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
154) VipsCopy (0x140e190), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x15b5b10) -
155) VipsSequential (0x7f1fe8021390), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f1fe02397d0) out=((VipsImage*) 0x7f1fe02b8340) tile-height=16 -
156) VipsImage (0x7f1fe0239320), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
157) VipsImage (0x14d6650), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb
158) VipsForeignLoadNsgifBuffer (0x13db740), count=1
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00085f800, length = 18146 out=((VipsImage*) 0x143fe30) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
159) VipsImage (0x15db980), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
160) VipsEmbed (0x1485310), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x7f1fe02b81b0) out=((VipsImage*) 0x7f1fe029b970) x=0 y=7 width=2560 height=161 extend=((VipsExtend) VIPS_EXTEND_COPY) -
161) VipsImage (0x14b8e30), count=2
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
162) VipsImage (0x13de7e0), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
163) VipsSource (0x13dc810), count=2
VipsSource (source), input source, 
164) VipsImage (0x158f1a0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
165) VipsImage (0x1468000), count=1
VipsImage (image), image class, 308x231 uchar, 3 bands, srgb
166) VipsReducev (0x14b5200) 13650 bytes, count=2
VipsReducev (reducev), shrink an image vertically, reducev in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x14e9af0) vshrink=2.181818 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
167) VipsImage (0x7f1fe0261640), count=1
VipsImage (image), image class, 842x595 uchar, 4 bands, srgb, svgload_buffer
168) VipsImage (0x1511010), count=2
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
169) VipsCopy (0x7f1fc42320b0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x7f1fd401fe20) -
170) VipsImage (0x7f1fe029bc90), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
171) VipsImage (0x7f1fe0243e20), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
172) VipsImage (0x143f660), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
173) VipsImage (0x7f1fe02c1e10) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
174) VipsSource (0x7f1fe8002ca0), count=3
VipsSource (source), input source, 
175) VipsLineCache (0x7f1fc40bbf10), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f1fe0243650) out=((VipsImage*) 0x7f1fc03437d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
176) VipsSequential (0x7f1fc018ade0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fe02c1640) tile-height=8 -
177) VipsImage (0x7f1fe02b8e30), count=1
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
178) VipsImage (0x14d61a0), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb
179) VipsImage (0x15d2320), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
180) VipsForeignLoadJpegBuffer (0x14c3ca0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001bc000, length = 34855 out=((VipsImage*) 0x153e4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
181) VipsForeignLoadJpegBuffer (0x13dcd50), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fcf00, length = 1259 out=((VipsImage*) 0x153e980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
182) VipsImage (0x14ca7d0) 1080 bytes, count=2
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
183) VipsProfileLoad (0x13d9120), count=1
VipsProfileLoad (profile_load), load named ICC profile, profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
184) VipsLineCache (0x7f1fcc03d5a0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x14b81b0) out=((VipsImage*) 0x14d6650) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
185) VipsCast (0x1501a40), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x7f1fe0243970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
186) VipsSource (0x1441ee0), count=3
VipsSource (source), input source, 
187) VipsForeignLoadWebpBuffer (0x7f1fe023bbd0), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a18000, length = 152642 out=((VipsImage*) 0x14887f0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
188) VipsImage (0x7f1fe0261190), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
189) VipsForeignLoadSvgBuffer (0x7f1fe801d620), count=2
VipsForeignLoadSvgBuffer (svgload_buffer), load SVG with rsvg, priority=-5, untrusted, is_a_buffer, get_flags, get_flags_filename, header, load, svgload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001dc000, length = 5058 out=((VipsImage*) 0x7f1fe0261640) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
190) VipsImage (0x14fe660) 1080 bytes, count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
191) VipsImage (0x7f1fe029b7e0), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
192) VipsImage (0x7f1fe0243970), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
193) VipsCopy (0x14b64d0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fe02c1000) out=((VipsImage*) 0x7f1fe02b81b0) -
194) VipsSource (0x7f1fd4003d70), count=2
VipsSource (source), input source, 
195) VipsExtractArea (0x1435cc0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468190) left=0 top=0 width=121 height=128 -
196) VipsImage (0x7f1fe0284af0), count=1
VipsImage (image), image class, 1x1 uchar, 3 bands, multiband
197) VipsForeignLoadPngBuffer (0x7f1fc403b590), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001b0000, length = 47948 out=((VipsImage*) 0x14e9000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
198) VipsResize (0x7f1fc4007220), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x143f340) out=((VipsImage*) 0x13de7e0) kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) scale=0.041667 -
199) VipsCopy (0x1581a30), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x153ee30) out=((VipsImage*) 0x7f1fe8005000) -
200) VipsLineCache (0x7f1fcc01e2f0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f1fcc1a5ca0) out=((VipsImage*) 0x7f1fe02847d0) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
201) VipsCast (0x7f1fe80595c0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x14b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
202) VipsForeignLoadWebpBuffer (0x7f1fec144e40), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00095e000, length = 152642 out=((VipsImage*) 0x7f1fe0239af0) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
203) VipsImage (0x14ad1b0) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
204) VipsCast (0x14bc980), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fc03434b0) out=((VipsImage*) 0x14ca4b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
205) VipsImage (0x14e97d0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
206) VipsCopy (0x7f1fc4036210), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x143fca0) out=((VipsImage*) 0x153e1b0) -
207) VipsForeignLoadPngBuffer (0x14dc4e0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000316000, length = 135059 out=((VipsImage*) 0x7f1fd401f010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
208) VipsSource (0x13dc8d0), count=2
VipsSource (source), input source, 
209) VipsImage (0x7f1fe029b330), count=2
VipsImage (image), image class, 109x69 uchar, 3 bands, srgb, jpegload_buffer
210) VipsImage (0x7f1fe02434c0), count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
211) VipsForeignLoadPngBuffer (0x7f1fc41e0ac0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000682000, length = 135059 out=((VipsImage*) 0x1468320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
212) VipsSource (0x14c3820), count=2
VipsSource (source), input source, 
213) VipsExtractArea (0x1435ec0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468e10) left=0 top=512 width=121 height=128 -
214) VipsImage (0x1511c90), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
215) VipsImage (0x7f1fc0343c80), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
216) VipsExtractArea (0x14735b0), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14b87f0) left=0 top=512 width=121 height=128 -
217) VipsForeignLoadJpegBuffer (0x1441a60), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00050c000, length = 459699 out=((VipsImage*) 0x143f340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
218) VipsImage (0x7f1fe02b84d0) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
219) VipsForeignLoadNsgifBuffer (0x13dbd40), count=2
VipsForeignLoadNsgifBuffer (gifload_buffer), load GIF with libnsgif, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a6800, length = 18146 out=((VipsImage*) 0x1511010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
220) VipsImage (0x149d020), count=2
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
221) VipsImage (0x7f1fd401f650), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
222) VipsImage (0x7f1fe0239af0), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
223) VipsSource (0x14c3d60), count=2
VipsSource (source), input source, 
224) VipsImage (0x14d6e20), count=2
VipsImage (image), image class, 1900x1263 uchar, 3 bands, srgb, jpegload_buffer
225) VipsImage (0x7f1fe0243010), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
226) VipsLineCache (0x7f1fc40bbaf0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x7f1fe0243330) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
227) VipsImage (0x7f1fe02c1000), count=3
VipsImage (image), image class, 2560x146 uchar, 3 bands, srgb, jpegload_buffer
228) VipsBlack (0x7f1fe8059140), count=2
VipsBlack (black), make a black image, black out=((VipsImage*) 0x7f1fe0239e10) width=1 height=1 bands=1 -
229) VipsImage (0x14687d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
230) VipsImage (0x7f1fe0284190), count=1
VipsImage (image), image class, 1x1 float, 3 bands, multiband
231) VipsImage (0x143fe30), count=8
VipsImage (image), image class, 121x1024 uchar, 4 bands, srgb, gifload_buffer
232) VipsImage (0x7f1fc03437d0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
233) VipsSource (0x7f1fd4003e30), count=2
VipsSource (source), input source, 
234) VipsImage (0x14884d0) 1080 bytes, count=2
VipsImage (image), image class, 100x100 uchar, 3 bands, srgb, jpegload_buffer
235) VipsCopy (0x7f1fc40bbe60), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x153e4d0) out=((VipsImage*) 0x1468000) -
236) VipsImage (0x7f1fc0008e20) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
237) VipsForeignLoadWebpBuffer (0x7f1fe023bc90), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006a4000, length = 311364 out=((VipsImage*) 0x153ee30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
238) VipsForeignLoadPngBuffer (0x7f1fc4041420), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000ad8000, length = 135059 out=((VipsImage*) 0x1475000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
239) VipsImage (0x7f1fe00bf4d0), count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
240) VipsImage (0x7f1fe0239640), count=4
VipsImage (image), image class, 1920x1080 uchar, 4 bands, srgb, pngload_buffer
241) VipsExtractArea (0x7f1fe027a2b0), count=2
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x7f1fe02c1640) out=((VipsImage*) 0x149d020) left=0 top=0 width=2560 height=1600 -
242) VipsImage (0x153e660) 4176 bytes, count=3
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
243) VipsImage (0x14d6970), count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
244) VipsImage (0x15dbca0), count=2
VipsImage (image), image class, 248x67 uchar, 3 bands, srgb, jpegload_buffer
245) VipsExtractArea (0x1473130), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x1488ca0) left=0 top=0 width=121 height=128 -
246) VipsSource (0x7f1fec144f00), count=3
VipsSource (source), input source, 
247) VipsImage (0x14ade30), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
248) VipsLinear (0x7f1fe80028e0) 48 bytes, count=2
VipsLinear (linear), calculate (a * in + b), linear in=((VipsImage*) 0x7f1fe029b4c0) out=((VipsImage*) 0x7f1fe0284c80) a=1  b=0  -
249) VipsImage (0x158f4c0) 4176 bytes, count=2
VipsImage (image), image class, 512x512 uchar, 4 bands, srgb, pngload_buffer
250) VipsForeignLoadJpegBuffer (0x1587580), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001ce4000, length = 1297581 out=((VipsImage*) 0x15114c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
251) VipsCopy (0x7f1fc4003370), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fcc1a5340) out=((VipsImage*) 0x7f1fe0284000) -
252) VipsImage (0x14301b0), count=3
VipsImage (image), image class, 107x67 uchar, 3 bands, srgb, jpegload_buffer
253) VipsImage (0x7f1fe0261960), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb, jpegload_buffer
254) VipsImage (0x1468320) 4176 bytes, count=2
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
255) VipsSource (0x13dc990), count=2
VipsSource (source), input source, 
256) VipsForeignLoadPngBuffer (0x7f1fc4007170), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000660000, length = 135059 out=((VipsImage*) 0x7f1fc0008e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
257) VipsCopy (0x7f1fc405a2e0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x15d2320) out=((VipsImage*) 0x7f1fe02431a0) -
258) VipsSequential (0x7f1fc03103c0), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f1fe02b8660) out=((VipsImage*) 0x14ca960) tile-height=16 -
259) VipsSequential (0x7f1fe8021540), count=2
VipsSequential (sequential), check sequential access, sequential in=((VipsImage*) 0x7f1fcc1a5ca0) out=((VipsImage*) 0x7f1fcc1a57f0) -
260) VipsLineCache (0x7f1fc401f440), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x7f1fe0243c90) tile-height=1 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
261) VipsForeignLoadPngBuffer (0x1581980), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00035a000, length = 135059 out=((VipsImage*) 0x13de010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
262) VipsCopy (0x7f1fc40074e0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x15b5340) out=((VipsImage*) 0x1430e30) -
263) VipsImage (0x1488020), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb
264) VipsForeignLoadPngBuffer (0x7f1fc00030e0), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00014c000, length = 47948 out=((VipsImage*) 0x158f4c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
265) VipsCast (0x1435c40), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14d6970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
266) VipsImage (0x7f1fe0239190), count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
267) VipsForeignLoadJpegBuffer (0x7f1fe8002e20), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000522000, length = 1297581 out=((VipsImage*) 0x14fe660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
268) VipsImage (0x153e1b0), count=2
VipsImage (image), image class, 233x67 uchar, 3 bands, srgb, jpegload_buffer
269) VipsImage (0x14d64c0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
270) VipsCopy (0x14dc430), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fe029b4c0) out=((VipsImage*) 0x7f1fe029b010) -
271) VipsForeignLoadJpegBuffer (0x7f1fd40039b0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000300000, length = 253196 out=((VipsImage*) 0x14e94b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
272) VipsImage (0x149dca0) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
273) VipsImage (0x14caaf0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
274) VipsSource (0x14c3e20), count=3
VipsSource (source), input source, 
275) VipsExtractArea (0x1473330), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ade30) left=0 top=384 width=121 height=128 -
276) VipsImage (0x13de650), count=3
VipsImage (image), image class, 2560x1600 uchar, 3 bands, srgb
277) VipsCopy (0x7f1fc40364d0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x1468640) -
278) VipsExtractArea (0x14bc900), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14caaf0) left=0 top=768 width=121 height=128 -
279) VipsImage (0x7f1fe029bb00) 32 bytes, count=2
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
280) VipsImage (0x7f1fe0243c90), count=2
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb
281) VipsImage (0x7f1fe0284e10), count=1
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
282) VipsExtractArea (0x1435e40), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x143fe30) out=((VipsImage*) 0x1468af0) left=0 top=384 width=121 height=128 -
283) VipsImage (0x1475190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
284) VipsForeignLoadJpegBuffer (0x1587100), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003e4000, length = 1297581 out=((VipsImage*) 0x143f7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
285) VipsForeignLoadJpegBuffer (0x7f1fe02983e0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0018ce000, length = 2980637 out=((VipsImage*) 0x158f1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
286) VipsImage (0x7f1fe02b8ca0), count=1
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
287) VipsImage (0x14b87f0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
288) VipsImage (0x7f1fd401fe20), count=1
VipsImage (image), image class, 4032x3024 uchar, 3 bands, srgb, jpegload_buffer
289) VipsImage (0x14ad4d0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
290) VipsForeignLoadWebpBuffer (0x7f1fec93fc90), count=2
VipsForeignLoadWebpBuffer (webpload_buffer), load webp from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000702000, length = 152642 out=((VipsImage*) 0x7f1fe0284960) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
291) VipsImage (0x14e9af0), count=5
VipsImage (image), image class, 2560x67 uchar, 3 bands, srgb, jpegload_buffer
292) VipsImage (0x14fe4d0), count=1
VipsImage (image), image class, 521x391 uchar, 4 bands, srgb
293) VipsImage (0x7f1fe0261000) 4176 bytes, count=1
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb
294) VipsCast (0x1501dc0), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fe02431a0) out=((VipsImage*) 0x7f1fe0239c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
295) VipsCopy (0x7f1fc40bbdb0), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1488020) -
296) VipsSource (0x7f1fe80029a0), count=2
VipsSource (source), input source, 
297) VipsLineCache (0x7f1fc40c48b0), count=2
VipsLineCache (linecache), cache an image as a set of lines, linecache in=((VipsImage*) 0x7f1fe02397d0) out=((VipsImage*) 0x14d61a0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
298) VipsForeignLoadJpegBuffer (0x13dca50), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00131e000, length = 2980637 out=((VipsImage*) 0x14ca7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
299) VipsImage (0x1488ca0), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
300) VipsImage (0x7f1fe0284960), count=3
VipsImage (image), image class, 800x600 uchar, 4 bands, srgb, webpload_buffer
301) VipsEmbed (0x142e7b0), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02844b0) x=0 y=0 width=2560 height=1606 extend=((VipsExtend) VIPS_EXTEND_COPY) -
302) VipsCopy (0x7f1fcc03d440), count=1
VipsCopy (copy), copy an image, copy in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe0239320) -
303) VipsImage (0x1430e30), count=2
VipsImage (image), image class, 164x211 uchar, 3 bands, srgb, pngload_buffer
304) VipsSource (0x7f1fec001be0), count=2
VipsSource (source), input source, 
305) VipsShrinkh (0x7f1fd400d100), count=2
VipsShrinkh (shrinkh), shrink an image horizontally, shrinkh in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x143fca0) hshrink=11 ceil=TRUE -
306) VipsExtractArea (0x1473730), count=1
VipsExtractArea (extract_area), extract an area from an image, extract_area input=((VipsImage*) 0x1488b10) out=((VipsImage*) 0x14ca190) left=0 top=640 width=121 height=128 -
307) VipsImage (0x7f1fe00bfca0), count=1
VipsImage (image), image class, 159x202 uchar, 4 bands, srgb, svgload_buffer
308) VipsCast (0x13d7f20), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x7f1fe02b8e30) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
309) VipsImage (0x14ca190), count=1
VipsImage (image), image class, 121x128 uchar, 4 bands, srgb, gifload_buffer
310) VipsEmbed (0x1485a90), count=2
VipsEmbed (embed), embed an image in a larger image, embed in=((VipsImage*) 0x153e1b0) out=((VipsImage*) 0x15dbca0) x=7 y=0 width=248 height=67 extend=((VipsExtend) VIPS_EXTEND_COPY) -
311) VipsImage (0x14ad020) 4176 bytes, count=3
VipsImage (image), image class, 1920x1080 uchar, 3 bands, srgb, pngload_buffer
312) VipsForeignLoadPngBuffer (0x7f1fc4005430), count=2
VipsForeignLoadPngBuffer (pngload_buffer), load png from buffer, priority=200, is_a_buffer, get_flags, get_flags_filename, header, load, pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002f4000, length = 135059 out=((VipsImage*) 0x14ad1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
313) VipsForeignLoadJpegBuffer (0x7f1fe023b8d0), count=2
VipsForeignLoadJpegBuffer (jpegload_buffer), load jpeg from buffer, priority=50, is_a_buffer, get_flags, get_flags_filename, header, load, jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fca00, length = 1259 out=((VipsImage*) 0x14884d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
314) VipsImage (0x7f1fe0239e10), count=4
VipsImage (image), image class, 1x1 uchar, 1 band, multiband
315) VipsSource (0x7f1fe8002ee0), count=2
VipsSource (source), input source, 
316) VipsCast (0x14bcd00), count=2
VipsCast (cast), cast an image, cast in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x14e97d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
317) VipsSource (0x7f1fe01efcb0), count=3
VipsSource (source), input source, 
318) VipsResize (0x7f1fc405a230), count=2
VipsResize (resize), resize an image, resize in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x1488660) kernel=((VipsKernel) VIPS_KERNEL_NEAREST) vscale=23.880597 scale=23.925234 -
2023/10/14 10:56:40 [govips.info] =======================================

--- PASS: TestImageRef_Close (0.00s)
=== RUN   TestImageRef_Close__AlreadyClosed
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_Close__AlreadyClosed (0.00s)
=== RUN   TestImageRef_NotImage
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [govips.info] failed to understand image format size=4928
--- PASS: TestImageRef_NotImage (0.00s)
=== RUN   TestImageRef_Label
2023/10/14 10:56:40 [govips.info] warning libvips already started
IPS_TYPE_BLOB, data = 0xc00131e000, length = 2980637 out=((VipsImage*) 0x14ca7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00035a000, length = 135059 out=((VipsImage*) 0x13de010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0015f6000, length = 2980637 out=((VipsImage*) 0x15db1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x15db1b0) out=((VipsImage*) 0x7f1fd401f650) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000660000, length = 135059 out=((VipsImage*) 0x7f1fc0008e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fc0008e20) out=((VipsImage*) 0x1468640) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0018ce000, length = 2980637 out=((VipsImage*) 0x158f1a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x7f1fd401fe20) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000682000, length = 135059 out=((VipsImage*) 0x1468320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1468320) out=((VipsImage*) 0x1430980) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000846000, length = 1297581 out=((VipsImage*) 0x7f1fe02c1e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1e10) out=((VipsImage*) 0x7f1fd4005650) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001bc000, length = 34855 out=((VipsImage*) 0x153e4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x153e4d0) out=((VipsImage*) 0x1468000) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a2000, length = 18146 out=((VipsImage*) 0x158f650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x158f650) out=((VipsImage*) 0x1488020) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002a6800, length = 18146 out=((VipsImage*) 0x1511010) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : copy in=((VipsImage*) 0x1511010) out=((VipsImage*) 0x143f660) -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006a4000, length = 311364 out=((VipsImage*) 0x153ee30) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache : copy in=((VipsImage*) 0x153ee30) out=((VipsImage*) 0x7f1fe8005000) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001ba6000, length = 1297581 out=((VipsImage*) 0x1475c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1475c80) out=((VipsImage*) 0x14e9960) -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001ce4000, length = 1297581 out=((VipsImage*) 0x15114c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec396e00, length = 3048 -
vips cache*: profile_load name="/tmp/govips-921380458/srgb_iec61966_2_1.icc" profile=VIPS_TYPE_BLOB, data = 0x7f1fec396e00, length = 3048 -
vips cache+: icc_transform in=((VipsImage*) 0x15114c0) intent=((VipsIntent) VIPS_INTENT_PERCEPTUAL) out=((VipsImage*) 0x14d6e20) output-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" embedded=TRUE input-profile="/tmp/govips-921380458/srgb_iec61966_2_1.icc" depth=8 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006f2000, length = 135059 out=((VipsImage*) 0x149dca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000714000, length = 135059 out=((VipsImage*) 0x7f1fd4005c90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fc500, length = 1259 ou--- PASS: TestImageRef_Label (0.10s)
=== RUN   TestImageRef_Composite
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
t=((VipsImage*) 0x143f660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fc00087e0) out=((VipsImage*) 0x1488020) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fc00087e0) out=((VipsImage*) 0x1468000) band=3 -
vips cache : copy in=((VipsImage*) 0x1468000) out=((VipsImage*) 0x1488980) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_MULTIBAND) -
vips cache+: text out=((VipsImage*) 0x14e9960) text="Text label" font="" width=0 height=0 align=((VipsAlign) VIPS_ALIGN_LOW) autofit-dpi=2 -
vips cache : copy in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x7f1fc0008970) -
vips cache+: linear in=((VipsImage*) 0x14e9960) out=((VipsImage*) 0x15d24b0) a=0  b=0  -
vips cache : copy in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x7f1fc015b190) -
vips cache+: cast in=((VipsImage*) 0x15d24b0) out=((VipsImage*) 0x15db340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: embed in=((VipsImage*) 0x15db340) out=((VipsImage*) 0x7f1fc015b320) x=0 y=0 width=1 height=1 -
vips cache+: black out=((VipsImage*) 0x7f1fc015b000) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x7f1fc015b000) out=((VipsImage*) 0x7f1fe02c17d0) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c17d0) out=((VipsImage*) 0x7f1fe02c1960) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c17d0) out=((VipsImage*) 0x7f1fe00bf660) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c17d0) out=((VipsImage*) 0x7f1fe00bf340) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb8292980) out=((VipsImage*) 0x7f1fe02c1af0) -
vips cache+: linear in=((VipsImage*) 0x7f1fc015b000) out=((VipsImage*) 0x7f1fc015b4b0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fc015b4b0) out=((VipsImage*) 0x7f1fc0008010) -
vips cache+: cast in=((VipsImage*) 0x7f1fc015b4b0) out=((VipsImage*) 0x7f1fe02c1190) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1190) out=((VipsImage*) 0x158f010) interpretation=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: embed in=((VipsImage*) 0x158f010) out=((VipsImage*) 0x13de330) x=0 y=0 width=100 height=100 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache : copy in=((VipsImage*) 0x7f1fc015b320) out=((VipsImage*) 0x1488e30) -
vips cache : copy in=((VipsImage*) 0x7f1fc015b320) out=((VipsImage*) 0x7f1fe02b8980) -
vips cache : copy in=((VipsImage*) 0x7f1fc015b320) out=((VipsImage*) 0x7f1fe02b8020) -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fb829b820) out=((VipsImage*) 0x7f1fe02b87f0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe02b87f0) out=((VipsImage*) 0x7f1fe8005e10) x=0 y=0 width=100 height=100 -
vips cache+: ifthenelse cond=((VipsImage*) 0x7f1fc015b320) in1=((VipsImage*) 0x13de330) in2=((VipsImage*) 0x143f660) out=((VipsImage*) 0x158fb00) blend=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00039e000, length = 135059 out=((VipsImage*) 0x7f1fe029b650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002c2000, length = 12858 out=((VipsImage*) 0x7f1fe0284640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe029b650) out=((VipsImage*) 0x7f1fe8005000) -
vips cache : copy in=((VipsImage*) 0x7f1fe0284640) out=((VipsImage*) 0x7f1fe029be20) -
vips cache*: black out=((VipsImage*) 0x7f1fe0239e10) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe02c14b0) -
vips cache+: linear in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe02c1320) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1320) out=((VipsImage*) 0x7f1fcc1a5660) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02c1320) out=((VipsImage*) 0x13de1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de1a0) out=((VipsImage*) 0x7f1fcc1a54d0) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x7f1fd401f7e0) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f1fe8005000) out=((VipsImage*) 0x7f1fe02c1c80) c=255  -
vips cache--- PASS: TestImageRef_Composite (0.00s)
=== RUN   TestImageRef_Insert
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Insert (0.00s)
=== RUN   TestImageRef_Join
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Join (0.00s)
=== RUN   TestImageRef_ArrayJoin
2023/10/14 10:56:40 [govips.info] warning libvips already started
+: colourspace in=((VipsImage*) 0x7f1fe02c1c80) out=((VipsImage*) 0x7f1fcc1a54d0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe029be20) out=((VipsImage*) 0x7f1fe00fc340) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: composite2 base=((VipsImage*) 0x7f1fe029b650) overlay=((VipsImage*) 0x7f1fe0284640) out=((VipsImage*) 0x7f1fc0008330) mode=((VipsBlendMode) VIPS_BLEND_MODE_XOR) x=10 y=20 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0003c0000, length = 135059 out=((VipsImage*) 0x14e9e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0006f2000, length = 135059 out=((VipsImage*) 0x1475e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x15111a0) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fd401fc90) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x7f1fe029b010) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x7f1fe0284c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x7f1fe029b4c0) -
vips cache+: insert main=((VipsImage*) 0x14e9e10) sub=((VipsImage*) 0x1475e10) out=((VipsImage*) 0x1511b00) x=100 y=200 expand=FALSE background=0 0 0  -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000714000, length = 135059 out=((VipsImage*) 0x7f1fe0284af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fd400, length = 1259 out=((VipsImage*) 0x7f1fe029b7e0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe0261960) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x1488660) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x14301b0) -
vips cache+: cast in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x13de7e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x13de7e0) out=((VipsImage*) 0x15dbca0) -
vips cache+: insert main=((VipsImage*) 0x7f1fe0284af0) sub=((VipsImage*) 0x7f1fe029b7e0) out=((VipsImage*) 0x7f1fe0284000) x=1920 y=0 expand=TRUE background=0  -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe0284000) out=((VipsImage*) 0x7f1fe02c1640) left=0 top=0 width=2020 height=100 -
vips cache+: join in1=((VipsImage*) 0x7f1fe0284af0) in2=((VipsImage*) 0x7f1fe029b7e0) out=((VipsImage*) 0x7f1fe029b330) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00075e000, length = 135059 out=((VipsImage*) 0x7f1fe0284960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001fd900, length = 1259 out=((VipsImage*) 0x7f1fe029bc90) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e0000, length = 1259 out=((VipsImage*) 0x7f1fcc1a5ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e0500, length = 1259 out=((VipsImage*) 0x7f1fcc1a57f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001e0a00, length = 1259 out=((VipsImage*) 0x7f1fe0261190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: embed in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x7f1fe02b8ca0) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: embed in=((VipsImage*) 0x7f1fe0284960) out=((VipsImage*) 0x7f1fe02b8ca0) x=0 y=0 width=2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_ArrayJoin (0.00s)
=== RUN   TestImageRef_Mapim
2023/10/14 10:56:40 [govips.info] warning libvips already started
1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fc0343c80) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe029b1a0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x7f1fe0243e20) -
vips cache+: cast in=((VipsImage*) 0x7f1fe029b1a0) out=((VipsImage*) 0x7f1fe0243c90) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0243c90) out=((VipsImage*) 0x7f1fe0243010) -
vips cache+: embed in=((VipsImage*) 0x7f1fe029bc90) out=((VipsImage*) 0x7f1fe0239af0) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe02847d0) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe0243b00) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fe0243b00) out=((VipsImage*) 0x1511c90) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0243b00) out=((VipsImage*) 0x7f1fe02b8b10) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x15db980) -
vips cache+: embed in=((VipsImage*) 0x7f1fcc1a5ca0) out=((VipsImage*) 0x7f1fe0243010) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x15b57f0) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x143fb10) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x7f1fe02434c0) -
vips cache+: cast in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x153e020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x153e020) out=((VipsImage*) 0x14887f0) -
vips cache+: embed in=((VipsImage*) 0x7f1fcc1a57f0) out=((VipsImage*) 0x15db980) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x14e97d0) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x14887f0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x13de650) -
vips cache+: cast in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x7f1fe0261c80) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261c80) out=((VipsImage*) 0x15d2320) -
vips cache+: embed in=((VipsImage*) 0x7f1fe0261190) out=((VipsImage*) 0x7f1fe0243330) x=0 y=0 width=1920 height=1080 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache+: arrayjoin in=((VipsArrayImage*) 0x7f1fc01382a0) out=((VipsImage*) 0x7f1fe0239960) across=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007a0000, length = 135059 out=((VipsImage*) 0x7f1fe0243970) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002c5500, length = 12858 out=((VipsImage*) 0x1475000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x7f1fe02431a0) -
vips cache+: extract_band in=((VipsImage*) 0x1475000) out=((VipsImage*) 0x15d2320) band=0 n=2 -
vips cache : copy in=((VipsImage*) 0x7f1fe0243970) out=((VipsImage*) 0x153e660) -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe02397d0) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x14d61a0) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x7f1fe80054b0) -
vips cache+: cast in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x7f1fe00bfca0) format=((VipsBandFormat)2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Mapim (0.00s)
=== RUN   TestImageRef_Mapim__Error
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_Mapim__Error (0.00s)
=== RUN   TestImageRef_Maplut
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Maplut (0.00s)
=== RUN   TestImageRef_Maplut_Error
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestImageRef_Maplut_Error (0.00s)
=== RUN   TestImageRef_CompositeMulti
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
 VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe0284e10) -
vips cache+: embed in=((VipsImage*) 0x153e660) out=((VipsImage*) 0x1430e30) x=1 y=1 width=1923 height=1083 extend=((VipsExtend) VIPS_EXTEND_BACKGROUND) background=0  -
vips cache*: black out=((VipsImage*) 0x1468960) width=1 height=1 bands=3 -
vips cache : copy in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe0284e10) -
vips cache+: linear in=((VipsImage*) 0x1468960) out=((VipsImage*) 0x7f1fe0261000) a=1  b=0  -
vips cache : copy in=((VipsImage*) 0x7f1fe0261000) out=((VipsImage*) 0x7f1fd401f330) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0261000) out=((VipsImage*) 0x7f1fe0261640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261640) out=((VipsImage*) 0x7f1fe0284320) -
vips cache+: mapim in=((VipsImage*) 0x7f1fe0243970) out=((VipsImage*) 0x7f1fe02b8340) index=((VipsImage*) 0x15d2320) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007c2000, length = 135059 out=((VipsImage*) 0x7f1fe0284320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002c8a00, length = 12858 out=((VipsImage*) 0x7f1fd4005e20) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00080e000, length = 135059 out=((VipsImage*) 0x14ad1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: xyz out=((VipsImage*) 0x149d020) width=1 height=1 -
vips cache : copy in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x7f1fd401f010) -
vips cache+: extract_band in=((VipsImage*) 0x14ad1b0) out=((VipsImage*) 0x158f4c0) band=0 n=2 -
vips cache+: cast in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x14e9640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: maplut in=((VipsImage*) 0x158f4c0) out=((VipsImage*) 0x7f1fe0239000) lut=((VipsImage*) 0x149d020) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000984000, length = 135059 out=((VipsImage*) 0x7f1fe02394b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: xyz out=((VipsImage*) 0x149d020) width=1 height=1 -
vips cache+: cast in=((VipsImage*) 0x7f1fe02394b0) out=((VipsImage*) 0x14ad020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009a6000, length = 135059 out=((VipsImage*) 0x7f1fe0239190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ce000, length = 12858 out=((VipsImage*) 0x7f1fc0343e10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002d8000, length = 47948 out=((VipsImage*) 0x7f1fe02b8660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe0239190) out=((VipsImage*) 0x7f1fe02b84d0) -
vips cache : copy in=((VipsImage*) 0x7f1fc0343e10) out=((VipsImage*) 0x14ca4b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8660) out=((VipsImage*) 0x7f1fc03434b0) -
vips cache*: black out=((VipsImage*) 0x7f1fe0239e10) width=1 height=1 bands=1 -
vips cache : copy in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe00bf4d0) -
vips cache+: linear in=((VipsImage*) 0x7f1fe0239e10) out=((VipsImage*) 0x7f1fe0239640) a=1  b=255  -
vips cache : copy in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x14e9000) -
vips cache+: cast in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x14d6970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x153eca0) -
vips cache : copy in=((VipsImage*) 0x7f1fe02b84d0) out=((VipsImage*) 0x7f1fc03437d0) -
vips cache+: bandjoin_const in=((VipsImage*) 0x7f1fe02b84d0) out=((VipsImage*) 0x15b5b10) c=255  -
vips cache+: colourspace in=((VipsImage*) 0x15b5b10) out=((VipsImage*) 0x158f7e0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x14ca4b0) out2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_CompositeMulti (0.15s)
=== RUN   TestCopy
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestCopy (0.00s)
=== RUN   TestMemstats
2023/10/14 10:56:40 [govips.info] MemoryStats: allocs: 6, files: 0, mem: 9150792, memhigh: 100721017
--- PASS: TestMemstats (0.00s)
=== RUN   TestBands
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestBands (0.00s)
=== RUN   TestCoding
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestCoding (0.00s)
=== RUN   TestGetRotation
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestGetRotation (0.00s)
=== RUN   TestResOffset
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestResOffset (0.00s)
=== RUN   TestToBytes
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestToBytes (0.02s)
=== RUN   TestBandJoin
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestBandJoin (0.00s)
=== RUN   TestExtractBandToImage
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestExtractBandToImage (0.00s)
=== RUN   TestBandSplit
2023/10/14 10:56:40 [govips.info] warning libvips already started
=((VipsImage*) 0x14d6650) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fc03434b0) out=((VipsImage*) 0x143f7f0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache+: composite in=((VipsArrayImage*) 0x7f1fb8043ae0) out=((VipsImage*) 0x14ca960) mode=2 2  x=20 40  y=40 60  -
vips cache+: cast in=((VipsImage*) 0x14ca960) out=((VipsImage*) 0x14884d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14884d0) out=((VipsImage*) 0x14b8e30) -
vips cache+: cast in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x14fe7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: linecache in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x14b81b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fd40051a0) out=((VipsImage*) 0x14fe660) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0239c80) out=((VipsImage*) 0x15db1b0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0239c80) out=((VipsImage*) 0x7f1fc0008e20) tile-height=16 -
vips cache+: linecache in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x7f1fcc1a5340) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x158f1a0) out=((VipsImage*) 0x14e94b0) tile-height=16 -
vips cache : pngsave_buffer in=((VipsImage*) 0x14ca960) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb8423540, length = 334230 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a20000, length = 135059 out=((VipsImage*) 0x153eca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x153eca0) out=((VipsImage*) 0x13de010) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a42000, length = 135059 out=((VipsImage*) 0x153e980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a64000, length = 135059 out=((VipsImage*) 0x14ca7d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000a86000, length = 135059 out=((VipsImage*) 0x158f650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000aa8000, length = 135059 out=((VipsImage*) 0x14fe4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x143fca0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0008c90) out=((VipsImage*) 0x14304d0) tile-height=16 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0010ba000, length = 135059 out=((VipsImage*) 0x153ee30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0000aa000, length = 15391 out=((VipsImage*) 0x1475c80) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x153ee30) out=((VipsImage*) 0x1511010) -
vips cache : copy in=((VipsImage*) 0x1475c80) out=((VipsImage*) 0x7f1fd4005c90) -
vips cache+: embed in=((VipsImage*) 0x7f1fd4005c90) out=((VipsImage*) 0x7f1fe029b970) x=0 y=0 width=1920 height=1080 -
vips cache+: bandjoin in=((VipsArrayImage*) 0x7f1fec075870) out=((VipsImage*) 0x149dca0) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0010dc000, length = 135059 out=((VipsImage*) 0x7f1fe02c1000) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1000) out=((VipsImage*) 0x7f1fe02b81b0) -
vips cache+: extract_band in=((VipsImage*) 0x7f1fe02c1000) out=((VipsImage*) 0x7f1fe02617d0) band=0 n=2 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0010fe000, length = 135059 out=((VipsImage*) 0x1430--- PASS: TestBandSplit (0.00s)
=== RUN   TestIsColorSpaceSupport
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestIsColorSpaceSupport (0.00s)
=== RUN   TestPages_webp
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestPages_webp (0.00s)
=== RUN   TestImageRef_Divide__Error
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [govips.info] failed to understand image format size=293608
    image_test.go:881: 
        	Error Trace:	image_test.go:881
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_Divide__Error
--- FAIL: TestImageRef_Divide__Error (0.00s)
=== RUN   TestXYZ
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestXYZ (0.00s)
=== RUN   TestIdentity
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestIdentity (0.00s)
=== RUN   TestDeprecatedExportParams
2023/10/14 10:56:40 [govips.info] warning libvips already started
--- PASS: TestDeprecatedExportParams (0.00s)
=== RUN   TestNewImageFromReaderFail
2023/10/14 10:56:40 [govips.info] failed to understand image format size=0
--- PASS: TestNewImageFromReaderFail (0.00s)
=== RUN   TestNewImageFromFileFail
--- PASS: TestNewImageFromFileFail (0.00s)
=== RUN   TestImageRef_Cast
2023/10/14 10:56:40 [GLib-GObject.warning] value "((VipsBandFormat) 127)" of type 'VipsBandFormat' is invalid or out of range for property 'format' of type 'VipsBandFormat'
--- PASS: TestImageRef_Cast (0.00s)
=== RUN   TestImageRef_Average
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_Average (0.03s)
=== RUN   TestImageRef_FindTrim_White
7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe0284190) -
vips cache+: extract_band in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe029b4c0) band=0 n=1 -
vips cache : copy in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x143f340) -
vips cache+: extract_band in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02844b0) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fe02b8e30) -
vips cache+: extract_band in=((VipsImage*) 0x14307f0) out=((VipsImage*) 0x7f1fcc1a5b10) band=2 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000148000, length = 335 out=((VipsImage*) 0x14feb10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x14cac80) -
vips cache+: extract_band in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x7f1fd4005970) band=0 n=1 -
vips cache : copy in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x1511e20) -
vips cache+: extract_band in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x15d2e10) band=1 n=1 -
vips cache : copy in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x153e7f0) -
vips cache+: extract_band in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x15b5660) band=2 n=1 -
vips cache : copy in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x158f330) -
vips cache+: extract_band in=((VipsImage*) 0x14feb10) out=((VipsImage*) 0x14fe340) band=3 n=1 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001120000, length = 135059 out=((VipsImage*) 0x1430340) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0001d4000, length = 4764 out=((VipsImage*) 0x153e340) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001142000, length = 135059 out=((VipsImage*) 0x149d4d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x149d4d0) out=((VipsImage*) 0x14cae10) -
vips cache+: extract_band in=((VipsImage*) 0x149d4d0) out=((VipsImage*) 0x7f1fe00bfe30) band=0 n=2 -
vips cache+: xyz out=((VipsImage*) 0x14d6c90) width=100 height=100 -
vips cache+: identity out=((VipsImage*) 0x15db020) -
vips cache+: identity out=((VipsImage*) 0x7f1fcc1a5660) ushort=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0011ac000, length = 135059 out=((VipsImage*) 0x7f1fe02c14b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: cast in=((VipsImage*) 0x7f1fe02c14b0) out=((VipsImage*) 0x13de1a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0011ce000, length = 135059 out=((VipsImage*) 0x7f1fe02c1320) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe02c1320) out=((VipsImage*) 0x14b8b10) -
vips cache+: linecache in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x15114c0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e9af0) out=((VipsImage*) 0x7f1fe029bb00) tile-height=16 -
vips cache+: avg in=((VipsImage*) 0x7f1fe02c1320) out=133.265109 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000148400, length = 367 out=((VipsImage*) 0x15111a0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x15111a0) out=((VipsImage*) 0x7f1fe0284c80) -
vips cache+: embed in=((VipsImage*) 0x7f1fe0284c80) out=((VipsImage*) 0x1430ca0) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x15111a0) out=((VipsImage*) 0x7f1fd401fc90) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x14b8660) -
vips cache+: linear in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x7f1fe029b010) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x7f1fe029b010) out=((VipsImage*) 0x1430b10) -
vips cache+: abs in=((VipsImage*) 0x7f1fe0292023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_White (0.03s)
=== RUN   TestImageRef_FindTrim_Gray
b010) out=((VipsImage*) 0x15d2af0) -
vips cache : copy in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x15dbe30) -
vips cache+: relational_const in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x14881b0) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x14881b0) out=((VipsImage*) 0x14301b0) -
vips cache+: bandbool in=((VipsImage*) 0x14881b0) out=((VipsImage*) 0x13de4c0) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x13de7e0) -
vips cache+: linecache in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x1475320) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14ca320) out=((VipsImage*) 0x14adb10) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x13de4c0) columns=((VipsImage*) 0x7f1fe0261960) rows=((VipsImage*) 0x1488660) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261960) out=((VipsImage*) 0x153eb10) -
vips cache+: profile in=((VipsImage*) 0x7f1fe0261960) columns=((VipsImage*) 0x13de970) rows=((VipsImage*) 0x14ad980) -
vips cache : copy in=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x7f1fd401f4c0) -
vips cache+: avg in=((VipsImage*) 0x14ad980) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7f1fe0261960) out=((VipsImage*) 0x149d1b0) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x149d1b0) out=((VipsImage*) 0x7f1fd40057e0) -
vips cache+: profile in=((VipsImage*) 0x149d1b0) columns=((VipsImage*) 0x7f1fd401f970) rows=((VipsImage*) 0x14ad340) -
vips cache : copy in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x143f020) -
vips cache+: avg in=((VipsImage*) 0x14ad340) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x149d660) -
vips cache+: profile in=((VipsImage*) 0x1488660) columns=((VipsImage*) 0x7f1fd4005010) rows=((VipsImage*) 0x7f1fd401f1a0) -
vips cache : copy in=((VipsImage*) 0x7f1fd4005010) out=((VipsImage*) 0x7f1fe029b1a0) -
vips cache+: avg in=((VipsImage*) 0x7f1fd4005010) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x1488660) out=((VipsImage*) 0x7f1fe0243e20) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x15d2960) -
vips cache+: profile in=((VipsImage*) 0x7f1fe0243e20) columns=((VipsImage*) 0x1475640) rows=((VipsImage*) 0x143f1b0) -
vips cache : copy in=((VipsImage*) 0x1475640) out=((VipsImage*) 0x7f1fe0243b00) -
vips cache+: avg in=((VipsImage*) 0x1475640) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x15111a0) threshold=0.000000 background=255 255 255  left=0 top=0 width=432 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000148600, length = 367 out=((VipsImage*) 0x7f1fe02847d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe02847d0) out=((VipsImage*) 0x143fb10) -
vips cache+: embed in=((VipsImage*) 0x143fb10) out=((VipsImage*) 0x1511c90) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x7f1fe02847d0) out=((VipsImage*) 0x7f1fe0243c90) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x7f1fe0243c90) out=((VipsImage*) 0x7f1fe02434c0) -
vips cache+: linear in=((VipsImage*) 0x7f1fe0243c90) out=((VipsImage*) 0x14ad7f0) a=1  b=-238  -
vips cache : copy in=((VipsImage*) 0x14ad7f0) out=((VipsImage*) 0x14887f0) -
vips cache+: abs in=((VipsImage*) 0x14ad7f0) out=((VipsImage*) 0x13de650) -
vips cache : copy in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x7f1fe0261c80) -
vips cache+: relational_const in=((VipsImage*) 0x13de650) out=((VipsImage*) 0x14e97d0) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=0  -
vips cache : copy in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x153e020) -
vips cache+: bandbool in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x15b57f0) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x15b57f0) out=((VipsImage*) 02023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Gray (0.02s)
=== RUN   TestImageRef_FindTrim_Threshold
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
x7f1fe8005190) -
vips cache+: linecache in=((VipsImage*) 0x15b5980) out=((VipsImage*) 0x7f1fe8005320) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15b5980) out=((VipsImage*) 0x14b8340) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x15b57f0) columns=((VipsImage*) 0x7f1fc0343c80) rows=((VipsImage*) 0x7f1fe02b8b10) -
vips cache : copy in=((VipsImage*) 0x7f1fc0343c80) out=((VipsImage*) 0x158fc90) -
vips cache+: profile in=((VipsImage*) 0x7f1fc0343c80) columns=((VipsImage*) 0x158f970) rows=((VipsImage*) 0x14b8980) -
vips cache : copy in=((VipsImage*) 0x14b8980) out=((VipsImage*) 0x14d61a0) -
vips cache+: avg in=((VipsImage*) 0x14b8980) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x7f1fc0343c80) out=((VipsImage*) 0x7f1fe80054b0) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x7f1fe80054b0) out=((VipsImage*) 0x15dbb10) -
vips cache+: profile in=((VipsImage*) 0x7f1fe80054b0) columns=((VipsImage*) 0x1511330) rows=((VipsImage*) 0x1488340) -
vips cache : copy in=((VipsImage*) 0x1488340) out=((VipsImage*) 0x7f1fe00bfca0) -
vips cache+: avg in=((VipsImage*) 0x1488340) out=0.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x158fe20) -
vips cache+: profile in=((VipsImage*) 0x7f1fe02b8b10) columns=((VipsImage*) 0x7f1fe0261640) rows=((VipsImage*) 0x1468960) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261640) out=((VipsImage*) 0x7f1fe02397d0) -
vips cache+: avg in=((VipsImage*) 0x7f1fe0261640) out=0.000000 -
vips cache+: flip in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe0261000) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x7f1fe0261000) out=((VipsImage*) 0x14e9c80) -
vips cache+: profile in=((VipsImage*) 0x7f1fe0261000) columns=((VipsImage*) 0x7f1fd401f330) rows=((VipsImage*) 0x7f1fe0284e10) -
vips cache : copy in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x1475960) -
vips cache+: avg in=((VipsImage*) 0x7f1fd401f330) out=0.000000 -
vips cache+: find_trim in=((VipsImage*) 0x7f1fe02847d0) threshold=0.000000 background=238 238 238  left=32 top=0 width=480 height=320 -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000148800, length = 367 out=((VipsImage*) 0x14fee30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : copy in=((VipsImage*) 0x14fee30) out=((VipsImage*) 0x14fe980) -
vips cache+: embed in=((VipsImage*) 0x14fe980) out=((VipsImage*) 0x7f1fd4005b00) x=1 y=1 width=514 height=322 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: rank in=((VipsImage*) 0x14fee30) out=((VipsImage*) 0x149de30) width=3 height=3 index=4 -
vips cache : copy in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x15d2190) -
vips cache+: linear in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x15b51b0) a=1  b=-255  -
vips cache : copy in=((VipsImage*) 0x15b51b0) out=((VipsImage*) 0x15b5e30) -
vips cache+: abs in=((VipsImage*) 0x15b51b0) out=((VipsImage*) 0x14ad020) -
vips cache : copy in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x7f1fe00fc1b0) -
vips cache+: relational_const in=((VipsImage*) 0x14ad020) out=((VipsImage*) 0x14d6330) relational=((VipsOperationRelational) VIPS_OPERATION_RELATIONAL_MORE) c=17  -
vips cache : copy in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x7f1fe00fc7f0) -
vips cache+: bandbool in=((VipsImage*) 0x14d6330) out=((VipsImage*) 0x7f1fe8005960) boolean=((VipsOperationBoolean) VIPS_OPERATION_BOOLEAN_OR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005960) out=((VipsImage*) 0x7f1fe00fcb10) -
vips cache+: linecache in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x14d6010) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x15d2000) out=((VipsImage*) 0x14e9190) tile-height=16 -
vips cache+: project in=((VipsImage*) 0x7f1fe8005960) columns=((VipsImage*) 0x13dec90) rows=((VipsImage*) 0x7f1fe00fcca0) -
vips cache : copy in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x7f1fe80057d0) -
vips cache+: profile in=((VipsImage*) 0x13dec90) columns=((V2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:40 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestImageRef_FindTrim_Threshold (0.02s)
=== RUN   TestImageRef_Height
--- PASS: TestImageRef_Height (0.00s)
=== RUN   TestImageRef_Linear_Fails
--- PASS: TestImageRef_Linear_Fails (0.00s)
=== RUN   TestImageRef_AVIF
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [govips.info] failed to understand image format size=503442
    image_test.go:1002: 
        	Error Trace:	image_test.go:1002
        	Error:      	Received unexpected error:
        	            	unsupported image format
        	Test:       	TestImageRef_AVIF
--- FAIL: TestImageRef_AVIF (0.00s)
=== RUN   TestImageRef_JP2K
2023/10/14 10:56:40 [govips.info] warning libvips already started
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 1 / 48
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 2 / 48
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 3 / 48
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 4 / 48
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 5 / 48
2023/10/14 10:56:40 [VIPS.info] jp2ksave: tile number 6 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 7 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 8 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 9 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 10 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 11 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 12 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 13 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 14 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 15 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 16 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 17 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 18 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 19 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 20 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 21 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 22 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 23 / 48
2023/10/14 10:56:41 [VIPS.info] jp2ksave: tile number 24 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 25 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 26 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 27 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 28 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 29 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 30 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 31 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 32 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 33 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 34 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 35 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 36 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 37 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 38 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 39 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 40 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 41 / 48
2023/10/14 10:56:42 [VIPS.info] jp2ksave: tile number 42 / 48
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 43 / 48
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 44 / 48
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 45 / 48
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 46 / 48
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 47 / 48
2023/10/14 10:56:43 [VIPS.info] jp2ksave: tile number 48 / 48
--- PASS: TestImageRef_JP2K (2.55s)
=== RUN   TestThumbnail_NoCrop
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.404494
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.404494
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
ipsImage*) 0x7f1fe00fc980) rows=((VipsImage*) 0x7f1fe0239640) -
vips cache : copy in=((VipsImage*) 0x7f1fe0239640) out=((VipsImage*) 0x15b5ca0) -
vips cache+: avg in=((VipsImage*) 0x7f1fe0239640) out=80.000000 -
vips cache+: flip in=((VipsImage*) 0x13dec90) out=((VipsImage*) 0x14e9000) direction=((VipsDirection) VIPS_DIRECTION_HORIZONTAL) -
vips cache : copy in=((VipsImage*) 0x14e9000) out=((VipsImage*) 0x14d6970) -
vips cache+: profile in=((VipsImage*) 0x14e9000) columns=((VipsImage*) 0x7f1fe0239e10) rows=((VipsImage*) 0x7f1fe00bf4d0) -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf4d0) out=((VipsImage*) 0x15b5020) -
vips cache+: avg in=((VipsImage*) 0x7f1fe00bf4d0) out=80.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe00fcca0) out=((VipsImage*) 0x13dee20) -
vips cache+: profile in=((VipsImage*) 0x7f1fe00fcca0) columns=((VipsImage*) 0x7f1fe00fce30) rows=((VipsImage*) 0x15db7f0) -
vips cache : copy in=((VipsImage*) 0x7f1fe00fce30) out=((VipsImage*) 0x7f1fd401fb00) -
vips cache+: avg in=((VipsImage*) 0x7f1fe00fce30) out=32.000000 -
vips cache+: flip in=((VipsImage*) 0x7f1fe00fcca0) out=((VipsImage*) 0x149d980) direction=((VipsDirection) VIPS_DIRECTION_VERTICAL) -
vips cache : copy in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x14b8e30) -
vips cache+: profile in=((VipsImage*) 0x149d980) columns=((VipsImage*) 0x7f1fc00084c0) rows=((VipsImage*) 0x7f1fc0343000) -
vips cache : copy in=((VipsImage*) 0x7f1fc00084c0) out=((VipsImage*) 0x14fe7f0) -
vips cache+: avg in=((VipsImage*) 0x7f1fc00084c0) out=32.000000 -
vips cache+: find_trim in=((VipsImage*) 0x14fee30) threshold=17.000000 background=255 255 255  left=80 top=32 width=352 height=256 -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00037c000, length = 33297 out=((VipsImage*) 0x7f1fc0343190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0011f0000, length = 135059 out=((VipsImage*) 0x14884d0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jp2kload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc001e22000, length = 2444355 out=((VipsImage*) 0x143f980) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : copy in=((VipsImage*) 0x143f980) out=((VipsImage*) 0x15117e0) -
vips cache+: tilecache in=((VipsImage*) 0x15dbca0) out=((VipsImage*) 0x153e4d0) tile-width=512 tile-height=512 max-tiles=18 -
vips cache : jp2ksave_buffer in=((VipsImage*) 0x143f980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb9377dc0, length = 2609513 tile-width=512 tile-height=512 lossless=FALSE Q=80 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) -
vips cache+: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x14fe1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f1fe8005af0) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe8005af0) out=((VipsImage*) 0x15117e0) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x15117e0) out=((VipsImage*) 0x7f1fe8005c80) -
vips cache : copy in=((VipsImage*) 0x7f1fe8005c80) out=((VipsImage*) 0x7f1fe00bf1b0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe00bf1b0) out=((VipsImage*) 0x7f1fe00bfb10) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x1430660) out=((VipsImage*) 0x15d27d0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1430660) out=((VipsImage*) 0x7f1fe8005640) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe8005c80) out=((VipsImage*) 0x7f1fe00bf020) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe00bf020) out=((VipsImage*) 0x14b8020) -
vips cache+: embed in=((VipsImage*) 0x14b8020) out=((VipsImage*) 0x149d7f0) x=7 y=0 width2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.404494
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.404494
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe00bf020) out=((VipsImage*) 0x14ad660) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x15117e0) out=((VipsImage*) 0x7f1fe00fc660) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x1468c80) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x1468c80) out=((VipsImage*) 0x14ca640) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14ca640) out=((VipsImage*) 0x143f4d0) -
vips cache+: linecache in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x14d6b00) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14b8ca0) out=((VipsImage*) 0x14ca000) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14ca000) out=((VipsImage*) 0x14d67e0) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x1468c80) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb88b9030, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002e4000, length = 22543 out=((VipsImage*) 0x1475af0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00128e000, length = 187806 out=((VipsImage*) 0x7f1fe00bf7f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00128e000, length = 187806 out=((VipsImage*) 0x143f4d0) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x143f4d0) out=((VipsImage*) 0x7f1fc015b640) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fc015b640) out=((VipsImage*) 0x7f1fc015b960) -
vips cache : copy in=((VipsImage*) 0x7f1fc015b960) out=((VipsImage*) 0x7f1fc015bc80) -
vips cache+: embed in=((VipsImage*) 0x7f1fc015bc80) out=((VipsImage*) 0x7f1fc015be10) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fb88fd000) out=((VipsImage*) 0x7f1fb88fd320) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fb88fd000) out=((VipsImage*) 0x7f1fb88fd190) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fc015b960) out=((VipsImage*) 0x7f1fc015baf0) vshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fc015baf0) out=((VipsImage*) 0x7f1fb88fd640) -
vips cache+: embed in=((VipsImage*) 0x7f1fb88fd640) out=((VipsImage*) 0x7f1fb88fd7d0) x=7 y=0 width=104 height=24 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fc015baf0) out=((VipsImage*) 0x7f1fb88fd4b0) hshrink=2.472222 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fc015b640) out=((VipsImage*) 0x7f1fc015b7d0) vscale=0.404494 scale=0.404494 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00128e000, length = 187806 out=((VipsImage*) 0x7f1fb88fd960) width=36 height=36 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fb88fd960) out=((VipsImage*) 0x7f1fb88fdaf0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fb88fdaf0) out=((VipsImage*) 0x7f1fb88fdc80) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc05011a0) out=((VipsImage*) 0x7f1fc05014c0) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc05011a0) out=((VipsImage*) 0x7f1fc050132023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_NoCrop (0.11s)
=== RUN   TestThumbnail_NoUpscale
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
30) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc0501330) out=((VipsImage*) 0x7f1fc0501650) left=0 top=0 width=89 height=60 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fb88fd960) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb8950370, length = 22543 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc000746000, length = 22543 out=((VipsImage*) 0x7f1fb88fde10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x14fe1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f1fb88fdc80) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fb88fdc80) out=((VipsImage*) 0x7f1fc0501c90) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fc0501c90) out=((VipsImage*) 0x7f1fb896e010) -
vips cache+: resize in=((VipsImage*) 0x7f1fc0501c90) out=((VipsImage*) 0x7f1fc0501e20) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f1fb896e1a0) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fb896e1a0) out=((VipsImage*) 0x7f1fb896e330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fb896e330) out=((VipsImage*) 0x7f1fb896e4c0) -
vips cache+: linecache in=((VipsImage*) 0x7f1fc0501970) out=((VipsImage*) 0x7f1fb896e970) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc0501970) out=((VipsImage*) 0x7f1fc0501b00) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc0501b00) out=((VipsImage*) 0x7f1fb896eb00) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fb896e1a0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fb8a594a0, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0007ea000, length = 86168 out=((VipsImage*) 0x7f1fb896e650) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0012bc000, length = 187806 out=((VipsImage*) 0x7f1fcc1a5980) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0012bc000, length = 187806 out=((VipsImage*) 0x7f1fe00bf980) shrink=1 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe00bf980) out=((VipsImage*) 0x7f1fcc1a5e30) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fcc1a5e30) out=((VipsImage*) 0x13deb00) -
vips cache+: resize in=((VipsImage*) 0x7f1fcc1a5e30) out=((VipsImage*) 0x7f1fe02614b0) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0012bc000, length = 187806 out=((VipsImage*) 0x7f1fe8110010) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8110010) out=((VipsImage*) 0x7f1fe81101a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe81101a0) out=((VipsImage*) 0x7f1fe8110330) -
vips cache+: linecache in=((VipsImage*) 0x7f1fb896ee20) out=((VipsImage*) 0x7f1fe8110650) tile-height=8 access=((VipsAcce2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_NoUpscale (0.14s)
=== RUN   TestThumbnail_CropCentered
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/jpg-8bit-grey-icc-dot-gain.jpg
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegFile
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.416667
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.416667
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] cropping to 25x25
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
ss) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fb896ee20) out=((VipsImage*) 0x14b8b10) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14b8b10) out=((VipsImage*) 0x7f1fe81107e0) left=0 top=0 width=715 height=483 -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe8110010) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe807ba30, length = 86168 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0012ea000, length = 86168 out=((VipsImage*) 0x7f1fe81104c0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache*: jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x14fe1b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x7f1fe8110330) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe8110330) out=((VipsImage*) 0x7f1fe8110c90) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x7f1fe8110c90) out=((VipsImage*) 0x7f1fe8034010) -
vips cache : copy in=((VipsImage*) 0x7f1fe8034010) out=((VipsImage*) 0x7f1fe8034330) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8034330) out=((VipsImage*) 0x7f1fe80344c0) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8034650) out=((VipsImage*) 0x7f1fd401f4c0) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8034650) out=((VipsImage*) 0x7f1fe80347e0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe8034010) out=((VipsImage*) 0x7f1fe80341a0) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe80341a0) out=((VipsImage*) 0x7f1fe8034970) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8034970) out=((VipsImage*) 0x7f1fe8034b00) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe80341a0) out=((VipsImage*) 0x143f020) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe8110c90) out=((VipsImage*) 0x7f1fe8110e20) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x7f1fc8010020) out=((VipsImage*) 0x7f1fc8010340) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fc8010020) out=((VipsImage*) 0x7f1fc80101b0) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fc80101b0) out=((VipsImage*) 0x7f1fc80104d0) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x7f1fe8034c90) out=((VipsImage*) 0x7f1fe029b1a0) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x7f1fe8034c90) attention-x=0 out=((VipsImage*) 0x7f1fe8034e20) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/jpg-8bit-grey-icc-dot-gain.jpg" out=((VipsImage*) 0x13de4c0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x13de4c0) out=((VipsImage*) 0x14301b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14301b0) out=((VipsImage*) 0x14881b0) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x13de4c0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe807f930, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_2023/10/14 10:56:43 [VIPS.info] thumbnailing 187806 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadJpegBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 715 x 483
2023/10/14 10:56:43 [VIPS.info] loading with factor 8 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 89 x 60
2023/10/14 10:56:43 [VIPS.info] converting to processing space b-w
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.416667
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.416667
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] cropping to 25x25
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_CropCentered (0.12s)
=== RUN   TestThumbnail_PNG_CropCentered
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/png-24bit.png
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadPngFile
2023/10/14 10:56:43 [VIPS.info] input size is 1920 x 1080
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
TYPE_BLOB, data = 0xc001316000, length = 22539 out=((VipsImage*) 0x15dbe30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002304000, length = 187806 out=((VipsImage*) 0x14881b0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002304000, length = 187806 out=((VipsImage*) 0x15d2af0) shrink=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x15d2af0) out=((VipsImage*) 0x1430b10) space=((VipsInterpretation) VIPS_INTERPRETATION_B_W) -
vips cache : copy in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x14b8660) -
vips cache : copy in=((VipsImage*) 0x14b8660) out=((VipsImage*) 0x1430ca0) -
vips cache+: embed in=((VipsImage*) 0x1430ca0) out=((VipsImage*) 0x7f1fe0284c80) x=0 y=7 width=89 height=75 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x1475640) out=((VipsImage*) 0x149d660) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x1475640) out=((VipsImage*) 0x7f1fd401f1a0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x14b8660) out=((VipsImage*) 0x7f1fd401fc90) vshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x14ad340) -
vips cache+: embed in=((VipsImage*) 0x14ad340) out=((VipsImage*) 0x7f1fd40057e0) x=7 y=0 width=104 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fd401fc90) out=((VipsImage*) 0x7f1fd4005010) hshrink=2.400000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x1430b10) out=((VipsImage*) 0x7f1fe029b010) vscale=0.416667 scale=0.416667 -
vips cache+: linecache in=((VipsImage*) 0x7f1fcc1a51b0) out=((VipsImage*) 0x153eb10) tile-height=8 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fcc1a51b0) out=((VipsImage*) 0x14ad980) tile-height=8 -
vips cache+: extract_area input=((VipsImage*) 0x14ad980) out=((VipsImage*) 0x13de970) left=0 top=0 width=89 height=60 -
vips cache+: extract_area input=((VipsImage*) 0x149d1b0) out=((VipsImage*) 0x7f1fd401f970) left=6 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x149d1b0) attention-x=0 out=((VipsImage*) 0x7f1fe0261960) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002304000, length = 187806 out=((VipsImage*) 0x7f1fe02397d0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe02397d0) out=((VipsImage*) 0x14d61a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x14d61a0) out=((VipsImage*) 0x7f1fc8010660) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe02397d0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8183f90, length = 22539 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002332000, length = 22539 out=((VipsImage*) 0x7f1fc80107f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x7f1fc8010b10) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload filename="../resources/png-24bit.png" out=((VipsImage*) 0x7f1fe8005190) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe8005190) out=((VipsImage*) 0x15b57f0) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x15b57f0) out=((V2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.0231481
2023/10/14 10:56:43 [VIPS.info] shrinkv by 21
2023/10/14 10:56:43 [VIPS.info] shrinkv sequential line cache
2023/10/14 10:56:43 [VIPS.info] reducev: 13 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 10:56:43 [VIPS.info] shrinkh by 21
2023/10/14 10:56:43 [VIPS.info] reduceh: 13 point mask
2023/10/14 10:56:43 [VIPS.info] cropping to 25x25
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] thumbnailing 135059 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadPngBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 1920 x 1080
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 1920 x 1080
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.0231481
2023/10/14 10:56:43 [VIPS.info] shrinkv by 21
ipsImage*) 0x7f1fe02b8b10) -
vips cache+: embed in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe0261000) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x13de650) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x14e97d0) out=((VipsImage*) 0x7f1fe0261c80) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x14e9c80) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x14e9c80) out=((VipsImage*) 0x14887f0) -
vips cache+: embed in=((VipsImage*) 0x14887f0) out=((VipsImage*) 0x14ad7f0) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe02434c0) out=((VipsImage*) 0x1511c90) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe02434c0) out=((VipsImage*) 0x7f1fe0243c90) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe02b8b10) out=((VipsImage*) 0x7f1fe0284e10) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7f1fe0284e10) out=((VipsImage*) 0x1468960) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7f1fe0284e10) out=((VipsImage*) 0x7f1fd401f330) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fd401f330) out=((VipsImage*) 0x158fe20) -
vips cache+: embed in=((VipsImage*) 0x158fe20) out=((VipsImage*) 0x7f1fe0261640) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe0284e10) out=((VipsImage*) 0x143fb10) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x15b57f0) out=((VipsImage*) 0x153e020) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x13de7e0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe0243e20) out=((VipsImage*) 0x1488660) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x1488340) out=((VipsImage*) 0x7f1fe80054b0) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x1488340) attention-x=0 out=((VipsImage*) 0x15dbb10) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail filename="../resources/png-24bit.png" out=((VipsImage*) 0x15b5ca0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x15b5ca0) out=((VipsImage*) 0x7f1fb896e330) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fb896e330) out=((VipsImage*) 0x7f1fb88fdaf0) -
vips cache+: cast in=((VipsImage*) 0x7f1fb88fdaf0) out=((VipsImage*) 0x7f1fe00bf7f0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x15b5ca0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8195670, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc00131d000, length = 3709 out=((VipsImage*) 0x14ca640) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002388000, length = 135059 out=((VipsImage*) 0x14b8e30) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002388000, length = 135059 out=((VipsImage*) 0x7f1fe00fcca0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe00fcca0) out=((VipsImage*) 0x149d980) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x7f1fe00fcb10) -
vips cache+: embed in=((Vip2023/10/14 10:56:43 [VIPS.info] shrinkv sequential line cache
2023/10/14 10:56:43 [VIPS.info] reducev: 13 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.0231481
2023/10/14 10:56:43 [VIPS.info] shrinkh by 21
2023/10/14 10:56:43 [VIPS.info] reduceh: 13 point mask
2023/10/14 10:56:43 [VIPS.info] cropping to 25x25
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_PNG_CropCentered (0.16s)
=== RUN   TestThumbnail_Decode_BMP
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/bmp.bmp
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadMagickFile
2023/10/14 10:56:43 [VIPS.info] input size is 164 x 211
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
sImage*) 0x7f1fe00fcb10) out=((VipsImage*) 0x14d6330) x=0 y=0 width=1920 height=1092 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00fc1b0) out=((VipsImage*) 0x15b5e30) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00fc1b0) out=((VipsImage*) 0x14ad020) tile-height=10 -
vips cache+: shrinkv in=((VipsImage*) 0x7f1fe00fcb10) out=((VipsImage*) 0x7f1fe00fc7f0) vshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x7f1fe00fc7f0) out=((VipsImage*) 0x15b51b0) -
vips cache+: embed in=((VipsImage*) 0x15b51b0) out=((VipsImage*) 0x15d2190) x=0 y=6 width=1920 height=65 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x14fe980) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x149de30) out=((VipsImage*) 0x7f1fd4005b00) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe00fcb10) out=((VipsImage*) 0x7f1fe8005960) vshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: embed in=((VipsImage*) 0x7f1fe8005960) out=((VipsImage*) 0x13dee20) x=0 y=0 width=1941 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: shrinkh in=((VipsImage*) 0x7f1fe8005960) out=((VipsImage*) 0x15db7f0) hshrink=21 ceil=TRUE -
vips cache : copy in=((VipsImage*) 0x15db7f0) out=((VipsImage*) 0x7f1fe00fce30) -
vips cache+: embed in=((VipsImage*) 0x7f1fe00fce30) out=((VipsImage*) 0x7f1fe00bf4d0) x=6 y=0 width=105 height=25 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe8005960) out=((VipsImage*) 0x7f1fc00084c0) hshrink=2.057143 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x149d980) out=((VipsImage*) 0x7f1fc0343000) vscale=0.023148 scale=0.023148 -
vips cache+: linecache in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe0239640) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe00bfca0) out=((VipsImage*) 0x7f1fe0239e10) tile-height=16 -
vips cache+: extract_area input=((VipsImage*) 0x14d6970) out=((VipsImage*) 0x13dec90) left=9 top=0 width=25 height=25 -
vips cache+: smartcrop input=((VipsImage*) 0x14d6970) attention-x=0 out=((VipsImage*) 0x14e9000) attention-y=0 width=25 height=25 interesting=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002388000, length = 135059 out=((VipsImage*) 0x14fe7f0) width=25 height=25 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_CENTRE) -
vips cache+: cast in=((VipsImage*) 0x14fe7f0) out=((VipsImage*) 0x7f1fd401fb00) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fd401fb00) out=((VipsImage*) 0x15b5020) -
vips cache+: cast in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x143f1b0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : pngsave_buffer in=((VipsImage*) 0x14fe7f0) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8201a90, length = 3709 compression=6 interlace=FALSE filter=((VipsForeignPngFilter) VIPS_FOREIGN_PNG_FILTER_NONE) palette=FALSE strip=FALSE -
vips cache+: pngload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0009cb000, length = 3709 out=((VipsImage*) 0x1511330) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x14b8980) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload filename="../resources/bmp.bmp" out=((VipsImage*) 0x158fc90) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x158fc90) out=((VipsImage*) 0x14b8980) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x14b8980) out=((VipsImage*) 0x158f970) -
vips cache+: resize in=((VipsImage*) 0x14b8980) out=((VipsImage*) 0x7f1fc0343c80) vscale=1.000000 2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] thumbnailing 35682 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadMagickBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 164 x 211
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 164 x 211
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_Decode_BMP (0.15s)
=== RUN   TestThumbnail_GIF
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/gif-animated.gif
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 128
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 128
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.413223
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
scale=1.000000 -
vips cache : thumbnail filename="../resources/bmp.bmp" out=((VipsImage*) 0x7f1fc8010980) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fc8010980) out=((VipsImage*) 0x1475960) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x1475960) out=((VipsImage*) 0x7f1fc8010660) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fc8010980) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe828f910, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002422000, length = 9329 out=((VipsImage*) 0x7f1fc8010660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002440000, length = 35682 out=((VipsImage*) 0x7f1fc8010ca0) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) -
vips cache : magickload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002440000, length = 35682 out=((VipsImage*) 0x7f1fc8010e30) flags=((VipsForeignFlags) VIPS_FOREIGN_PARTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: colourspace in=((VipsImage*) 0x7f1fc8010e30) out=((VipsImage*) 0x7f1fe8295020) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe8295020) out=((VipsImage*) 0x7f1fc8010ca0) -
vips cache+: resize in=((VipsImage*) 0x7f1fe8295020) out=((VipsImage*) 0x7f1fe82951b0) vscale=1.000000 scale=1.000000 -
vips cache : thumbnail_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002440000, length = 35682 out=((VipsImage*) 0x7f1fe8295340) width=9999 height=9999 size=((VipsSize) VIPS_SIZE_DOWN) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8295340) out=((VipsImage*) 0x7f1fe82954d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe82954d0) out=((VipsImage*) 0x7f1fe8295660) -
vips cache : jpegsave_buffer in=((VipsImage*) 0x7f1fe8295340) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe835bc60, length = 9329 Q=80 optimize-coding=FALSE interlace=TRUE trellis-quant=FALSE overshoot-deringing=FALSE optimize-scans=FALSE quant-table=0 subsample-mode=((VipsForeignSubsample) VIPS_FOREIGN_SUBSAMPLE_AUTO) strip=FALSE -
vips cache+: jpegload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc002426a00, length = 9329 out=((VipsImage*) 0x7f1fe82957f0) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe8295660) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x1475960) flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) -
vips cache+: colourspace in=((VipsImage*) 0x1475960) out=((VipsImage*) 0x15b5020) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x143f1b0) -
vips cache+: premultiply in=((VipsImage*) 0x15b5020) out=((VipsImage*) 0x7f1fd401fb00) -
vips cache : copy in=((VipsImage*) 0x7f1fd401fb00) out=((VipsImage*) 0x7f1fe82954d0) -
vips cache+: cast in=((VipsImage*) 0x7f1fd401fb00) out=((VipsImage*) 0x7f1fe8295660) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8295660) out=((VipsImage*) 0x7f1fb88fdaf0) -
vips cache : copy in=((VipsImage*) 0x7f1fb88fdaf0) out=((VipsImage*) 0x7f1fe00bf7f0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe00bf7f0) out=((VipsImage*) 0x7f1fe8295980) x=0 y=7 width=121 height=143 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8295b10) out=((VipsImage*) 0x7f1fe8295e30) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8295b10) out=((VipsImage*) 0x72023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:88
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 317 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00021ab68?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7f1fe839faf0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7f1fe839faf0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0002541e0, 0xc00025e4e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00024ab10?, {0x6a43ae, 0x1d}, 0xc0001d0f60?, 0x6cb818, 0x4f2314?, 0x0?, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF(0xc00025e4e0)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:88 +0x8f
        	            	testing.tRunner(0xc00025e4e0, 0x6cb840)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF
--- FAIL: TestThumbnail_GIF (0.01s)
=== RUN   TestThumbnail_GIF_Animated
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 1024
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.414062
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
f1fe8295ca0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fb88fdaf0) out=((VipsImage*) 0x7f1fb896e330) vshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fb896e330) out=((VipsImage*) 0x7f1fe839f190) -
vips cache+: embed in=((VipsImage*) 0x7f1fe839f190) out=((VipsImage*) 0x7f1fe839f320) x=7 y=0 width=136 height=53 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fb896e330) out=((VipsImage*) 0x7f1fe839f000) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe8295660) out=((VipsImage*) 0x14b8e30) vscale=0.413223 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x7f1fe839f640) -
vips cache+: unpremultiply in=((VipsImage*) 0x14b8e30) out=((VipsImage*) 0x7f1fe839f4b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe839f4b0) out=((VipsImage*) 0x7f1fe839f960) -
vips cache+: cast in=((VipsImage*) 0x7f1fe839f4b0) out=((VipsImage*) 0x7f1fe839f7d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : thumbnail filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe839faf0) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe839fc80) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe839fe10) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe839fe10) out=((VipsImage*) 0x7f1fe8390020) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe8390020) out=((VipsImage*) 0x7f1fe839fc80) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe8390020) out=((VipsImage*) 0x7f1fe83901b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe83901b0) out=((VipsImage*) 0x7f1fe83904d0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe83901b0) out=((VipsImage*) 0x7f1fe8390340) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8390340) out=((VipsImage*) 0x7f1fe83907f0) -
vips cache : copy in=((VipsImage*) 0x7f1fe83907f0) out=((VipsImage*) 0x7f1fe8390b10) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8390b10) out=((VipsImage*) 0x7f1fe8390ca0) x=0 y=7 width=121 height=1039 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8390e30) out=((VipsImage*) 0x7f1fe841c190) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8390e30) out=((VipsImage*) 0x7f1fe841c000) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe83907f0) out=((VipsImage*) 0x7f1fe8390980) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe8390980) out=((VipsImage*) 0x7f1fe841c4b0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe841c4b0) out=((VipsImage*) 0x7f1fe841c640) x=7 y=0 width=136 height=424 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe8390980) out=((VipsImage*) 0x7f1fe841c320) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe8390340) out=((VipsImage*) 0x7f1fe8390660) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7f1fe8390660) out=((VipsImage*) 0x7f1fe841c960) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fe8390660) out=((VipsImage*) 0x7f1fe841c7d0) -
vips cache : copy in=((VipsImage*) 0x7f1fe841c7d0) out=((VipsImage*) 0x7f1fe841cc80) -
vips cache+: cast in=((VipsImage*) 0x7f1fe841c7d0) out=((VipsImage*) 0x7f1fe841caf0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe841caf0) out=((VipsImage*) 0x7f1fe841ce10) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:107
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 318 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00021aa90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7f1fe844a010, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7f1fe844a010, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000254230, 0xc00021acb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00024aea0?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00021ae80, 0x897fc0?, 0xc000258ee0?, 0xc0002463b0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated(0xc00025e4e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:107 +0x12c
        	            	testing.tRunner(0xc00025e680, 0x6cb828)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated
--- FAIL: TestThumbnail_GIF_Animated (0.00s)
=== RUN   TestThumbnail_GIF_Animated_Force
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=-1,fail=TRUE]
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 1024
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 1024
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.78125
2023/10/14 10:56:43 [VIPS.info] reducev: 9 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:121
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 319 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00021aa90?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7f1fe84954d0, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7f1fe84954d0, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc000254280, 0xc00021acb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.exportGif.func1(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:929 +0x1d
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0xc00024b230?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00021ae80, 0x897fc0?, 0xc000259880?, 0xc000246658?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_Animated_Force(0xc00025e4e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:121 +0x12c
        	            	testing.tRunner(0xc00025e820, 0x6cb820)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_Animated_Force
--- FAIL: TestThumbnail_GIF_Animated_Force (0.00s)
=== RUN   TestThumbnail_GIF_ExportNative
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
1,fail=TRUE]" out=((VipsImage*) 0x7f1fe844a010) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe844a1a0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe844a1a0) n=8 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe844a1a0) out=((VipsImage*) 0x7f1fe844a330) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe844a330) out=((VipsImage*) 0x7f1fe844a650) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe844a330) out=((VipsImage*) 0x7f1fe844a4c0) -
vips cache : copy in=((VipsImage*) 0x7f1fe844a4c0) out=((VipsImage*) 0x7f1fe844a970) -
vips cache+: cast in=((VipsImage*) 0x7f1fe844a4c0) out=((VipsImage*) 0x7f1fe844a7e0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe844a7e0) out=((VipsImage*) 0x7f1fe844ac90) -
vips cache : copy in=((VipsImage*) 0x7f1fe844ac90) out=((VipsImage*) 0x7f1fe846b020) -
vips cache+: embed in=((VipsImage*) 0x7f1fe846b020) out=((VipsImage*) 0x7f1fe846b1b0) x=0 y=4 width=121 height=1033 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe846b340) out=((VipsImage*) 0x7f1fe846b660) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe846b340) out=((VipsImage*) 0x7f1fe846b4d0) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe844ac90) out=((VipsImage*) 0x7f1fe844ae20) vshrink=1.280000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe844ae20) out=((VipsImage*) 0x7f1fe846b980) -
vips cache+: embed in=((VipsImage*) 0x7f1fe846b980) out=((VipsImage*) 0x7f1fe846bb10) x=7 y=0 width=136 height=800 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe844ae20) out=((VipsImage*) 0x7f1fe846b7f0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe844a7e0) out=((VipsImage*) 0x7f1fe844ab00) vscale=0.781250 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7f1fe844ab00) out=((VipsImage*) 0x7f1fe846be30) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fe844ab00) out=((VipsImage*) 0x7f1fe846bca0) -
vips cache : copy in=((VipsImage*) 0x7f1fe846bca0) out=((VipsImage*) 0x7f1fe84951b0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe846bca0) out=((VipsImage*) 0x7f1fe8495020) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8495020) out=((VipsImage*) 0x7f1fe8495340) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=-1,fail=TRUE]" out=((VipsImage*) 0x7f1fe84954d0) width=50 height=100 size=((VipsSize) VIPS_SIZE_FORCE) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe8495660) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe84957f0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe84957f0) out=((VipsImage*) 0x7f1fe8495660) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe8495660) out=((VipsImage*) 0x7f1fe8495b10) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe8495660) out=((VipsImage*) 0x7f1fe8495980) -
vips cache : copy in=((VipsImage*) 0x7f1fe8495980) out=((VipsImage*) 0x7f1fe8495e30) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8495980) out=((VipsImage*) 0x7f1fe8495ca0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe842023/10/14 10:56:43 [VIPS.info] residual reducev by 0.414062
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
    image_golden_test.go:1006: 
        	Error Trace:	image_golden_test.go:1006
        	            				image_thumbnail_test.go:135
        	Error:      	Received unexpected error:
        	            	VipsOperation: class "gifsave_buffer" not found
        	            	
        	            	Stack:
        	            	goroutine 320 [running]:
        	            	runtime/debug.Stack()
        	            		/usr/local/go/src/runtime/debug/stack.go:24 +0x65
        	            	github.com/davidbyttow/govips/v2/vips.handleVipsError()
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:38 +0x57
        	            	github.com/davidbyttow/govips/v2/vips.handleSaveBufferError(0xc00021a8d8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/error.go:31 +0x25
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveToBuffer({0x7f1fe84c8980, 0x0, 0x5, 0x0, 0x0, 0x4b, 0x0, 0x0, 0x1, 0x0, ...})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:465 +0xb7
        	            	github.com/davidbyttow/govips/v2/vips.vipsSaveGIFToBuffer(0x7f1fe84c8980, {0x0, 0x4b, 0x0, 0x7, 0x8})
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/foreign.go:460 +0x15f
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportGIF(0xc0002542d0, 0x0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:966 +0xaf
        	            	github.com/davidbyttow/govips/v2/vips.(*ImageRef).ExportNative(0xc00021acb8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image.go:881 +0x1cd
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest.func3(0x7071b8?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:994 +0x19
        	            	github.com/davidbyttow/govips/v2/vips.goldenCreateTest(0x24?, {0x6a43ae, 0x1d}, 0x4f22e0?, 0xc00021ae80, 0x897fc0?, 0xc0024b22a0?, 0xc000246900?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_golden_test.go:1005 +0x13a
        	            	github.com/davidbyttow/govips/v2/vips.TestThumbnail_GIF_ExportNative(0xc00025e4e0?)
        	            		/home/x/fd/code/go-stuff/govips-manyids2/vips/image_thumbnail_test.go:135 +0x105
        	            	testing.tRunner(0xc00025e9c0, 0x6cb830)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10b
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x3ea
        	Test:       	TestThumbnail_GIF_ExportNative
--- FAIL: TestThumbnail_GIF_ExportNative (0.00s)
=== RUN   TestThumbnail_GIF_ExportWebP
2023/10/14 10:56:43 [govips.info] warning libvips already started
2023/10/14 10:56:43 [VIPS.info] thumbnailing ../resources/gif-animated.gif[n=3,fail=TRUE]
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifFile
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.414062
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
95ca0) out=((VipsImage*) 0x7f1fe84af1b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe84af1b0) out=((VipsImage*) 0x7f1fe84af4d0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe84af4d0) out=((VipsImage*) 0x7f1fe84af660) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe84af7f0) out=((VipsImage*) 0x7f1fe84afb10) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe84af7f0) out=((VipsImage*) 0x7f1fe84af980) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe84af1b0) out=((VipsImage*) 0x7f1fe84af340) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe84af340) out=((VipsImage*) 0x7f1fe84afe30) -
vips cache+: embed in=((VipsImage*) 0x7f1fe84afe30) out=((VipsImage*) 0x7f1fe84c8020) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe84af340) out=((VipsImage*) 0x7f1fe84afca0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe8495ca0) out=((VipsImage*) 0x7f1fe84af020) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7f1fe84af020) out=((VipsImage*) 0x7f1fe84c8340) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fe84af020) out=((VipsImage*) 0x7f1fe84c81b0) -
vips cache : copy in=((VipsImage*) 0x7f1fe84c81b0) out=((VipsImage*) 0x7f1fe84c8660) -
vips cache+: cast in=((VipsImage*) 0x7f1fe84c81b0) out=((VipsImage*) 0x7f1fe84c84d0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe84c84d0) out=((VipsImage*) 0x7f1fe84c87f0) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x7f1fe84c8980) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe84c8b10) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload filename="../resources/gif-animated.gif" out=((VipsImage*) 0x7f1fe84c8ca0) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail-on=((VipsFailOn) VIPS_FAIL_ON_NONE) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe84c8ca0) out=((VipsImage*) 0x7f1fe84c8e30) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe84c8e30) out=((VipsImage*) 0x7f1fe8506010) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe84c8e30) out=((VipsImage*) 0x7f1fe84c8b10) -
vips cache : copy in=((VipsImage*) 0x7f1fe84c8b10) out=((VipsImage*) 0x7f1fe8506330) -
vips cache+: cast in=((VipsImage*) 0x7f1fe84c8b10) out=((VipsImage*) 0x7f1fe85061a0) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe85061a0) out=((VipsImage*) 0x7f1fe8506650) -
vips cache : copy in=((VipsImage*) 0x7f1fe8506650) out=((VipsImage*) 0x7f1fe8506970) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8506970) out=((VipsImage*) 0x7f1fe8506b00) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8506c90) out=((VipsImage*) 0x7f1fe8531010) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8506c90) out=((VipsImage*) 0x7f1fe8506e20) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe8506650) out=((VipsImage*) 0x7f1fe85067e0) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe85067e0) out=((VipsImage*) 0x7f1fe8531330) -
vips cache+: embed in=((VipsImage*) 0x7f1fe8531330) out=((VipsImage*) 0x7f1fe85314c0) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe85067e0) out=((VipsImage*) 0x7f1fe85311a0) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
2023/10/14 10:56:43 [VIPS.info] thumbnailing 18146 bytes of data
2023/10/14 10:56:43 [VIPS.info] selected loader is VipsForeignLoadNsgifBuffer
2023/10/14 10:56:43 [VIPS.info] input size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] loading with factor 1 pre-shrink
2023/10/14 10:56:43 [VIPS.info] pre-shrunk size is 121 x 384
2023/10/14 10:56:43 [VIPS.info] converting to processing space srgb
2023/10/14 10:56:43 [VIPS.info] premultiplying alpha
2023/10/14 10:56:43 [VIPS.info] residual reducev by 0.414062
2023/10/14 10:56:43 [VIPS.info] reducev: 15 point mask
2023/10/14 10:56:43 [VIPS.info] reducev: using vector path
2023/10/14 10:56:43 [VIPS.info] reducev sequential line cache
2023/10/14 10:56:43 [VIPS.info] residual reduceh by 0.413223
2023/10/14 10:56:43 [VIPS.info] reduceh: 15 point mask
2023/10/14 10:56:43 [VIPS.info] unpremultiplying alpha
1fe85061a0) out=((VipsImage*) 0x7f1fe85064c0) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7f1fe85064c0) out=((VipsImage*) 0x7f1fe85317e0) -
vips cache+: unpremultiply in=((VipsImage*) 0x7f1fe85064c0) out=((VipsImage*) 0x7f1fe8531650) -
vips cache : copy in=((VipsImage*) 0x7f1fe8531650) out=((VipsImage*) 0x7f1fe8531b00) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8531650) out=((VipsImage*) 0x7f1fe8531970) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8531970) out=((VipsImage*) 0x7f1fe8531c90) -
vips cache : thumbnail filename="../resources/gif-animated.gif[n=3,fail=TRUE]" out=((VipsImage*) 0x7f1fe8531e20) width=50 height=70 size=((VipsSize) VIPS_SIZE_BOTH) crop=((VipsInteresting) VIPS_INTERESTING_NONE) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8531e20) out=((VipsImage*) 0x7f1fe8557000) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8557000) out=((VipsImage*) 0x7f1fe8557190) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8110b00) out=((VipsImage*) 0x7f1fe85577d0) tile-height=16 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8110b00) out=((VipsImage*) 0x7f1fe8557640) tile-height=16 -
vips cache+: profile_load name="none" profile=VIPS_TYPE_BLOB, data = (nil), length = 7727772457128258304 -
vips cache : webpsave_buffer in=((VipsImage*) 0x7f1fe8531e20) buffer=VIPS_TYPE_BLOB, data = 0x7f1fe8552d40, length = 4532 Q=75 lossless=FALSE profile="none" near-lossless=FALSE reduction-effort=4 strip=FALSE -
vips cache+: webpload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0024bc000, length = 4532 out=((VipsImage*) 0x7f1fe8557320) flags=((VipsForeignFlags) VIPS_FOREIGN_NONE) -
vips cache+: gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ab000, length = 18146 out=((VipsImage*) 0x7f1fe8557190) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) fail=TRUE -
vips cache : gifload_buffer buffer=VIPS_TYPE_BLOB, data = 0xc0002ab000, length = 18146 out=((VipsImage*) 0x7f1fe8557000) n=3 flags=((VipsForeignFlags) VIPS_FOREIGN_SEQUENTIAL) access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) fail=TRUE -
vips cache+: colourspace in=((VipsImage*) 0x7f1fe8557000) out=((VipsImage*) 0x7f1fe8557190) space=((VipsInterpretation) VIPS_INTERPRETATION_sRGB) -
vips cache : copy in=((VipsImage*) 0x7f1fe8557190) out=((VipsImage*) 0x7f1fe8557e10) -
vips cache+: premultiply in=((VipsImage*) 0x7f1fe8557190) out=((VipsImage*) 0x7f1fe8557c80) -
vips cache : copy in=((VipsImage*) 0x7f1fe8557c80) out=((VipsImage*) 0x7f1fe85651a0) -
vips cache+: cast in=((VipsImage*) 0x7f1fe8557c80) out=((VipsImage*) 0x7f1fe8565010) format=((VipsBandFormat) VIPS_FORMAT_UCHAR) -
vips cache : copy in=((VipsImage*) 0x7f1fe8565010) out=((VipsImage*) 0x7f1fe85654c0) -
vips cache : copy in=((VipsImage*) 0x7f1fe85654c0) out=((VipsImage*) 0x7f1fe85657e0) -
vips cache+: embed in=((VipsImage*) 0x7f1fe85657e0) out=((VipsImage*) 0x7f1fe8565970) x=0 y=7 width=121 height=399 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: linecache in=((VipsImage*) 0x7f1fe8565b00) out=((VipsImage*) 0x7f1fe8565e20) tile-height=10 access=((VipsAccess) VIPS_ACCESS_SEQUENTIAL) -
vips cache+: sequential in=((VipsImage*) 0x7f1fe8565b00) out=((VipsImage*) 0x7f1fe8565c90) tile-height=10 -
vips cache+: reducev in=((VipsImage*) 0x7f1fe85654c0) out=((VipsImage*) 0x7f1fe8565650) vshrink=2.415094 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache : copy in=((VipsImage*) 0x7f1fe8565650) out=((VipsImage*) 0x7f1fe857e190) -
vips cache+: embed in=((VipsImage*) 0x7f1fe857e190) out=((VipsImage*) 0x7f1fe857e320) x=7 y=0 width=136 height=159 extend=((VipsExtend) VIPS_EXTEND_COPY) -
vips cache+: reduceh in=((VipsImage*) 0x7f1fe8565650) out=((VipsImage*) 0x7f1fe857e000) hshrink=2.420000 kernel=((VipsKernel) VIPS_KERNEL_LANCZOS3) gap=2.000000 -
vips cache+: resize in=((VipsImage*) 0x7f1fe8565010) out=((VipsImage*) 0x7f1fe8565330) vscale=0.414062 scale=0.413223 -
vips cache : copy in=((VipsImage*) 0x7f1fe8565330) out=((VipsImage*) 0x7f1fe857e640) -
vips cache+: unpre2023/10/14 10:56:43 [VIPS.info] threadpool completed with 1 workers
--- PASS: TestThumbnail_GIF_ExportWebP (0.12s)
=== RUN   Test_DefaultLogging
2023/10/14 10:56:43 [govips.info] warning libvips already started
--- PASS: Test_DefaultLogging (0.00s)
=== RUN   Test_LoggingVerbosity
2023/10/14 10:56:43 [govips.info] warning libvips already started
--- PASS: Test_LoggingVerbosity (0.00s)
=== RUN   Test_LoggingHandler
--- PASS: Test_LoggingHandler (0.00s)
FAIL
FAIL	github.com/davidbyttow/govips/v2/vips	22.111s
2023/10/14 10:55:41 [VIPS.info] found /usr/local/lib/x86_64-linux-gnu/vips-modules-8.15
2023/10/14 10:55:41 [VIPS.info] using configure-time prefix
2023/10/14 10:55:41 [VIPS.info] VIPS_PREFIX = /usr/local
2023/10/14 10:55:41 [VIPS.info] VIPS_LIBDIR = /usr/local/lib/x86_64-linux-gnu
2023/10/14 10:55:41 [VIPS.info] prefix = /usr/local
2023/10/14 10:55:41 [VIPS.info] libdir = /usr/local/lib/x86_64-linux-gnu
2023/10/14 10:55:41 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15"
2023/10/14 10:55:41 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-magick.so"
2023/10/14 10:55:41 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-openslide.so"
2023/10/14 10:55:41 [VIPS.info] loading "/usr/local/lib/x86_64-linux-gnu/vips-modules-8.15/vips-poppler.so"
2023/10/14 10:55:41 [VIPS.info] searching "/usr/local/lib/x86_64-linux-gnu/vips-plugins-8.15"
2023/10/14 10:55:41 [govips.info] vips 8.15.0 started with concurrency=12 cache_max_files=0 cache_max_mem=0 cache_max=0
2023/10/14 10:55:41 [govips.info] registered image type loader type=svg
2023/10/14 10:55:41 [govips.info] registered image type loader type=tiff
2023/10/14 10:55:41 [govips.info] registered image type loader type=gif
2023/10/14 10:55:41 [govips.info] registered image type loader type=jpeg
2023/10/14 10:55:41 [govips.info] registered image type loader type=magick
2023/10/14 10:55:41 [govips.info] registered image type loader type=pdf
2023/10/14 10:55:41 [govips.info] registered image type loader type=png
2023/10/14 10:55:41 [govips.info] registered image type loader type=webp
2023/10/14 10:55:41 [govips.info] registered image type loader type=jp2k
=== RUN   TestMemoryLeak
2023/10/14 10:55:41 [govips.info] warning libvips already started
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 5 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 3 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 4 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 9 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 4 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 5 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 4 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 5 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 4 workers
2023/10/14 10:55:41 [VIPS.info] threadpool completed with 6 workers
    image_test.go:59: Memory usage: before 6220816, after 6220816, delta 0
--- PASS: TestMemoryLeak (0.13s)
PASS
ok  	github.com/davidbyttow/govips/v2/vips/mem_tests	(cached)
FAIL
